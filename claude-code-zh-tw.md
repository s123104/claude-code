# Claude Code å®˜æ–¹é©—è­‰ä½¿ç”¨æ‰‹å†Š ğŸ“š

> **ç¶“å®˜æ–¹æ–‡æª”é©—è­‰çš„å®Œæ•´ Claude Code ä¸­æ–‡æŒ‡å—**  
> æœ€å¾Œæ›´æ–°æ™‚é–“ï¼š2025-10-29T22:30:00+08:00  
> æ–‡ä»¶èªè¨€ï¼šç¹é«”ä¸­æ–‡  
> ç‰ˆæœ¬ï¼šv2.0.28 - 2025 å¹´ 10 æœˆæœ€æ–°ç‰ˆæœ¬ï¼ŒåŒ…å« Pluginsã€Agent Skillsã€Subagents å¤šä»£ç†å”ä½œç³»çµ±  
> GitHub ä½œè€…ï¼š[s123104](https://github.com/s123104) æ•´ç†
>
> **ğŸ¯ æœ¬æ‰‹å†Šç‰¹è‰²**
>
> - âœ… 100% å®˜æ–¹æ–‡æª”é©—è­‰
> - âœ… æ·±åº¦çµæ§‹åŒ–å…§å®¹
> - âœ… LLM æŸ¥è©¢å„ªåŒ–
> - âœ… è·¨å¹³å°å®Œæ•´æ”¯æ´

---

## ğŸš€ å¿«é€Ÿå°èˆª

### ä¾è§’è‰²å¿«é€Ÿé–‹å§‹

- **åˆå­¸è€…** â†’ [å®‰è£æŒ‡å—](#-å®‰è£æŒ‡å—) â†’ [åŸºç¤æ“ä½œ](#-åŸºç¤æ“ä½œ) â†’ [å¸¸ç”¨æŒ‡ä»¤](#-å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥)
- **é–‹ç™¼è€…** â†’ [CLI å®Œæ•´åƒè€ƒ](#-cli-å®Œæ•´åƒè€ƒ) â†’ [é€²éšåŠŸèƒ½](#-é€²éšåŠŸèƒ½) â†’ [æœ€ä½³å¯¦è¸](#-æœ€ä½³å¯¦è¸)
- **åœ˜éšŠç®¡ç†** â†’ [æ¬Šé™ç®¡ç†](#-æ¬Šé™ç®¡ç†) â†’ [å®‰å…¨æ§åˆ¶](#-å®‰å…¨æ§åˆ¶) â†’ [ä¼æ¥­éƒ¨ç½²](#-ä¼æ¥­éƒ¨ç½²)

### ä¾éœ€æ±‚å¿«é€ŸæŸ¥æ‰¾

- ğŸ” **æŸ¥æ‰¾æŒ‡ä»¤** â†’ [æŒ‡ä»¤ç´¢å¼•](#-æŒ‡ä»¤ç´¢å¼•)
- ğŸš© **æŸ¥æ‰¾åƒæ•¸** â†’ [åƒæ•¸åƒè€ƒ](#-åƒæ•¸å®Œæ•´åƒè€ƒ)
- â“ **è§£æ±ºå•é¡Œ** â†’ [ç–‘é›£æ’è§£](#-ç–‘é›£æ’è§£)
- ğŸŒŸ **å­¸ç¿’é€²éš** â†’ [å·¥ä½œæµç¨‹](#-å·¥ä½œæµç¨‹å¤§å…¨)

---

## ğŸ“‹ è©³ç´°ç›®éŒ„

### ğŸ¯ å°ˆæ¡ˆæ¦‚è¿°

- [å°ˆæ¡ˆç°¡ä»‹](#-å°ˆæ¡ˆç°¡ä»‹)
- [åŠŸèƒ½ç‰¹è‰²](#-åŠŸèƒ½ç‰¹è‰²)
- [ç‰ˆæœ¬è³‡è¨Š](#-ç‰ˆæœ¬è³‡è¨Š)

### ğŸš€ å¿«é€Ÿé–‹å§‹

- [å®‰è£æŒ‡å—](#-å®‰è£æŒ‡å—)
  - [ç’°å¢ƒéœ€æ±‚](#-ç’°å¢ƒéœ€æ±‚)
  - [å®˜æ–¹å®‰è£](#-å®˜æ–¹å®‰è£)
  - [å¹³å°å®‰è£](#-å¹³å°å®‰è£)
  - [å®‰è£é©—è­‰](#-å®‰è£é©—è­‰)
- [èªè­‰è¨­å®š](#-èªè­‰è¨­å®š)
- [åŸºç¤æ“ä½œ](#-åŸºç¤æ“ä½œ)

### ğŸ“– æŒ‡ä»¤åƒè€ƒ

- [æŒ‡ä»¤ç´¢å¼•](#-æŒ‡ä»¤ç´¢å¼•)
- [CLI å®Œæ•´åƒè€ƒ](#-cli-å®Œæ•´åƒè€ƒ)
- [åƒæ•¸å®Œæ•´åƒè€ƒ](#-åƒæ•¸å®Œæ•´åƒè€ƒ)
- [æ–œç·šå‘½ä»¤ç³»çµ±](#-æ–œç·šå‘½ä»¤ç³»çµ±)
- [å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥](#-å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥)

### ğŸ¤– Subagents å°ˆæ¥­ä»£ç†ç³»çµ±

- [Subagents æ¦‚è¿°](#-subagents-æ¦‚è¿°)
- [æ ¸å¿ƒé–‹ç™¼ä»£ç†](#-æ ¸å¿ƒé–‹ç™¼ä»£ç†)
- [èªè¨€å°ˆå®¶ä»£ç†](#-èªè¨€å°ˆå®¶ä»£ç†)
- [åŸºç¤è¨­æ–½ä»£ç†](#-åŸºç¤è¨­æ–½ä»£ç†)
- [å“è³ªèˆ‡å®‰å…¨ä»£ç†](#-å“è³ªèˆ‡å®‰å…¨ä»£ç†)
- [è³‡æ–™èˆ‡ AI ä»£ç†](#-è³‡æ–™èˆ‡aiä»£ç†)
- [ä»£ç†é¸æ“‡æŒ‡å—](#-ä»£ç†é¸æ“‡æŒ‡å—)

### ğŸ¯ å¯¦æˆ°æ‡‰ç”¨

- [å·¥ä½œæµç¨‹å¤§å…¨](#-å·¥ä½œæµç¨‹å¤§å…¨)
- [é€²éšåŠŸèƒ½](#-é€²éšåŠŸèƒ½)
- [æœ€ä½³å¯¦è¸](#-æœ€ä½³å¯¦è¸)
- [æ¬Šé™ç®¡ç†](#-æ¬Šé™ç®¡ç†)
- [å®‰å…¨æ§åˆ¶](#-å®‰å…¨æ§åˆ¶)
- [ä¼æ¥­éƒ¨ç½²](#-ä¼æ¥­éƒ¨ç½²)

### ğŸ”§ å•é¡Œè§£æ±º

- [ç–‘é›£æ’è§£](#-ç–‘é›£æ’è§£)
- [å¸¸è¦‹å•é¡Œ](#-å¸¸è¦‹å•é¡Œ)
- [æ•ˆèƒ½å„ªåŒ–](#-æ•ˆèƒ½å„ªåŒ–)

### ğŸ“š å»¶ä¼¸è³‡æº

- [å®˜æ–¹è³‡æº](#-å®˜æ–¹è³‡æº)
- [æ›´æ–°è¨˜éŒ„](#-æ›´æ–°è¨˜éŒ„)

---

## ğŸ¯ å°ˆæ¡ˆç°¡ä»‹

æœ¬æ‰‹å†Šæ˜¯ä¸€ä»½**ç¶“éå®˜æ–¹æ–‡æª”å®Œæ•´é©—è­‰**çš„ Claude Code ä¸­æ–‡ä½¿ç”¨æŒ‡å—ï¼Œæ‰€æœ‰åŠŸèƒ½ã€æŒ‡ä»¤èˆ‡åƒæ•¸å‡å·²é€é Anthropic å®˜æ–¹æ–‡æª”äº¤å‰æ¯”å°ç¢ºèªã€‚æ¶µè“‹å¾åŸºç¤å®‰è£åˆ°é€²éšåŠŸèƒ½ã€å¾æ—¥å¸¸é–‹ç™¼åˆ°ä¼æ¥­éƒ¨ç½²çš„å®Œæ•´æµç¨‹ã€‚

### ğŸ“‹ å®˜æ–¹é©—è­‰èªªæ˜

**é©—è­‰ä¾æ“š**ï¼š

- Anthropic å®˜æ–¹ CLI Reference (2025-08-07)
- Claude Code å®˜æ–¹æ–‡æª” (docs.anthropic.com)
- å®˜æ–¹ GitHub å€‰åº«æœ€æ–°è³‡è¨Š
- VoltAgent Subagents ç”Ÿæ…‹ç³»çµ±

**ä¿ç•™ä½†æ¨™è¨»é™åˆ¶**ï¼š

- `--system-prompt`ã€`--append-system-prompt`ï¼šåƒ…é™ SDK ä¸­çš„ print mode ä½¿ç”¨

### åŠŸèƒ½ç‰¹è‰²

- **ğŸŒ å…¨ç¹é«”ä¸­æ–‡åŒ–**ï¼šç¬¦åˆè¯èªä½¿ç”¨è€…ç¿’æ…£
- **ğŸ“‹ å®˜æ–¹é©—è­‰å…§å®¹**ï¼š100% åŸºæ–¼å®˜æ–¹æ–‡æª”
- **âš¡ å¯¦æˆ°å°å‘**ï¼šåŒ…å«å¯¦ç”¨ç¯„ä¾‹å’Œæœ€ä½³å¯¦è¸
- **ğŸ”„ æŒçºŒæ›´æ–°**ï¼šè·Ÿéš¨å®˜æ–¹ç‰ˆæœ¬åŒæ­¥
- **ğŸ“± å®Œæ•´æŒ‡ä»¤åƒè€ƒ**ï¼šæ•´åˆæœ€æ–° CLI é¸é …å’ŒåŠŸèƒ½

---

## ğŸš€ å®‰è£æŒ‡å—

### ğŸ”§ ç’°å¢ƒéœ€æ±‚

#### ç³»çµ±éœ€æ±‚

| é …ç›®         | æœ€ä½éœ€æ±‚                                 | æ¨è–¦é…ç½®        | å‚™è¨»                        |
| ------------ | ---------------------------------------- | --------------- | --------------------------- |
| **ä½œæ¥­ç³»çµ±** | macOS 10.15+, Ubuntu 20.04+, Windows 10+ | æœ€æ–°ç‰ˆæœ¬        | Windows æ”¯æ´åŸç”Ÿ + Git Bash |
| **Node.js**  | 18.0+                                    | LTS ç‰ˆæœ¬ (20.x) | å»ºè­°ä½¿ç”¨ nvm ç®¡ç†           |
| **è¨˜æ†¶é«”**   | 4GB+                                     | 8GB+            | å¤§å‹å°ˆæ¡ˆéœ€è¦æ›´å¤šè¨˜æ†¶é«”      |
| **ç£ç¢Ÿç©ºé–“** | 1GB+                                     | 2GB+            | åŒ…å«æ¨¡å‹ç·©å­˜èˆ‡æ­·å²è¨˜éŒ„      |
| **ç¶²è·¯**     | ç©©å®šé€£ç·š                                 | ä½å»¶é²å¯¬é »      | éœ€é€£ç·š Anthropic API        |

#### æ”¯æ´çš„ Shell

- **æ¨è–¦**ï¼šBash 4.0+, Zsh 5.0+, Fish 3.0+
- **Windows**ï¼šGit Bashï¼ˆæ¨è–¦ï¼‰, WSL2
- **PowerShell**ï¼šåŸºæœ¬æ”¯æ´ï¼Œä½†éƒ¨åˆ†äº’å‹•åŠŸèƒ½åœ¨ Bash ä¸‹è¡¨ç¾æ›´ä½³

### ğŸ“¦ å®˜æ–¹å®‰è£

#### å®˜æ–¹æ¨è–¦å®‰è£æ–¹å¼

**æ–¹å¼ä¸€ï¼šæ¨™æº– npm å®‰è£ï¼ˆæ¨è–¦ï¼‰ï¼š**

```bash
# é€é npm å…¨åŸŸå®‰è£
npm install -g @anthropic-ai/claude-code
```

**é‡è¦æé†’**ï¼š

- å®˜æ–¹å»ºè­°å‹¿ä½¿ç”¨ sudo
- npm å®‰è£éœ€è¦ Node.js 18.0+

#### æ‰‹å‹•å®‰è£

**æ­¥é©Ÿ 1ï¼šå®‰è£ Node.js**

```bash
# macOS (ä½¿ç”¨ Homebrew)
brew install node

# Ubuntu/Debian
sudo apt update && sudo apt install -y nodejs npm

# ä½¿ç”¨ nvm ç®¡ç†ç‰ˆæœ¬ï¼ˆæ¨è–¦ï¼‰
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
source ~/.bashrc
nvm install --lts
```

**æ­¥é©Ÿ 2ï¼šå®‰è£ Claude Code**

```bash
npm install -g @anthropic-ai/claude-code
claude --version
```

### ğŸ–¥ï¸ å¹³å°å®‰è£

#### Windows åŸç”Ÿå®‰è£

**æ­¥é©Ÿ 1ï¼šå®‰è£ Git for Windows**

```powershell
# ä½¿ç”¨ winget å®‰è£
winget install --id Git.Git -e --source winget
```

**æ­¥é©Ÿ 2ï¼šå®‰è£ Node.js**

```powershell
# ä½¿ç”¨ winget å®‰è£ LTS ç‰ˆæœ¬
winget install --id OpenJS.NodeJS.LTS -e --source winget
```

**æ­¥é©Ÿ 3ï¼šå®‰è£ Claude Code**

```powershell
npm install -g @anthropic-ai/claude-code
```

**æ­¥é©Ÿ 4ï¼šè¨­å®š Git Bash è·¯å¾‘ï¼ˆå¦‚éœ€è¦ï¼‰**

```powershell
[Environment]::SetEnvironmentVariable(
    "CLAUDE_CODE_GIT_BASH_PATH",
    "C:\Program Files\Git\bin\bash.exe",
    "User"
)
```

#### macOS

```bash
brew install node
npm install -g @anthropic-ai/claude-code
```

#### Linux (Ubuntu/Debian)

```bash
sudo apt update && sudo apt install -y nodejs npm
npm install -g @anthropic-ai/claude-code
```

### ğŸ“ å®‰è£é©—è­‰

#### åŸºæœ¬é©—è­‰

```bash
# 1. æª¢æŸ¥ç‰ˆæœ¬
node --version  # æ‡‰é¡¯ç¤º v18.x.x æˆ–æ›´æ–°
npm --version   # æ‡‰é¡¯ç¤ºç›¸å®¹ç‰ˆæœ¬

# 2. æª¢æŸ¥ Claude Code
claude --version
claude doctor   # å¥åº·æª¢æŸ¥

# 3. æ¸¬è©¦åŸºæœ¬åŠŸèƒ½
claude -p "Hello, Claude Code!"
```

#### å®‰è£å•é¡Œæ’è§£

**æ¬Šé™å•é¡Œï¼š**

```bash
# é¿å…ä½¿ç”¨ sudoï¼Œæ”¹è®Š npm ç›®éŒ„
npm config set prefix ~/.npm-global
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc

# æˆ–ä½¿ç”¨å®˜æ–¹é·ç§»å·¥å…·
claude migrate-installer
```

---

## ğŸ” èªè­‰è¨­å®š

### èªè­‰æ–¹å¼çŸ©é™£

| èªè­‰æ–¹å¼                        | é©ç”¨å ´æ™¯           | è¨­å®šæ–¹å¼                   | å‚™è¨»             |
| ------------------------------- | ------------------ | -------------------------- | ---------------- |
| **Anthropic Console OAuth**     | å€‹äººé–‹ç™¼ã€å®Œæ•´åŠŸèƒ½ | `claude`ï¼ˆè‡ªå‹•é–‹å•Ÿç€è¦½å™¨ï¼‰ | æ¨è–¦æ–¹å¼ï¼Œéœ€ä»˜è²» |
| **Claude App Pro/Max**          | Pro/Max è¨‚é–±ç”¨æˆ¶   | æ‡‰ç”¨ç¨‹å¼å…§èªè­‰             | çµ±ä¸€è¨‚é–±æ–¹æ¡ˆ     |
| **Enterprise (Bedrock/Vertex)** | ä¼æ¥­éƒ¨ç½²           | é›²ç«¯å¹³å° IAM è¨­å®š          | ä¼æ¥­ç´šåŸºç¤è¨­æ–½   |
| **API Key**                     | è‡ªå‹•åŒ–ã€è…³æœ¬ä½¿ç”¨   | ç’°å¢ƒè®Šæ•¸                   | é©åˆ CI/CD       |

### HTTP ç¶²é èªè­‰ï¼ˆæ¨è–¦ï¼‰

```bash
# é¦–æ¬¡ä½¿ç”¨å»ºè­°é€éç¶²é èªè­‰
claude                   # è‡ªå‹•é–‹å•Ÿç€è¦½å™¨ç™»å…¥é é¢
claude auth login        # é¡¯å¼ç™»å…¥æŒ‡ä»¤
claude auth status       # æª¢æŸ¥ç™»å…¥ç‹€æ…‹

# æ‰‹å‹•å‰å¾€ï¼šhttps://console.anthropic.com/login
```

### API Token èªè­‰

```bash
# è¨­å®š API Key ç’°å¢ƒè®Šæ•¸
export ANTHROPIC_API_KEY="sk-ant-apiXX-XXXXXXX"

# æ°¸ä¹…ä¿å­˜è‡³ shell é…ç½®
echo 'export ANTHROPIC_API_KEY="sk-ant-apiXX-XXXXXXX"' >> ~/.bashrc
source ~/.bashrc

# æ¸¬è©¦é€£ç·š
claude -p "Hello, Claude Code!"
```

---

## ğŸš€ åŸºç¤æ“ä½œ

### å•Ÿå‹•æ–¹å¼

```bash
# å•Ÿå‹•äº’å‹• REPL
claude

# å¸¶åˆå§‹æç¤ºå•Ÿå‹•
claude "explain this project"

# éäº’å‹•æŸ¥è©¢
claude -p "explain this function"

# ç¹¼çºŒæœ€è¿‘å°è©±
claude -c

# è™•ç†ç®¡é“è¼¸å…¥
cat logs.txt | claude -p "explain"
```

### åŸºæœ¬å‘½ä»¤

| æŒ‡ä»¤                | åŠŸèƒ½         | ç¯„ä¾‹                       |
| ------------------- | ------------ | -------------------------- |
| `claude`            | å•Ÿå‹•äº’å‹•æ¨¡å¼ | `claude`                   |
| `claude "query"`    | å¸¶æç¤ºå•Ÿå‹•   | `claude "åˆ†æé€™å€‹å°ˆæ¡ˆ"`    |
| `claude -p "query"` | éäº’å‹•æŸ¥è©¢   | `claude -p "è§£é‡‹é€™å€‹å‡½æ•¸"` |
| `claude -c`         | ç¹¼çºŒå°è©±     | `claude -c`                |
| `claude update`     | æ›´æ–°ç‰ˆæœ¬     | `claude update`            |
| `claude doctor`     | å¥åº·æª¢æŸ¥     | `claude doctor`            |

### é›¢é–‹æ–¹å¼

- **äº’å‹•æ¨¡å¼**ï¼šè¼¸å…¥ `exit` æˆ–æŒ‰ `Ctrl+C`
- **éäº’å‹•æ¨¡å¼**ï¼šè‡ªå‹•é€€å‡º

#### èƒŒæ™¯å‘½ä»¤èˆ‡ç‹€æ…‹åˆ—

- **èƒŒæ™¯å‘½ä»¤ï¼ˆCtrl-bï¼‰**ï¼šåœ¨äº’å‹•æ¨¡å¼ä¸­æŒ‰ `Ctrl-b`ï¼Œå¯å°‡ç•¶å‰ Bash æŒ‡ä»¤æ”¹ç‚ºèƒŒæ™¯åŸ·è¡Œï¼ŒClaude å¯åŒæ™‚æŒçºŒå·¥ä½œï¼ˆé©åˆå•Ÿå‹• dev serverã€tail logs ç­‰ï¼‰ã€‚
- **è‡ªè¨‚ç‹€æ…‹åˆ—ï¼ˆ/statuslineï¼‰**ï¼šä»¥æ–œç·šæŒ‡ä»¤ `/statusline` å°‡æ‚¨çš„çµ‚ç«¯æç¤ºï¼ˆpromptï¼‰æ•´åˆé€² Claude Code ç‹€æ…‹åˆ—ã€‚

---

## ğŸ” æŒ‡ä»¤ç´¢å¼•

### åŸºæœ¬æ“ä½œ

- `claude` - å•Ÿå‹•äº’å‹•æ¨¡å¼
- `claude "query"` - å¸¶æç¤ºå•Ÿå‹•
- `claude -p "query"` - éäº’å‹•æŸ¥è©¢
- `claude -c` - ç¹¼çºŒå°è©±
- `claude -r "<session-id>" "query"` - æ¢å¾©ç‰¹å®šæœƒè©±

### ç³»çµ±ç®¡ç†

- `claude update` - æ›´æ–°ç‰ˆæœ¬
- `claude doctor` - å¥åº·æª¢æŸ¥
- `claude migrate-installer` - é·ç§»å®‰è£å™¨

### MCP ç®¡ç†

- `claude mcp list` - åˆ—å‡ºä¼ºæœå™¨
- `claude mcp add` - æ–°å¢ä¼ºæœå™¨
- `claude mcp remove` - ç§»é™¤ä¼ºæœå™¨

---

## ğŸ“– CLI å®Œæ•´åƒè€ƒ

### åŸºæœ¬æŒ‡ä»¤

| æŒ‡ä»¤                               | æè¿°                | ç¯„ä¾‹                                   |
| ---------------------------------- | ------------------- | -------------------------------------- |
| `claude`                           | å•Ÿå‹•äº’å‹• REPL       | `claude`                               |
| `claude "query"`                   | å¸¶åˆå§‹æç¤ºå•Ÿå‹• REPL | `claude "explain this project"`        |
| `claude -p "query"`                | SDK æŸ¥è©¢å¾Œé€€å‡º      | `claude -p "explain this function"`    |
| `cat file \| claude -p "query"`    | è™•ç†ç®¡é“å…§å®¹        | `cat logs.txt \| claude -p "explain"`  |
| `claude -c`                        | ç¹¼çºŒæœ€è¿‘å°è©±        | `claude -c`                            |
| `claude -c -p "query"`             | é€é SDK ç¹¼çºŒ       | `claude -c -p "Check for type errors"` |
| `claude -r "<session-id>" "query"` | æŒ‰ ID æ¢å¾©æœƒè©±      | `claude -r "abc123" "Finish this PR"`  |
| `claude update`                    | æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬      | `claude update`                        |
| `claude mcp`                       | é…ç½® MCP ä¼ºæœå™¨     | è¦‹ [MCP æ–‡æª”](#mcp-ç®¡ç†)               |

---

## ğŸš© åƒæ•¸å®Œæ•´åƒè€ƒ

### åŸºæœ¬æ§åˆ¶åƒæ•¸

| åƒæ•¸         | çŸ­åƒæ•¸ | æè¿°                   | ç¯„ä¾‹                             |
| ------------ | ------ | ---------------------- | -------------------------------- |
| `--print`    | `-p`   | éäº’å‹•æ¨¡å¼ï¼ŒæŸ¥è©¢å¾Œé€€å‡º | `claude -p "è§£é‡‹ç¨‹å¼ç¢¼"`         |
| `--continue` | `-c`   | ç¹¼çºŒæœ€è¿‘å°è©±           | `claude -c "ç¹¼çºŒè¨è«–"`           |
| `--resume`   |        | æ¢å¾©ç‰¹å®šæœƒè©±           | `claude --resume abc123 "query"` |
| `--help`     | `-h`   | é¡¯ç¤ºå¹«åŠ©               | `claude --help`                  |
| `--version`  | `-v`   | é¡¯ç¤ºç‰ˆæœ¬               | `claude --version`               |

### æ¨¡å‹èˆ‡è¼¸å‡ºæ§åˆ¶

| åƒæ•¸              | æè¿°       | å¯ç”¨é¸é …                                     | ç¯„ä¾‹                   |
| ----------------- | ---------- | -------------------------------------------- | ---------------------- |
| `--model`         | æŒ‡å®šæ¨¡å‹   | `sonnet`, `opus`, `claude-sonnet-4-20250514` | `--model sonnet`       |
| `--output-format` | è¼¸å‡ºæ ¼å¼   | `text`, `json`, `stream-json`                | `--output-format json` |
| `--input-format`  | è¼¸å…¥æ ¼å¼   | `text`, `stream-json`                        | `--input-format text`  |
| `--verbose`       | è©³ç´°è¼¸å‡º   | ç„¡åƒæ•¸                                       | `claude --verbose`     |
| `--max-turns`     | æœ€å¤§å›åˆæ•¸ | æ•¸å­—                                         | `--max-turns 3`        |

### å®‰å…¨èˆ‡æ¬Šé™æ§åˆ¶

| åƒæ•¸                             | æè¿°            | èªæ³•æ ¼å¼             | ç¯„ä¾‹                                         |
| -------------------------------- | --------------- | -------------------- | -------------------------------------------- |
| `--allowedTools`                 | å…è¨±çš„å·¥å…·      | å·¥å…·æ¸…å–®             | `--allowedTools "Edit" "View" "Bash(git:*)"` |
| `--disallowedTools`              | ç¦ç”¨çš„å·¥å…·      | å·¥å…·æ¸…å–®             | `--disallowedTools "Bash"`                   |
| `--permission-mode`              | æ¬Šé™æ¨¡å¼        | `plan`, `always-ask` | `--permission-mode plan`                     |
| `--permission-prompt-tool`       | æ¬Šé™è™•ç†å·¥å…·    | MCP å·¥å…·åç¨±         | `--permission-prompt-tool mcp_auth_tool`     |
| `--dangerously-skip-permissions` | âš ï¸ è·³éæ¬Šé™æª¢æŸ¥ | ç„¡åƒæ•¸               | `--dangerously-skip-permissions`             |

### ç³»çµ±è¨­å®š

| åƒæ•¸                   | æè¿°                        | ç¯„ä¾‹                                 |
| ---------------------- | --------------------------- | ------------------------------------ |
| `--add-dir`            | æ·»åŠ å·¥ä½œç›®éŒ„                | `--add-dir ../apps ../lib`           |
| `--settings`           | å¾ JSON æª”è¼‰å…¥è¨­å®š          | `--settings ./project-settings.json` |
| `--system-prompt-file` | è¦†å¯« print æ¨¡å¼çš„ç³»çµ±æç¤ºæª” | `--system-prompt-file ./sys.md`      |

### SDK å°ˆç”¨åƒæ•¸ï¼ˆåƒ…é™ Print Modeï¼‰

| åƒæ•¸                     | æè¿°         | ç¯„ä¾‹                                             |
| ------------------------ | ------------ | ------------------------------------------------ |
| `--system-prompt`        | è¦†è“‹ç³»çµ±æç¤º | `claude -p "æŸ¥è©¢" --system-prompt "æ‚¨æ˜¯å°ˆå®¶"`    |
| `--append-system-prompt` | é™„åŠ ç³»çµ±æç¤º | `claude -p "æŸ¥è©¢" --append-system-prompt "é¡å¤–"` |

**æ³¨æ„**ï¼šé€™äº›åƒæ•¸åƒ…åœ¨ SDK çš„ print mode (`-p`) ä¸­æœ‰æ•ˆï¼Œä¸é©ç”¨æ–¼äº’å‹•æ¨¡å¼ã€‚

### æµå¼è¼¸å‡ºåŠŸèƒ½ (2025 å¹´ 8 æœˆæ–°å¢)

**`--output-format=stream-json`** æä¾›å³æ™‚æµå¼ JSON è¼¸å‡ºï¼Œé©ç”¨æ–¼ï¼š

- **å³æ™‚å›æ‡‰è™•ç†**ï¼šé‚Šæ¥æ”¶é‚Šè™•ç†çµæœ
- **é•·æ™‚é–“ä»»å‹™ç›£æ§**ï¼šå¯¦æ™‚è¿½è¹¤é€²åº¦
- **ç¨‹å¼åŒ–æ•´åˆ**ï¼šèˆ‡å…¶ä»–å·¥å…·éˆç„¡ç¸«æ•´åˆ

```bash
# åŸºæœ¬æµå¼è¼¸å‡º
claude -p "å»ºç«‹å¤§å‹æ‡‰ç”¨ç¨‹å¼" --output-format stream-json

# çµåˆæµå¼è¼¸å…¥èˆ‡è¼¸å‡º
echo '{"type":"user","message":{"role":"user","content":[{"type":"text","text":"åˆ†æç¨‹å¼ç¢¼"}]}}' | \
  claude -p --output-format=stream-json --input-format=stream-json

# ç®¡é“è™•ç†æµå¼è¼¸å‡º
claude -p "å„ªåŒ–é€™å€‹æª”æ¡ˆ" --output-format stream-json | jq '.result'
```

**æµå¼è¼¸å‡ºæ ¼å¼**ï¼š

```json
{
  "type": "result",
  "subtype": "partial",
  "content": "éƒ¨åˆ†å›æ‡‰å…§å®¹...",
  "session_id": "abc123"
}
```

### åƒæ•¸çµ„åˆç¯„ä¾‹

```bash
# è…³æœ¬åŒ–æŸ¥è©¢
claude -p "åˆ†æç¨‹å¼ç¢¼" --output-format json --model sonnet

# å®‰å…¨æ¨¡å¼é–‹ç™¼
claude --allowedTools "Edit" "View" --permission-mode plan

# é™¤éŒ¯æ¨¡å¼
claude --verbose --max-turns 3

# SDK ç³»çµ±æç¤ºç¯„ä¾‹
claude -p "å»ºç«‹ API" --system-prompt "æ‚¨æ˜¯å¾Œç«¯æ¶æ§‹å¸«ï¼Œå°ˆæ³¨å®‰å…¨æ€§èˆ‡æ•ˆèƒ½"

# æµå¼è¼¸å‡ºç¯„ä¾‹
claude -p "é‡æ§‹é€™å€‹æ¨¡çµ„" --output-format stream-json --verbose
```

---

## ğŸ”€ æ–œç·šå‘½ä»¤ç³»çµ±

### åŸºæœ¬å‘½ä»¤

| å‘½ä»¤     | åŠŸèƒ½     | èªæ³•              | ç¯„ä¾‹                    |
| -------- | -------- | ----------------- | ----------------------- |
| `/help`  | é¡¯ç¤ºå¹«åŠ© | `/help [command]` | `/help`, `/help memory` |
| `/clear` | æ¸…é™¤æ­·å² | `/clear`          | `/clear`                |

### å°ˆæ¡ˆç®¡ç†

| å‘½ä»¤       | åŠŸèƒ½       | èªæ³•                          | ç¯„ä¾‹                 |
| ---------- | ---------- | ----------------------------- | -------------------- |
| `/init`    | åˆå§‹åŒ–å°ˆæ¡ˆ | `/init`                       | `/init`              |
| `/memory`  | è¨˜æ†¶é«”ç®¡ç† | `/memory [view\|edit\|clear]` | `/memory view`       |
| `/add-dir` | æ·»åŠ ç›®éŒ„   | `/add-dir <path>`             | `/add-dir ../shared` |

### ç³»çµ±ç®¡ç†

| å‘½ä»¤              | åŠŸèƒ½         | èªæ³•                       | ç¯„ä¾‹              |
| ----------------- | ------------ | -------------------------- | ----------------- |
| `/config`         | é…ç½®ç®¡ç†     | `/config [list\|set\|get]` | `/config list`    |
| `/doctor`         | å¥åº·æª¢æŸ¥     | `/doctor`                  | `/doctor`         |
| `/status`         | ç‹€æ…‹æŸ¥è©¢     | `/status`                  | `/status`         |
| `/cost`           | æˆæœ¬æŸ¥è©¢     | `/cost`                    | `/cost`           |
| `/approved-tools` | ç®¡ç†å·¥å…·æ¬Šé™ | `/approved-tools [æ“ä½œ]`   | `/approved-tools` |
| `/release-notes`  | æŸ¥çœ‹ç‰ˆæœ¬æ›´æ–° | `/release-notes [version]` | `/release-notes`  |

### å¸³æˆ¶ç®¡ç†

| å‘½ä»¤      | åŠŸèƒ½     | èªæ³•      | ç¯„ä¾‹      |
| --------- | -------- | --------- | --------- |
| `/login`  | ç™»å…¥ç®¡ç† | `/login`  | `/login`  |
| `/logout` | ç™»å‡ºå¸³æˆ¶ | `/logout` | `/logout` |

### æ¨¡å‹èˆ‡æ¬Šé™

| å‘½ä»¤           | åŠŸèƒ½     | èªæ³•                               | ç¯„ä¾‹                |
| -------------- | -------- | ---------------------------------- | ------------------- |
| `/model`       | æ¨¡å‹ç®¡ç† | `/model [list\|set]`               | `/model list`       |
| `/permissions` | æ¬Šé™ç®¡ç† | `/permissions [view\|allow\|deny]` | `/permissions view` |

### MCP ç®¡ç†

| å‘½ä»¤   | åŠŸèƒ½             | èªæ³•                                | ç¯„ä¾‹        |
| ------ | ---------------- | ----------------------------------- | ----------- |
| `/mcp` | MCP ç®¡ç†èˆ‡ OAuth | `/mcp [list\|add\|remove\|restart]` | `/mcp list` |

### é–‹ç™¼å·¥å…·

| å‘½ä»¤           | åŠŸèƒ½        | èªæ³•                     | ç¯„ä¾‹                      |
| -------------- | ----------- | ------------------------ | ------------------------- |
| `/review`      | ç¨‹å¼ç¢¼å¯©æŸ¥  | `/review <path>`         | `/review src/`            |
| `/compact`     | å£“ç¸®å°è©±    | `/compact [description]` | `/compact "ä¿ç•™æ ¸å¿ƒè¨è«–"` |
| `/bug`         | å•é¡Œå›å ±    | `/bug`                   | `/bug`                    |
| `/pr_comments` | PR è©•è«–æŸ¥çœ‹ | `/pr_comments`           | `/pr_comments`            |
| `/agents`      | å­ä»£ç†ç®¡ç†  | `/agents`                | `/agents`                 |
| `/export`      | å°è©±åŒ¯å‡º    | `/export`                | `/export`                 |
| `/rewind`      | å›é€€ç¨‹å¼ç¢¼/å°è©± | `/rewind`            | `/rewind`                 |

### Plugin èˆ‡é€²éšåŠŸèƒ½

| å‘½ä»¤              | åŠŸèƒ½                   | èªæ³•                          | ç¯„ä¾‹                    |
| ----------------- | ---------------------- | ----------------------------- | ----------------------- |
| `/plugin`         | å¤–æ›ç®¡ç†               | `/plugin [æ“ä½œ]`              | `/plugin`               |
| `/sandbox`        | å•Ÿç”¨æ²™ç®±éš”é›¢           | `/sandbox`                    | `/sandbox`              |
| `/usage`          | æŸ¥çœ‹æ–¹æ¡ˆä½¿ç”¨é™åˆ¶       | `/usage`                      | `/usage`                |
| `/context`        | æŸ¥çœ‹ä¸Šä¸‹æ–‡ä½¿ç”¨æƒ…æ³     | `/context`                    | `/context`              |
| `/output-style`   | åˆ‡æ›è¼¸å‡ºæ¨£å¼           | `/output-style [style]`       | `/output-style explanatory` |
| `/statusline`     | é…ç½®ç‹€æ…‹åˆ—             | `/statusline`                 | `/statusline`           |

### ç·¨è¼¯å™¨æ•´åˆ

| å‘½ä»¤              | åŠŸèƒ½                        | èªæ³•              | ç¯„ä¾‹              | æè¿°                      |
| ----------------- | --------------------------- | ----------------- | ----------------- | ------------------------- |
| `/vim`            | Vim ç·¨è¼¯æ¨¡å¼                | `/vim`            | `/vim`            | å•Ÿç”¨ Vim é¢¨æ ¼çš„éµç›¤ç¶å®š   |
| `/terminal-setup` | çµ‚ç«¯æ©Ÿè¨­å®š                  | `/terminal-setup` | `/terminal-setup` | è‡ªå‹•é…ç½® Shift+Enter æ›è¡Œ |
| `/terminal-setup` | çµ‚ç«¯æ©Ÿè¨­å®šï¼ˆiTerm2/VSCodeï¼‰ | `/terminal-setup` | `/terminal-setup` | å®‰è£ Shift+Enter ç‚ºæ›è¡Œ   |

### æ–°å¢åŠŸèƒ½æŒ‡ä»¤ (2025 å¹´ 8 æœˆ)

| å‘½ä»¤              | åŠŸèƒ½         | èªæ³•                     | ç¯„ä¾‹                  | ç‰ˆæœ¬  |
| ----------------- | ------------ | ------------------------ | --------------------- | ----- |
| `/approved-tools` | å·¥å…·æ¬Šé™ç®¡ç† | `/approved-tools [æ“ä½œ]` | `/approved-tools add` | v6.0+ |
| `/release-notes`  | ç‰ˆæœ¬æ›´æ–°èªªæ˜ | `/release-notes [ç‰ˆæœ¬]`  | `/release-notes`      | v6.0+ |

#### æ–°æŒ‡ä»¤è©³ç´°èªªæ˜

**`/approved-tools` - å·¥å…·æ¬Šé™ç®¡ç†**

```bash
# æŸ¥çœ‹å·²æ‰¹å‡†çš„å·¥å…·
> /approved-tools list

# æ·»åŠ æ–°çš„æ‰¹å‡†å·¥å…·
> /approved-tools add Edit Write

# ç§»é™¤æ‰¹å‡†å·¥å…·
> /approved-tools remove Bash
```

**`/release-notes` - ç‰ˆæœ¬æ›´æ–°èªªæ˜**

```bash
# æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬æ›´æ–°
> /release-notes

# æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬æ›´æ–°
> /release-notes v6.0.0
```

---

## ğŸ¤– Subagents å°ˆæ¥­ä»£ç†ç³»çµ±

### Subagents æ¦‚è¿°

Claude Code çš„ Subagents ç³»çµ±æ˜¯ä¸€å€‹é©å‘½æ€§çš„å¤šä»£ç†å”ä½œæ¡†æ¶ï¼Œå…è¨±è¤‡é›œä»»å‹™è¢«åˆ†è§£ä¸¦åˆ†æ´¾çµ¦é«˜åº¦å°ˆæ¥­åŒ–çš„ AI ä»£ç†ã€‚æ¯å€‹ Subagent éƒ½å…·å‚™ç‰¹å®šé ˜åŸŸçš„æ·±åº¦å°ˆæ¥­çŸ¥è­˜ï¼Œèƒ½å¤ è™•ç†å¾ç¨‹å¼ç¢¼é–‹ç™¼åˆ°ç³»çµ±æ¶æ§‹çš„å„ç¨®æŒ‘æˆ°ã€‚

#### æ ¸å¿ƒç‰¹è‰²

- **ğŸ¯ å°ˆæ¥­åŒ–åˆ†å·¥**ï¼š70+ å°ˆæ¥­ä»£ç†æ¶µè“‹è»Ÿé«”é–‹ç™¼å…¨ç”Ÿå‘½é€±æœŸ
- **ğŸ”„ æ™ºèƒ½å”ä½œ**ï¼šä»£ç†é–“å¯è‡ªå‹•å”èª¿èˆ‡çŸ¥è­˜å…±äº«
- **âš¡ ä»»å‹™åˆ†è§£**ï¼šè¤‡é›œå°ˆæ¡ˆè‡ªå‹•æ‹†è§£ç‚ºå¯ç®¡ç†çš„å­ä»»å‹™
- **ğŸ“ˆ æ•ˆç‡æå‡**ï¼šå°ˆæ¥­ä»£ç†æ¯”é€šç”¨æ¨¡å‹æ•ˆç‡æå‡ 300%+

#### ä½¿ç”¨æ–¹å¼

```bash
# æ˜ç¢ºæŒ‡å®šä½¿ç”¨ç‰¹å®šä»£ç†
> Have the code-reviewer subagent analyze my latest commits

# è®“ Claude è‡ªå‹•é¸æ“‡åˆé©çš„ä»£ç†
> I need help with React performance optimization
```

### ä»£ç†åˆ†é¡é«”ç³»

#### 1. ğŸ”§ æ ¸å¿ƒé–‹ç™¼ä»£ç†

å°ˆæ³¨æ–¼æ—¥å¸¸ç¨‹å¼é–‹ç™¼ä»»å‹™çš„åŸºç¤ä»£ç†ç¾¤ï¼š

| ä»£ç†åç¨±                    | å°ˆæ¥­é ˜åŸŸ     | ä¸»è¦ç”¨é€”                     |
| --------------------------- | ------------ | ---------------------------- |
| **frontend-developer**      | UI/UX é–‹ç™¼   | Reactã€Vueã€Angular å‰ç«¯é–‹ç™¼ |
| **backend-developer**       | ä¼ºæœå™¨ç«¯é–‹ç™¼ | APIã€è³‡æ–™åº«ã€ä¼ºæœå™¨é‚è¼¯      |
| **fullstack-developer**     | å…¨ç«¯é–‹ç™¼     | ç«¯åˆ°ç«¯åŠŸèƒ½å®Œæ•´å¯¦ä½œ           |
| **mobile-developer**        | è¡Œå‹•æ‡‰ç”¨     | iOSã€Androidã€è·¨å¹³å°é–‹ç™¼     |
| **api-designer**            | API æ¶æ§‹     | RESTfulã€GraphQL API è¨­è¨ˆ    |
| **microservices-architect** | åˆ†æ•£å¼ç³»çµ±   | å¾®æœå‹™æ¶æ§‹èˆ‡æœå‹™åˆ†è§£         |

**é¸æ“‡æŒ‡å—**ï¼š

```bash
# å»ºæ§‹ REST API
> Use the backend-developer subagent to create a user authentication API

# éŸ¿æ‡‰å¼ UI é–‹ç™¼
> Have the frontend-developer subagent optimize this component for mobile

# å®Œæ•´åŠŸèƒ½é–‹ç™¼
> Get the fullstack-developer subagent to build a complete user dashboard
```

#### 2. ğŸ’» èªè¨€å°ˆå®¶ä»£ç†

é‡å°ç‰¹å®šç¨‹å¼èªè¨€å„ªåŒ–çš„å°ˆæ¥­ä»£ç†ï¼š

| ä»£ç†åç¨±             | èªè¨€å°ˆé•·        | æ ¸å¿ƒèƒ½åŠ›                |
| -------------------- | --------------- | ----------------------- |
| **javascript-pro**   | JavaScript/ES6+ | ç¾ä»£ JS æ¨¡å¼ã€æ•ˆèƒ½å„ªåŒ–  |
| **typescript-pro**   | TypeScript      | å‹åˆ¥ç³»çµ±ã€æ³›å‹è¨­è¨ˆ      |
| **python-architect** | Python          | æ¶æ§‹è¨­è¨ˆã€æœ€ä½³å¯¦è¸      |
| **java-architect**   | Java            | ä¼æ¥­ç´šæ‡‰ç”¨ã€Spring ç”Ÿæ…‹ |
| **cpp-pro**          | C++             | ç³»çµ±ç¨‹å¼ã€æ•ˆèƒ½é—œéµæ‡‰ç”¨  |
| **rust-systems**     | Rust            | ç³»çµ±å®‰å…¨ã€è¨˜æ†¶é«”ç®¡ç†    |

**ä½¿ç”¨æ¨¡å¼**ï¼š

```bash
# TypeScript å‹åˆ¥è¨­è¨ˆ
> Have the typescript-pro subagent refactor this code with better types

# Python æ¶æ§‹å„ªåŒ–
> Use python-architect to design a scalable data processing pipeline

# C++ æ•ˆèƒ½èª¿å„ª
> Get the cpp-pro subagent to optimize this algorithm for speed
```

#### 3. ğŸ—ï¸ åŸºç¤è¨­æ–½ä»£ç†

å°ˆç²¾æ–¼ DevOpsã€é›²ç«¯èˆ‡åŸºç¤è¨­æ–½ç®¡ç†ï¼š

| ä»£ç†åç¨±                  | å°ˆæ¥­é ˜åŸŸ         | æ‡‰ç”¨å ´æ™¯                 |
| ------------------------- | ---------------- | ------------------------ |
| **devops-engineer**       | CI/CD æµç¨‹       | è‡ªå‹•åŒ–éƒ¨ç½²ã€æµæ°´ç·šè¨­è¨ˆ   |
| **kubernetes-specialist** | å®¹å™¨ç·¨æ’         | K8s å¢é›†ã€å·¥ä½œè² è¼‰ç®¡ç†   |
| **cloud-architect**       | é›²ç«¯æ¶æ§‹         | AWSã€GCPã€Azure æ¶æ§‹è¨­è¨ˆ |
| **terraform-engineer**    | åŸºç¤è¨­æ–½å³ç¨‹å¼ç¢¼ | IaC è¨­è¨ˆèˆ‡æœ€ä½³å¯¦è¸       |
| **security-engineer**     | åŸºç¤è¨­æ–½å®‰å…¨     | å®‰å…¨å¼·åŒ–ã€åˆè¦æª¢æŸ¥       |

#### 4. ğŸ›¡ï¸ å“è³ªèˆ‡å®‰å…¨ä»£ç†

ç¢ºä¿ç¨‹å¼ç¢¼å“è³ªèˆ‡ç³»çµ±å®‰å…¨çš„å°ˆæ¥­ä»£ç†ï¼š

| ä»£ç†åç¨±                 | å°ˆæ¥­é ˜åŸŸ   | æ ¸å¿ƒåŠŸèƒ½               |
| ------------------------ | ---------- | ---------------------- |
| **code-reviewer**        | ç¨‹å¼ç¢¼å¯©æŸ¥ | å“è³ªæª¢æŸ¥ã€æœ€ä½³å¯¦è¸é©—è­‰ |
| **security-auditor**     | å®‰å…¨ç¨½æ ¸   | æ¼æ´æƒæã€å®‰å…¨è©•ä¼°     |
| **performance-engineer** | æ•ˆèƒ½å„ªåŒ–   | ç“¶é ¸åˆ†æã€æ•ˆèƒ½èª¿å„ª     |
| **test-engineer**        | æ¸¬è©¦ç­–ç•¥   | æ¸¬è©¦è¨­è¨ˆã€è‡ªå‹•åŒ–æ¸¬è©¦   |

#### 5. ğŸ§  è³‡æ–™èˆ‡ AI ä»£ç†

å°ˆç²¾æ–¼è³‡æ–™è™•ç†èˆ‡æ©Ÿå™¨å­¸ç¿’çš„ä»£ç†ç¾¤ï¼š

| ä»£ç†åç¨±           | å°ˆæ¥­é ˜åŸŸ | ä¸»è¦èƒ½åŠ›           |
| ------------------ | -------- | ------------------ |
| **data-engineer**  | è³‡æ–™ç®¡é“ | ETL æµç¨‹ã€è³‡æ–™å€‰å„² |
| **ml-engineer**    | æ©Ÿå™¨å­¸ç¿’ | æ¨¡å‹è¨“ç·´ã€éƒ¨ç½²å„ªåŒ– |
| **data-scientist** | è³‡æ–™ç§‘å­¸ | çµ±è¨ˆåˆ†æã€æ¨¡å‹é–‹ç™¼ |
| **ai-engineer**    | AI ç³»çµ±  | AI æ‡‰ç”¨è¨­è¨ˆèˆ‡æ•´åˆ  |

### ä»£ç†é¸æ“‡æŒ‡å—

#### å¿«é€Ÿé¸æ“‡è¡¨

| éœ€æ±‚é¡å‹         | æ¨è–¦ä»£ç†             | ä½¿ç”¨æƒ…å¢ƒ             |
| ---------------- | -------------------- | -------------------- |
| **å»ºç«‹æ–° API**   | `backend-developer`  | ä¼ºæœå™¨ç«¯é‚è¼¯èˆ‡è³‡æ–™åº« |
| **å„ªåŒ–å‰ç«¯æ•ˆèƒ½** | `frontend-developer` | UI æ•ˆèƒ½èˆ‡ä½¿ç”¨è€…é«”é©—  |
| **æ¶æ§‹é‡æ§‹**     | `software-architect` | ç³»çµ±è¨­è¨ˆèˆ‡æ¶æ§‹æ±ºç­–   |
| **å®‰å…¨å¯©æŸ¥**     | `security-auditor`   | æ¼æ´æª¢æ¸¬èˆ‡å®‰å…¨å¼·åŒ–   |
| **è³‡æ–™ç®¡é“**     | `data-engineer`      | ETL æµç¨‹èˆ‡è³‡æ–™è™•ç†   |
| **CI/CD è¨­å®š**   | `devops-engineer`    | è‡ªå‹•åŒ–éƒ¨ç½²èˆ‡æµç¨‹     |

#### å¤šä»£ç†å”ä½œæ¨¡å¼

```bash
# ç«¯åˆ°ç«¯åŠŸèƒ½é–‹ç™¼
> Have the fullstack-developer create a user registration system,
  then get the security-auditor to review it for vulnerabilities

# æ•ˆèƒ½å„ªåŒ–å°ˆæ¡ˆ
> Use the performance-engineer to identify bottlenecks,
  then have the backend-developer implement the optimizations

# å®Œæ•´ç”¢å“é–‹ç™¼
> Coordinate between frontend-developer, backend-developer,
  and devops-engineer to build and deploy a complete application
```

### ä»£ç†æ•´åˆæœ€ä½³å¯¦è¸

#### 1. ä»»å‹™åˆ†è§£ç­–ç•¥

```markdown
## è¤‡é›œå°ˆæ¡ˆåˆ†è§£ç¯„ä¾‹

**å°ˆæ¡ˆ**ï¼šé›»å•†å¹³å°é–‹ç™¼

**Phase 1**: æ¶æ§‹è¨­è¨ˆ

- `software-architect`: æ•´é«”ç³»çµ±æ¶æ§‹
- `database-architect`: è³‡æ–™æ¨¡å‹è¨­è¨ˆ

**Phase 2**: æ ¸å¿ƒé–‹ç™¼

- `backend-developer`: API èˆ‡å•†æ¥­é‚è¼¯
- `frontend-developer`: ä½¿ç”¨è€…ä»‹é¢

**Phase 3**: å“è³ªä¿è­‰

- `test-engineer`: æ¸¬è©¦ç­–ç•¥èˆ‡åŸ·è¡Œ
- `security-auditor`: å®‰å…¨æ€§æª¢æŸ¥

**Phase 4**: éƒ¨ç½²ä¸Šç·š

- `devops-engineer`: CI/CD èˆ‡éƒ¨ç½²
- `sre-engineer`: ç›£æ§èˆ‡ç¶­é‹
```

#### 2. ä»£ç†å”ä½œå”å®š

```bash
# çŸ¥è­˜å‚³éæ¨¡å¼
> After the api-designer completes the API specification,
  have the backend-developer implement it using those exact specs

# é©—è­‰æ¨¡å¼
> When the frontend-developer finishes the component,
  get the accessibility-tester to verify WCAG compliance

# å„ªåŒ–æ¨¡å¼
> Have the performance-engineer analyze the system,
  then coordinate with relevant specialists to implement fixes
```

---

## ğŸ¯ Agent Skills ç³»çµ±

### ä»€éº¼æ˜¯ Agent Skills

Agent Skills æ˜¯æ¨¡çµ„åŒ–åŠŸèƒ½ï¼Œé€éåŒ…å«æŒ‡ç¤ºã€æŒ‡ä»¤ç¢¼å’Œè³‡æºçš„æœ‰çµ„ç¹”è³‡æ–™å¤¾ä¾†æ“´å±• Claude çš„åŠŸèƒ½ã€‚Skills æ˜¯**æ¨¡å‹èª¿ç”¨çš„**â€”Claude æ ¹æ“šä»»å‹™ä¸Šä¸‹æ–‡è‡ªä¸»æ±ºå®šä½•æ™‚ä½¿ç”¨å®ƒå€‘ï¼Œèˆ‡éœ€è¦æ‰‹å‹•è¼¸å…¥çš„æ–œç·šå‘½ä»¤ä¸åŒã€‚

#### æ ¸å¿ƒå„ªå‹¢

- **ğŸ“¦ æ¨¡çµ„åŒ–å°ˆæ¥­çŸ¥è­˜**ï¼šå°‡è¤‡é›œåŠŸèƒ½æ‰“åŒ…æˆå¯é‡ç”¨çš„å–®å…ƒ
- **ğŸ¤– è‡ªå‹•ç™¼ç¾**ï¼šClaude æ ¹æ“šä¸Šä¸‹æ–‡è‡ªå‹•é¸æ“‡åˆé©çš„ Skill
- **ğŸ”„ åœ˜éšŠå…±äº«**ï¼šé€é git è¼•é¬†èˆ‡åœ˜éšŠåˆ†äº«å°ˆæ¥­çŸ¥è­˜
- **âš¡ æ¸›å°‘é‡è¤‡**ï¼šé¿å…é‡è¤‡è¼¸å…¥ç›¸åŒçš„æç¤ºæŒ‡ä»¤

### Skills å„²å­˜ä½ç½®

| é¡å‹ | ä½ç½® | ç¯„åœ | ç”¨é€” |
|------|------|------|------|
| **å€‹äºº Skills** | `~/.claude/skills/` | æ‰€æœ‰å°ˆæ¡ˆ | å€‹äººå·¥ä½œæµç¨‹å’Œåå¥½ |
| **å°ˆæ¡ˆ Skills** | `.claude/skills/` | ç•¶å‰å°ˆæ¡ˆ | åœ˜éšŠå…±äº«çš„å°ˆæ¡ˆç‰¹å®šåŠŸèƒ½ |
| **å¤–æ› Skills** | å¤–æ›ç¨‹å¼ç›®éŒ„ | å·²å®‰è£å¤–æ› | å¤–æ›ç¨‹å¼æä¾›çš„è‡ªå‹•åŠŸèƒ½ |

### å»ºç«‹ Skill

æ¯å€‹ Skill åŒ…å«ä¸€å€‹ `SKILL.md` æª”æ¡ˆï¼š

```yaml
---
name: pdf-processor
description: Extract text and tables from PDF files. Use when working with PDF files or document extraction.
allowed-tools: Read, Bash  # å¯é¸ï¼šé™åˆ¶å·¥å…·å­˜å–
---

# PDF Processor

## Instructions
1. Use pdfplumber to extract text
2. Parse tables and structure data
3. Export to desired format

## Requirements
- pypdf and pdfplumber packages must be installed
```

### ä½¿ç”¨ Skills

Skills ç”± Claude è‡ªå‹•èª¿ç”¨ï¼Œç„¡éœ€æ‰‹å‹•è§¸ç™¼ï¼š

```bash
# Claude æœƒè‡ªå‹•ä½¿ç”¨ pdf-processor Skill
> Can you extract the data from this PDF file?

# æˆ–æ˜ç¢ºè«‹æ±‚
> Use the PDF processor Skill to analyze document.pdf
```

### Skills vs æ–œç·šå‘½ä»¤ vs å­ä»£ç†

| ç‰¹æ€§ | Skills | æ–œç·šå‘½ä»¤ | å­ä»£ç† |
|------|--------|----------|--------|
| **èª¿ç”¨æ–¹å¼** | æ¨¡å‹è‡ªå‹• | æ‰‹å‹•è¼¸å…¥ | è‡ªå‹•æˆ–æ‰‹å‹• |
| **æª”æ¡ˆçµæ§‹** | ç›®éŒ„+SKILL.md | å–®ä¸€ .md | å–®ä¸€ .md |
| **è¤‡é›œåº¦** | ä¸­ç­‰åˆ°é«˜ | ç°¡å–® | ä¸­ç­‰ |
| **å·¥å…·é™åˆ¶** | å¯é…ç½® | å¯é…ç½® | å¯é…ç½® |
| **é©ç”¨å ´æ™¯** | è¤‡é›œåŠŸèƒ½ | å¿«é€Ÿæç¤º | ç‰¹å®šä»»å‹™å·¥ä½œæµ |

---

## ğŸ”Œ Plugin å¤–æ›ç³»çµ±

### ä»€éº¼æ˜¯ Plugins

Pluginsï¼ˆå¤–æ›ç¨‹å¼ï¼‰æ˜¯å¯å®‰è£çš„æ“´å±•åŒ…ï¼Œå¯åŒ…å«ï¼š
- è‡ªè¨‚æ–œç·šå‘½ä»¤
- å°ˆé–€çš„å­ä»£ç†
- Agent Skills
- Hooks äº‹ä»¶è™•ç†å™¨
- MCP ä¼ºæœå™¨æ•´åˆ

#### æ ¸å¿ƒå„ªå‹¢

- **ğŸ“¦ æ‰“åŒ…åˆ†ç™¼**ï¼šä¸€æ¬¡å®‰è£ç²å¾—å¤šå€‹åŠŸèƒ½
- **ğŸª å¸‚å ´ç³»çµ±**ï¼šå¾ Plugin Marketplace è¼•é¬†ç™¼ç¾å’Œå®‰è£
- **ğŸ‘¥ åœ˜éšŠå”ä½œ**ï¼šé€é `.claude/settings.json` è‡ªå‹•å®‰è£åœ˜éšŠå¤–æ›
- **ğŸ”„ ç‰ˆæœ¬ç®¡ç†**ï¼šæ”¯æ´ç‰ˆæœ¬æ§åˆ¶å’Œè‡ªå‹•æ›´æ–°

### Plugin ç®¡ç†

```bash
# é–‹å•Ÿ Plugin ç®¡ç†ä»‹é¢
/plugin

# æ–°å¢ Marketplace
/plugin marketplace add your-org/claude-plugins

# å®‰è£ Plugin
/plugin install formatter@your-org

# å•Ÿç”¨/åœç”¨
/plugin enable plugin-name@marketplace
/plugin disable plugin-name@marketplace

# ç§»é™¤
/plugin uninstall plugin-name@marketplace
```

### Plugin çµæ§‹

```
my-plugin/
â”œâ”€â”€ .claude-plugin/
â”‚   â””â”€â”€ plugin.json          # å¤–æ›æ¸…å–®ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ commands/                 # è‡ªè¨‚æ–œç·šå‘½ä»¤
â”‚   â””â”€â”€ custom.md
â”œâ”€â”€ agents/                   # å­ä»£ç†å®šç¾©
â”‚   â””â”€â”€ reviewer.md
â”œâ”€â”€ skills/                   # Agent Skills
â”‚   â””â”€â”€ my-skill/
â”‚       â””â”€â”€ SKILL.md
â”œâ”€â”€ hooks/                    # äº‹ä»¶è™•ç†å™¨
â”‚   â””â”€â”€ hooks.json
â””â”€â”€ .mcp.json                # MCP ä¼ºæœå™¨é…ç½®
```

### åœ˜éšŠ Plugin è¨­å®š

åœ¨ `.claude/settings.json` ä¸­é…ç½®è‡ªå‹•å®‰è£ï¼š

```json
{
  "extraKnownMarketplaces": {
    "company-tools": {
      "source": {
        "source": "github",
        "repo": "company/claude-plugins"
      }
    }
  },
  "enabledPlugins": {
    "formatter@company-tools": true,
    "deployer@company-tools": true
  }
}
```

ç•¶åœ˜éšŠæˆå“¡ä¿¡ä»»å°ˆæ¡ˆè³‡æ–™å¤¾æ™‚ï¼Œå¤–æ›ç¨‹å¼æœƒè‡ªå‹•å®‰è£ã€‚

---

## ğŸ› ï¸ å·¥å…·å®Œæ•´åƒè€ƒ

### Claude Code å¯ç”¨å·¥å…·

Claude Code æ“æœ‰ä¸€å¥—å¼·å¤§çš„å·¥å…·é›†ï¼Œå¹«åŠ© Claude ç†è§£å’Œä¿®æ”¹æ‚¨çš„ç¨‹å¼ç¢¼åº«ï¼š

| å·¥å…·             | æè¿°                             | éœ€è¦æ¬Šé™ | ä¸»è¦ç”¨é€”             |
| ---------------- | -------------------------------- | -------- | -------------------- |
| **Agent**        | åŸ·è¡Œå­ä»£ç†è™•ç†è¤‡é›œçš„å¤šæ­¥é©Ÿä»»å‹™   | å¦       | è¤‡é›œä»»å‹™åˆ†è§£         |
| **Bash**         | åœ¨æ‚¨çš„ç’°å¢ƒä¸­åŸ·è¡Œ shell å‘½ä»¤      | æ˜¯       | ç³»çµ±æ“ä½œã€å»ºç½®ã€æ¸¬è©¦ |
| **Edit**         | å°ç‰¹å®šæª”æ¡ˆé€²è¡Œç²¾æº–ç·¨è¼¯           | æ˜¯       | ç¨‹å¼ç¢¼ä¿®æ”¹           |
| **Glob**         | åŸºæ–¼æ¨¡å¼åŒ¹é…å°‹æ‰¾æª”æ¡ˆ             | å¦       | æª”æ¡ˆæœå°‹             |
| **Grep**         | åœ¨æª”æ¡ˆå…§å®¹ä¸­æœå°‹æ¨¡å¼             | å¦       | å…§å®¹æœå°‹             |
| **LS**           | åˆ—å‡ºæª”æ¡ˆå’Œç›®éŒ„                   | å¦       | ç›®éŒ„ç€è¦½             |
| **MultiEdit**    | å°å–®ä¸€æª”æ¡ˆåŸ·è¡Œå¤šå€‹åŸå­æ€§ç·¨è¼¯     | æ˜¯       | æ‰¹é‡ä¿®æ”¹             |
| **NotebookEdit** | ä¿®æ”¹ Jupyter notebook å„²å­˜æ ¼     | æ˜¯       | Notebook ç·¨è¼¯        |
| **NotebookRead** | è®€å–ä¸¦é¡¯ç¤º Jupyter notebook å…§å®¹ | å¦       | Notebook ç€è¦½        |
| **Read**         | è®€å–æª”æ¡ˆå…§å®¹                     | å¦       | ç¨‹å¼ç¢¼ç€è¦½           |
| **TodoRead**     | è®€å–ç•¶å‰æœƒè©±çš„ä»»å‹™æ¸…å–®           | å¦       | ä»»å‹™è¿½è¹¤             |
| **TodoWrite**    | å»ºç«‹å’Œç®¡ç†çµæ§‹åŒ–ä»»å‹™æ¸…å–®         | å¦       | ä»»å‹™ç®¡ç†             |
| **WebFetch**     | å¾æŒ‡å®š URL ç²å–å…§å®¹              | æ˜¯       | ç¶²è·¯å…§å®¹ç²å–         |
| **WebSearch**    | åŸ·è¡Œå¸¶åŸŸåéæ¿¾çš„ç¶²è·¯æœå°‹         | æ˜¯       | è³‡è¨Šæœå°‹             |
| **Write**        | å»ºç«‹æˆ–è¦†å¯«æª”æ¡ˆ                   | æ˜¯       | æª”æ¡ˆå»ºç«‹             |

### å·¥å…·è©³ç´°èªªæ˜

#### æª”æ¡ˆæ“ä½œå·¥å…·

**Read å·¥å…·**

- **åŠŸèƒ½**ï¼šè®€å–æª”æ¡ˆå…§å®¹ï¼Œæ”¯æ´æŒ‡å®šè¡Œæ•¸ç¯„åœ
- **èªæ³•**ï¼š`Read(æª”æ¡ˆè·¯å¾‘)`
- **æ¬Šé™è¦å‰‡ç¯„ä¾‹**ï¼š`"Read(src/**/*.ts)"` - åƒ…å…è¨±è®€å– TypeScript æª”æ¡ˆ

**Edit å·¥å…·**

- **åŠŸèƒ½**ï¼šå°æª”æ¡ˆé€²è¡Œç²¾æº–çš„å­—ä¸²æ›¿æ›ç·¨è¼¯
- **ç‰¹è‰²**ï¼šæ”¯æ´å¤šè¡Œç·¨è¼¯ã€ä¿æŒæ ¼å¼
- **æ¬Šé™è¦å‰‡ç¯„ä¾‹**ï¼š`"Edit(src/**/*.{js,ts})"` - åƒ…å…è¨±ç·¨è¼¯ç‰¹å®šé¡å‹æª”æ¡ˆ

**Write å·¥å…·**

- **åŠŸèƒ½**ï¼šå»ºç«‹æ–°æª”æ¡ˆæˆ–å®Œå…¨è¦†å¯«ç¾æœ‰æª”æ¡ˆ
- **å®‰å…¨è€ƒé‡**ï¼šå…·æœ‰è¦†å¯«é¢¨éšªï¼Œå»ºè­°è¬¹æ…è¨­å®šæ¬Šé™
- **æ¬Šé™è¦å‰‡ç¯„ä¾‹**ï¼š`"Write(temp/**/*)"` - åƒ…å…è¨±åœ¨è‡¨æ™‚ç›®éŒ„å¯«å…¥

**MultiEdit å·¥å…·**

- **åŠŸèƒ½**ï¼šåœ¨å–®ä¸€æª”æ¡ˆä¸­åŸ·è¡Œå¤šå€‹ç·¨è¼¯æ“ä½œï¼Œç¢ºä¿åŸå­æ€§
- **å„ªå‹¢**ï¼šé¿å…éƒ¨åˆ†ç·¨è¼¯å°è‡´çš„ä¸ä¸€è‡´ç‹€æ…‹
- **ä½¿ç”¨å ´æ™¯**ï¼šå¤§è¦æ¨¡é‡æ§‹ã€æ‰¹é‡è®Šæ›´

#### æœå°‹èˆ‡ç€è¦½å·¥å…·

**Glob å·¥å…·**

- **åŠŸèƒ½**ï¼šä½¿ç”¨è¬ç”¨å­—å…ƒæ¨¡å¼å°‹æ‰¾æª”æ¡ˆ
- **æ¨¡å¼ç¯„ä¾‹**ï¼š
  - `*.js` - æ‰€æœ‰ JavaScript æª”æ¡ˆ
  - `src/**/*.test.ts` - æ‰€æœ‰æ¸¬è©¦æª”æ¡ˆ
  - `{*.json,*.yaml}` - JSON å’Œ YAML æª”æ¡ˆ

**Grep å·¥å…·**

- **åŠŸèƒ½**ï¼šåœ¨æª”æ¡ˆå…§å®¹ä¸­æœå°‹æ–‡å­—æ¨¡å¼
- **æ”¯æ´åŠŸèƒ½**ï¼š
  - æ­£è¦è¡¨ç¤ºå¼æœå°‹
  - ä¸å€åˆ†å¤§å°å¯«æœå°‹
  - è¡Œè™Ÿé¡¯ç¤º
- **ä½¿ç”¨ç¯„ä¾‹**ï¼šæœå°‹ TODO è¨»è§£ã€å‡½æ•¸å®šç¾©ã€éŒ¯èª¤æ¨¡å¼

**LS å·¥å…·**

- **åŠŸèƒ½**ï¼šåˆ—å‡ºç›®éŒ„å…§å®¹ï¼Œé¡ä¼¼ `ls` å‘½ä»¤
- **é¡¯ç¤ºè³‡è¨Š**ï¼šæª”æ¡ˆå¤§å°ã€ä¿®æ”¹æ™‚é–“ã€æ¬Šé™
- **ç”¨é€”**ï¼šå°ˆæ¡ˆçµæ§‹æ¢ç´¢ã€æª”æ¡ˆç‹€æ…‹æª¢æŸ¥

#### ç³»çµ±æ“ä½œå·¥å…·

**Bash å·¥å…·**

- **åŠŸèƒ½**ï¼šåŸ·è¡Œä»»æ„ shell å‘½ä»¤
- **å®‰å…¨ç‰¹æ€§**ï¼š
  - å¯è¨­å®šé€¾æ™‚
  - æ”¯æ´æ¬Šé™ç´°åˆ†æ§åˆ¶
  - è¼¸å‡ºé•·åº¦é™åˆ¶
- **æ¬Šé™æ§åˆ¶ç¯„ä¾‹**ï¼š
  ```json
  {
    "allow": ["Bash(git diff:*)", "Bash(npm run test:*)", "Bash(docker ps:*)"],
    "deny": ["Bash(rm:*)", "Bash(sudo:*)"]
  }
  ```

#### ä»»å‹™ç®¡ç†å·¥å…·

**TodoRead å·¥å…·**

- **åŠŸèƒ½**ï¼šè®€å–ç•¶å‰æœƒè©±çš„çµæ§‹åŒ–ä»»å‹™æ¸…å–®
- **è³‡æ–™æ ¼å¼**ï¼šJSON çµæ§‹ï¼ŒåŒ…å«ç‹€æ…‹ã€å„ªå…ˆç´šã€æè¿°

**TodoWrite å·¥å…·**

- **åŠŸèƒ½**ï¼šå»ºç«‹ã€æ›´æ–°ã€ç®¡ç†ä»»å‹™æ¸…å–®
- **æ”¯æ´æ“ä½œ**ï¼š
  - æ–°å¢ä»»å‹™
  - æ›´æ–°ç‹€æ…‹
  - è¨­å®šå„ªå…ˆç´š
  - åˆä½µä»»å‹™æ¸…å–®

#### ç¶²è·¯å·¥å…·

**WebFetch å·¥å…·**

- **åŠŸèƒ½**ï¼šç²å–æŒ‡å®š URL çš„å…§å®¹
- **æ”¯æ´æ ¼å¼**ï¼šHTMLã€JSONã€æ–‡å­—
- **ä½¿ç”¨å ´æ™¯**ï¼šAPI æ–‡æª”æŸ¥è©¢ã€ç¨‹å¼ç¢¼ç¯„ä¾‹ç²å–

**WebSearch å·¥å…·**

- **åŠŸèƒ½**ï¼šåŸ·è¡Œç¶²è·¯æœå°‹ä¸¦è¿”å›çµæœ
- **ç‰¹è‰²**ï¼šæ”¯æ´åŸŸåéæ¿¾ï¼Œæé«˜çµæœç›¸é—œæ€§
- **ç”¨é€”**ï¼šæŠ€è¡“å•é¡Œæœå°‹ã€æœ€ä½³å¯¦è¸æŸ¥è©¢

#### Jupyter Notebook å·¥å…·

**NotebookRead å·¥å…·**

- **åŠŸèƒ½**ï¼šè®€å–ä¸¦è§£æ Jupyter notebook æª”æ¡ˆ
- **é¡¯ç¤ºå…§å®¹**ï¼šç¨‹å¼ç¢¼å„²å­˜æ ¼ã€Markdown å„²å­˜æ ¼ã€è¼¸å‡ºçµæœ

**NotebookEdit å·¥å…·**

- **åŠŸèƒ½**ï¼šä¿®æ”¹ notebook å„²å­˜æ ¼å…§å®¹
- **æ”¯æ´æ“ä½œ**ï¼š
  - ç·¨è¼¯å„²å­˜æ ¼ç¨‹å¼ç¢¼
  - æ–°å¢/åˆªé™¤å„²å­˜æ ¼
  - ä¿®æ”¹å„²å­˜æ ¼é¡å‹

#### ä»£ç†å·¥å…·

**Agent å·¥å…·**

- **åŠŸèƒ½**ï¼šå•Ÿå‹•å­ä»£ç†åŸ·è¡Œè¤‡é›œä»»å‹™
- **æ‡‰ç”¨å ´æ™¯**ï¼š
  - å¤šæª”æ¡ˆå”èª¿ä¿®æ”¹
  - è¤‡é›œæ¼”ç®—æ³•å¯¦ä½œ
  - ç«¯åˆ°ç«¯åŠŸèƒ½é–‹ç™¼
- **ç‰¹è‰²**ï¼š
  - ç¨ç«‹çš„ä¸Šä¸‹æ–‡ç©ºé–“
  - å¯ä¸¦è¡ŒåŸ·è¡Œ
  - çµæœå¯åˆä½µåˆ°ä¸»æœƒè©±

### æ¬Šé™æ§åˆ¶é€²éšè¨­å®š

#### æ¨¡å¼åŒ¹é…èªæ³•

```json
{
  "permissions": {
    "allow": [
      "Read", // å…è¨±æ‰€æœ‰è®€å–æ“ä½œ
      "Edit(src/**/*.{js,ts})", // åƒ…å…è¨±ç·¨è¼¯ç‰¹å®šæª”æ¡ˆ
      "Bash(git *)", // å…è¨±æ‰€æœ‰ git å‘½ä»¤
      "Bash(npm run test:*)", // å…è¨±åŸ·è¡Œæ¸¬è©¦è…³æœ¬
      "WebFetch(https://docs.*)" // åƒ…å…è¨±ç²å–æ–‡æª”ç¶²ç«™å…§å®¹
    ],
    "deny": [
      "Bash(rm:*)", // ç¦æ­¢åˆªé™¤å‘½ä»¤
      "Bash(sudo:*)", // ç¦æ­¢ sudo å‘½ä»¤
      "Write(.env*)", // ç¦æ­¢ä¿®æ”¹ç’°å¢ƒè®Šæ•¸æª”æ¡ˆ
      "Edit(package.json)" // ç¦æ­¢ä¿®æ”¹å¥—ä»¶è¨­å®š
    ]
  }
}
```

#### å·¥ä½œç›®éŒ„æ§åˆ¶

```json
{
  "permissions": {
    "additionalDirectories": [
      "../shared-lib/", // å…è¨±å­˜å–å…±äº«ç¨‹å¼åº«
      "../docs/", // å…è¨±å­˜å–æ–‡æª”ç›®éŒ„
      "~/templates/" // å…è¨±å­˜å–ç¯„æœ¬ç›®éŒ„
    ]
  }
}
```

---

## ğŸ¯ å·¥ä½œæµç¨‹å¤§å…¨

### åŸºç¤é–‹ç™¼æµç¨‹

#### å°ˆæ¡ˆåˆå§‹åŒ–

```bash
# å•Ÿå‹• Claude Code
claude

# åˆå§‹åŒ–å°ˆæ¡ˆè¨˜æ†¶
/init

# è¨­å®šæ¬Šé™
/permissions allow "Edit" "View" "Bash(git:*)"

# é–‹å§‹é–‹ç™¼
claude "åˆ†æé€™å€‹å°ˆæ¡ˆä¸¦å»ºè­°æ”¹é€²"
```

#### æ¢ç´¢ã€è¦åŠƒã€ç·¨ç¢¼ã€æäº¤

```bash
# 1. æ¢ç´¢éšæ®µ
claude "è«‹è®€å–ç›¸é—œæª”æ¡ˆï¼Œäº†è§£å°ˆæ¡ˆçµæ§‹ï¼Œä½†å…ˆä¸è¦å¯«ç¨‹å¼ç¢¼"

# 2. è¦åŠƒéšæ®µ
claude "è«‹åˆ¶å®šè§£æ±ºé€™å€‹å•é¡Œçš„è¨ˆåŠƒï¼Œä½¿ç”¨ think é€²è¡Œæ·±åº¦æ€è€ƒ"

# 3. å¯¦ä½œéšæ®µ
claude "è«‹å¯¦ä½œè§£æ±ºæ–¹æ¡ˆ"

# 4. æäº¤éšæ®µ
claude "è«‹æäº¤è®Šæ›´ä¸¦å»ºç«‹ pull request"
```

### æ¸¬è©¦é©…å‹•é–‹ç™¼

```bash
# 1. æ’°å¯«æ¸¬è©¦
claude "åŸºæ–¼é æœŸè¼¸å…¥è¼¸å‡ºæ’°å¯«æ¸¬è©¦ï¼Œä¸è¦å»ºç«‹ mock å¯¦ä½œ"

# 2. ç¢ºèªæ¸¬è©¦å¤±æ•—
claude "åŸ·è¡Œæ¸¬è©¦ä¸¦ç¢ºèªå¤±æ•—ï¼Œè«‹ä¸è¦å¯«å¯¦ä½œç¨‹å¼ç¢¼"

# 3. æäº¤æ¸¬è©¦
claude "æäº¤æ¸¬è©¦ç¨‹å¼ç¢¼"

# 4. å¯¦ä½œåŠŸèƒ½
claude "æ’°å¯«é€šéæ¸¬è©¦çš„ç¨‹å¼ç¢¼ï¼Œä¸è¦ä¿®æ”¹æ¸¬è©¦"

# 5. æäº¤ç¨‹å¼ç¢¼
claude "æäº¤å¯¦ä½œç¨‹å¼ç¢¼"
```

### MCP æ•´åˆé–‹ç™¼

```bash
# è¨­å®š MCP ä¼ºæœå™¨
claude mcp add weather-api ./weather-server.js
claude mcp add database --transport http https://api.example.com

# ä½¿ç”¨ MCP å·¥å…·
claude --allowedTools "mcp__weather__get_forecast" "æŸ¥è©¢æ˜å¤©å¤©æ°£"
```

### å®‰å…¨ YOLO æ¨¡å¼

```bash
# åœ¨å®¹å™¨ä¸­ä½¿ç”¨ï¼ˆå»ºè­°ï¼‰
claude --dangerously-skip-permissions "ä¿®å¾©æ‰€æœ‰ lint éŒ¯èª¤"
```

**âš ï¸ è­¦å‘Š**ï¼šå»ºè­°åƒ…åœ¨éš”é›¢ç’°å¢ƒä¸­ä½¿ç”¨ï¼Œè©²æŒ‡ä»¤å¯èƒ½å°è‡´è³‡æ–™éºå¤±æˆ–ç³»çµ±æå£ã€‚

---

## ğŸ”§ é€²éšåŠŸèƒ½

### CLAUDE.md å°ˆæ¡ˆè¨˜æ†¶

#### å»ºç«‹èˆ‡ç®¡ç†

```bash
# åˆå§‹åŒ–å°ˆæ¡ˆè¨˜æ†¶
/init

# æª¢è¦–è¨˜æ†¶å…§å®¹
/memory view

# ç·¨è¼¯è¨˜æ†¶
/memory edit

# æ¸…é™¤è¨˜æ†¶
/memory clear
```

#### CLAUDE.md ç¯„ä¾‹

```markdown
# å°ˆæ¡ˆè¨˜æ†¶

## Bash æŒ‡ä»¤

- npm run build: å»ºç½®å°ˆæ¡ˆ
- npm run test: åŸ·è¡Œæ¸¬è©¦
- npm run lint: ç¨‹å¼ç¢¼æª¢æŸ¥

## ç¨‹å¼ç¢¼é¢¨æ ¼

- ä½¿ç”¨ ES modules (import/export)
- å„ªå…ˆä½¿ç”¨è§£æ§‹è³¦å€¼
- éµå¾ª TypeScript strict æ¨¡å¼

## å·¥ä½œæµç¨‹

- å®Œæˆè®Šæ›´å¾Œå‹™å¿…åŸ·è¡Œ typecheck
- å„ªå…ˆåŸ·è¡Œå–®ä¸€æ¸¬è©¦è€Œéæ•´å€‹æ¸¬è©¦å¥—ä»¶
- ä½¿ç”¨ Git Flow åˆ†æ”¯ç­–ç•¥
```

### æ¨¡å‹æ§åˆ¶

#### å¯ç”¨æ¨¡å‹

```bash
# æŸ¥çœ‹å¯ç”¨æ¨¡å‹
/model list

# ä½¿ç”¨åˆ¥å
claude --model sonnet
claude --model opus

# ä½¿ç”¨å®Œæ•´å‹è™Ÿï¼ˆå«æ—¥æœŸæ¨™ç±¤ï¼‰
claude --model claude-sonnet-4-20250514
```

#### ç•¶å‰æ”¯æ´æ¨¡å‹

- **Claude Opus 4**ï¼šæœ€å¼·å¤§çš„æ¨ç†æ¨¡å‹
- **Claude 4 Sonnet**ï¼šæœ€æ–°æ··åˆæ¨ç†æ¨¡å‹
- **Claude 3.7 Sonnet**ï¼šå¿«é€Ÿæ··åˆæ¨ç†æ¨¡å‹

### æ¬Šé™ç®¡ç†

#### æ¬Šé™æ¨¡å¼

```bash
# è¨ˆåŠƒæ¨¡å¼ï¼ˆæ¨è–¦ï¼‰
claude --permission-mode plan

# ç¸½æ˜¯è©¢å•æ¨¡å¼
claude --permission-mode always-ask
```

#### å·¥å…·æ¬Šé™

```bash
# å…è¨±ç‰¹å®šå·¥å…·
claude --allowedTools "Edit" "View" "Bash(git:*)"

# ç¦ç”¨å±éšªå·¥å…·
claude --disallowedTools "Bash(rm:*)" "Bash(sudo:*)"

# ç²¾ç´°æ¬Šé™æ§åˆ¶
claude --allowedTools "Bash(git log:*)" "Bash(git diff:*)" "Read"
```

### æœƒè©±ç®¡ç†

#### æœƒè©±æ“ä½œ

```bash
# ç¹¼çºŒæœ€è¿‘å°è©±
claude -c

# æ¢å¾©ç‰¹å®šæœƒè©±
claude -r "abc123" "ç¹¼çºŒé€™å€‹åŠŸèƒ½é–‹ç™¼"

# å£“ç¸®å°è©±æ­·å²
/compact "ä¿ç•™é‡è¦è¨è«–"

# æ¸…é™¤æ­·å²
/clear
```

### æª¢æŸ¥é»èˆ‡å›é€€ç³»çµ±

#### è‡ªå‹•è¿½è¹¤ç·¨è¼¯

Claude Code æœƒåœ¨æ¯æ¬¡ç·¨è¼¯å‰è‡ªå‹•æ•ç²ç¨‹å¼ç¢¼ç‹€æ…‹ï¼Œè®“æ‚¨å¯ä»¥å¿«é€Ÿæ’¤éŠ·ä¸éœ€è¦çš„è®Šæ›´ï¼š

- **è‡ªå‹•æª¢æŸ¥é»**ï¼šæ¯å€‹ä½¿ç”¨è€…æç¤ºå»ºç«‹æ–°æª¢æŸ¥é»
- **è·¨æœƒè©±æŒçºŒ**ï¼šæª¢æŸ¥é»åœ¨æœƒè©±é–“ä¿ç•™ï¼ˆ30 å¤©ï¼‰
- **é¸æ“‡æ€§æ¢å¾©**ï¼šå¯åˆ†åˆ¥æ¢å¾©ç¨‹å¼ç¢¼æˆ–å°è©±

#### å›é€€æ“ä½œ

```bash
# é–‹å•Ÿå›é€€é¸å–®
æŒ‰å…©æ¬¡ Escï¼ˆEsc + Escï¼‰
# æˆ–ä½¿ç”¨æŒ‡ä»¤
/rewind
```

**å›é€€é¸é …**ï¼š
1. **åƒ…å°è©±**ï¼šå›é€€å°è©±ä½†ä¿ç•™ç¨‹å¼ç¢¼è®Šæ›´
2. **åƒ…ç¨‹å¼ç¢¼**ï¼šé‚„åŸæª”æ¡ˆè®Šæ›´ä½†ä¿ç•™å°è©±
3. **ç¨‹å¼ç¢¼å’Œå°è©±**ï¼šå…©è€…éƒ½æ¢å¾©åˆ°å…ˆå‰æ™‚é–“é»

#### é™åˆ¶èªªæ˜

**ä¸è¿½è¹¤çš„è®Šæ›´**ï¼š
- Bash æŒ‡ä»¤ä¿®æ”¹çš„æª”æ¡ˆï¼ˆå¦‚ `rm`ã€`mv`ã€`cp`ï¼‰
- Claude Code å¤–éƒ¨çš„æ‰‹å‹•è®Šæ›´
- å…¶ä»–ä¸¦è¡Œæœƒè©±çš„ç·¨è¼¯

**æœ€ä½³å¯¦è¸**ï¼š
- æª¢æŸ¥é»è£œå……ä½†ä¸å–ä»£ Git ç‰ˆæœ¬æ§åˆ¶
- å°‡æª¢æŸ¥é»è¦–ç‚ºã€Œæœ¬åœ°æ’¤éŠ·ã€
- å°‡ Git è¦–ç‚ºã€Œæ°¸ä¹…æ­·å²ã€

### æ²™ç®±éš”é›¢ç³»çµ±

#### ä»€éº¼æ˜¯æ²™ç®±

æ²™ç®±éš”é›¢æä¾›ä½œæ¥­ç³»çµ±å±¤ç´šçš„å®‰å…¨é‚Šç•Œï¼Œé™åˆ¶ bash å‘½ä»¤çš„æª”æ¡ˆç³»çµ±å’Œç¶²è·¯å­˜å–ï¼š

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- **æª”æ¡ˆç³»çµ±éš”é›¢**ï¼šé™åˆ¶å¯«å…¥å­˜å–ç‰¹å®šç›®éŒ„
- **ç¶²è·¯éš”é›¢**ï¼šåƒ…å…è¨±å­˜å–æ‰¹å‡†çš„åŸŸå
- **æ¸›å°‘æç¤º**ï¼šæ²™ç®±å…§çš„å®‰å…¨å‘½ä»¤è‡ªå‹•æ‰¹å‡†
- **æå‡å®‰å…¨æ€§**ï¼šé˜²æ­¢æç¤ºæ³¨å…¥å’Œæƒ¡æ„æ“ä½œ

#### å•Ÿç”¨æ²™ç®±

```bash
# åœ¨æœƒè©±ä¸­å•Ÿç”¨
/sandbox

# é…ç½®æª”æ¡ˆå•Ÿç”¨ï¼ˆ.claude/settings.jsonï¼‰
{
  "sandbox": {
    "enabled": true,
    "autoAllowBashIfSandboxed": true,
    "excludedCommands": ["docker", "git"],
    "network": {
      "allowUnixSockets": ["~/.ssh/agent-socket"],
      "allowLocalBinding": true
    }
  }
}
```

#### å®‰å…¨å„ªå‹¢

**é˜²æ­¢æç¤ºæ³¨å…¥**ï¼š
- ç„¡æ³•ä¿®æ”¹ç³»çµ±æª”æ¡ˆï¼ˆå¦‚ `~/.bashrc`ã€`/bin/`ï¼‰
- ç„¡æ³•æ´©éœ²è³‡æ–™åˆ°æœªæˆæ¬Šä¼ºæœå™¨
- ç„¡æ³•ä¸‹è¼‰æƒ¡æ„æŒ‡ä»¤ç¢¼
- æ‰€æœ‰é•è¦å˜—è©¦åœ¨ä½œæ¥­ç³»çµ±å±¤ç´šè¢«é˜»æ­¢

**æ”»æ“Šé¢æ¸›å°‘**ï¼š
- é™åˆ¶æƒ¡æ„ä¾è³´é …çš„å½±éŸ¿
- é˜²æ­¢è¢«ç ´å£çš„å»ºç½®æŒ‡ä»¤ç¢¼
- é˜»æ­¢ç¤¾äº¤å·¥ç¨‹æ”»æ“Š

#### ä½œæ¥­ç³»çµ±æ”¯æ´

- **Linux**ï¼šä½¿ç”¨ [bubblewrap](https://github.com/containers/bubblewrap)
- **macOS**ï¼šä½¿ç”¨ Seatbelt æ²™ç®±
- **Windows**ï¼šè¨ˆåŠƒä¸­

---

## ğŸª Hooks åŠŸèƒ½ï¼ˆé€²éšè‡ªå‹•åŒ–ï¼‰

### ä»€éº¼æ˜¯ Hooks

Claude Code Hooks æ˜¯ä½¿ç”¨è€…å®šç¾©çš„ shell å‘½ä»¤ï¼Œåœ¨ Claude Code ç”Ÿå‘½é€±æœŸçš„å„å€‹æ™‚é»è‡ªå‹•åŸ·è¡Œã€‚Hooks æä¾›å° Claude Code è¡Œç‚ºçš„ç¢ºå®šæ€§æ§åˆ¶ï¼Œç¢ºä¿æŸäº›å‹•ä½œç¸½æ˜¯æœƒç™¼ç”Ÿï¼Œè€Œä¸æ˜¯ä¾è³´ LLM é¸æ“‡åŸ·è¡Œå®ƒå€‘ã€‚

#### ä¸»è¦å„ªå‹¢

- **ç¢ºå®šæ€§æ§åˆ¶**ï¼šå°‡å»ºè­°è½‰æ›ç‚ºæ‡‰ç”¨ç¨‹å¼å±¤ç´šçš„ç¨‹å¼ç¢¼ï¼Œæ¯æ¬¡é æœŸåŸ·è¡Œæ™‚éƒ½æœƒåŸ·è¡Œ
- **è‡ªå‹•åŒ–å·¥ä½œæµç¨‹**ï¼šç„¡éœ€æ‰‹å‹•å¹²é å³å¯åŸ·è¡Œé‡è¤‡ä»»å‹™
- **æ•´åˆå¤–éƒ¨å·¥å…·**ï¼šè¼•é¬†æ•´åˆç¾æœ‰çš„é–‹ç™¼å·¥å…·å’Œè…³æœ¬
- **æå‡å®‰å…¨æ€§**ï¼šå¯æ””æˆªå±éšªæ“ä½œï¼Œå¯¦æ–½å®‰å…¨ç­–ç•¥

#### å¸¸è¦‹ä½¿ç”¨æ¡ˆä¾‹

| ç”¨é€”           | ç¯„ä¾‹                                                | Hook äº‹ä»¶              |
| -------------- | --------------------------------------------------- | ---------------------- |
| **è‡ªå‹•æ ¼å¼åŒ–** | å° .ts æª”æ¡ˆåŸ·è¡Œ `prettier`ï¼Œå° .go æª”æ¡ˆåŸ·è¡Œ `gofmt` | PostToolUse            |
| **å®‰å…¨æ§åˆ¶**   | é˜»æ­¢å°ç”Ÿç”¢æª”æ¡ˆæˆ–æ•æ„Ÿç›®éŒ„çš„ä¿®æ”¹                      | PreToolUse             |
| **é€šçŸ¥ç³»çµ±**   | è‡ªè¨‚ç•¶ Claude Code ç­‰å¾…è¼¸å…¥æ™‚çš„é€šçŸ¥æ–¹å¼             | Notification           |
| **è¨˜éŒ„è¿½è¹¤**   | è¿½è¹¤å’Œè¨ˆç®—æ‰€æœ‰åŸ·è¡Œçš„å‘½ä»¤ä»¥ç¬¦åˆåˆè¦æ€§                | PreToolUse/PostToolUse |
| **ç¨‹å¼ç¢¼å›é¥‹** | ç•¶ç¨‹å¼ç¢¼ä¸ç¬¦åˆè¦ç¯„æ™‚æä¾›è‡ªå‹•å›é¥‹                    | PostToolUse            |

### Hook ç”Ÿå‘½é€±æœŸäº‹ä»¶

| äº‹ä»¶               | è§¸ç™¼æ™‚æ©Ÿ                  | å¸¸è¦‹ç”¨é€”                           |
| ------------------ | ------------------------- | ---------------------------------- |
| `PreToolUse`       | å·¥å…·åŸ·è¡Œå‰                | æ¬Šé™åˆ¤æ–·ã€ç¨‹å¼ç¢¼éœæ…‹åˆ†æã€å®‰å…¨æª¢æŸ¥ |
| `PostToolUse`      | å·¥å…·æˆåŠŸå¾Œ                | è‡ªå‹•æ ¼å¼åŒ–ã€æ—¥èªŒè¨˜éŒ„ã€ç¨‹å¼ç¢¼é©—è­‰   |
| `Notification`     | Claude Code ç™¼é€é€šçŸ¥æ™‚    | æ¡Œé¢æé†’ã€Slack é€šçŸ¥               |
| `UserPromptSubmit` | ä½¿ç”¨è€…é€å‡º prompt æ™‚      | æ•æ„Ÿè©éæ¿¾ã€å…§å®¹æª¢æŸ¥               |
| `Stop`             | ä¸»ä»£ç†å›æ‡‰å®Œç•¢æ™‚          | é€£çºŒå·¥ä½œæµã€è§¸ç™¼æ¬¡ç´šä»»å‹™           |
| `SubagentStop`     | å­ä»£ç†å›æ‡‰å®Œç•¢æ™‚          | å­ä»»å‹™å®Œæˆè™•ç†                     |
| `PreCompact`       | Claude åŸ·è¡Œ `/compact` å‰ | è¿½åŠ è‡ªè¨‚æ‘˜è¦è¦å‰‡                   |

### é…ç½®æ–¹å¼

#### äº’å‹•å¼é…ç½®

```bash
# åœ¨ REPL ä¸­
claude
/hooks

# é¸æ“‡äº‹ä»¶é¡å‹ â†’ æ–°å¢åŒ¹é…å™¨ â†’ æ–°å¢ hook å‘½ä»¤
```

#### JSON è¨­å®šæª”é…ç½®

**è¨­å®šæª”ä½ç½®**ï¼š

- `~/.claude/settings.json`ï¼ˆå…¨åŸŸè¨­å®šï¼‰
- `.claude/settings.json`ï¼ˆå°ˆæ¡ˆè¨­å®šï¼Œç´å…¥ç‰ˆæ§ï¼‰
- `.claude/settings.local.json`ï¼ˆæœ¬åœ°è¨­å®šï¼Œä¸é€²ç‰ˆæ§ï¼‰

**åŸºæœ¬çµæ§‹**ï¼š

```json
{
  "hooks": {
    "äº‹ä»¶åç¨±": [
      {
        "matcher": "å·¥å…·æ¨¡å¼",
        "hooks": [
          {
            "type": "command",
            "command": "è¦åŸ·è¡Œçš„å‘½ä»¤",
            "timeout": 60
          }
        ]
      }
    ]
  }
}
```

#### Matcher èªæ³•è¦å‰‡

| é¡å‹           | èªæ³•         | ç¯„ä¾‹                  | èªªæ˜               |
| -------------- | ------------ | --------------------- | ------------------ |
| **ç²¾ç¢ºåŒ¹é…**   | å­—ä¸²         | `"Edit"`              | åƒ…åŒ¹é… Edit å·¥å…·   |
| **æ­£è¦è¡¨ç¤ºå¼** | æ¨¡å¼         | `"Edit\|Write"`       | åŒ¹é… Edit æˆ– Write |
| **è¬ç”¨åŒ¹é…**   | ç©ºå­—ä¸²æˆ–çœç•¥ | `""`                  | åŒ¹é…æ‰€æœ‰å·¥å…·       |
| **MCP å·¥å…·**   | æ¨¡å¼         | `"mcp__server__tool"` | åŒ¹é…ç‰¹å®š MCP å·¥å…·  |

### Hook è¼¸å…¥è¼¸å‡ºæ©Ÿåˆ¶

#### è¼¸å…¥æ ¼å¼

Hook é€é stdin æ¥æ”¶ JSON æ ¼å¼çš„äº‹ä»¶è³‡æ–™ï¼š

```json
{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../session.jsonl",
  "hook_event_name": "PreToolUse",
  "cwd": "/current/working/directory",
  "tool_name": "Edit",
  "tool_input": {
    "file_path": "/path/to/file.txt",
    "content": "æª”æ¡ˆå…§å®¹"
  }
}
```

#### è¼¸å‡ºæ§åˆ¶æ©Ÿåˆ¶

##### ç°¡å–®ï¼šé€€å‡ºä»£ç¢¼

| ä»£ç¢¼     | æ•ˆæœ       | è¡Œç‚ºèªªæ˜                                 |
| -------- | ---------- | ---------------------------------------- |
| **0**    | æˆåŠŸ       | `stdout` ä¸çµ¦ Claudeï¼›å…§å®¹åªåœ¨è¨˜éŒ„ä¸­å¯è¦‹ |
| **2**    | é˜»æ“‹éŒ¯èª¤   | `stderr` å›é¥‹ Claudeï¼Œé˜»æ“‹æˆ–ä¿®æ”¹å¾ŒçºŒè¡Œç‚º |
| **å…¶ä»–** | éé˜»æ“‹éŒ¯èª¤ | é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼Œæµç¨‹ç…§å¸¸é€²è¡Œ               |

##### é€²éšï¼šJSON è¼¸å‡º

```json
{
  "decision": "block|approve",
  "continue": false,
  "reason": "æ±ºç­–èªªæ˜",
  "suppressOutput": true
}
```

### å¯¦æˆ°ç¯„ä¾‹

#### è‡ªå‹•ç¨‹å¼ç¢¼æ ¼å¼åŒ–

```json
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "if [[ \"$FILE\" =~ \\.(ts|js|tsx|jsx)$ ]]; then npx prettier --write \"$FILE\"; fi",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
```

#### æ•æ„Ÿæª”æ¡ˆä¿è­·

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ~/.claude/scripts/check-sensitive-files.py",
            "timeout": 10
          }
        ]
      }
    ]
  }
}
```

**ä¿è­·è…³æœ¬ç¯„ä¾‹**ï¼š

```python
#!/usr/bin/env python3
import json
import sys

# è®€å– hook è¼¸å…¥
input_data = json.load(sys.stdin)
file_path = input_data.get("tool_input", {}).get("file_path", "")

# æ•æ„Ÿæª”æ¡ˆæª¢æŸ¥
sensitive_patterns = [".env", ".key", ".pem", "secrets/"]

for pattern in sensitive_patterns:
    if pattern in file_path:
        print(f"ç¦æ­¢ä¿®æ”¹æ•æ„Ÿæª”æ¡ˆ: {file_path}", file=sys.stderr)
        sys.exit(2)  # é˜»æ“‹æ“ä½œ

sys.exit(0)  # å…è¨±æ“ä½œ
```

#### è‡ªå‹•æ¡Œé¢é€šçŸ¥

```json
{
  "hooks": {
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "notify-send 'Claude Code' \"$(echo '$INPUT' | jq -r '.message')\""
          }
        ]
      }
    ]
  }
}
```

#### MCP å·¥å…·æ•´åˆ

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "mcp__github__.*",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GitHub API æ“ä½œè¨˜éŒ„' >> ~/github-operations.log"
          }
        ]
      }
    ]
  }
}
```

### å®‰å…¨è€ƒé‡

#### âš ï¸ é‡è¦å…è²¬è²æ˜

**ä½¿ç”¨é¢¨éšªè‡ªè² **ï¼šClaude Code hooks æœƒåœ¨æ‚¨çš„ç³»çµ±ä¸Šè‡ªå‹•åŸ·è¡Œä»»æ„ shell å‘½ä»¤ã€‚ä½¿ç”¨å‰è«‹ç¢ºèªï¼š

- æ‚¨å°è¨­å®šçš„å‘½ä»¤è² å…¨è²¬
- Hooks å¯å­˜å–æ‚¨å¸³æˆ¶èƒ½å­˜å–çš„ä»»ä½•æª”æ¡ˆ
- æƒ¡æ„æˆ–éŒ¯èª¤çš„ hooks å¯èƒ½å°è‡´è³‡æ–™éºå¤±
- Anthropic ä¸å°å› ä½¿ç”¨ hook å°è‡´çš„æå£æ‰¿æ“”è²¬ä»»

#### å®‰å…¨æœ€ä½³å¯¦è¸

1. **è¼¸å…¥é©—è­‰**ï¼šæ°¸é é©—è­‰å’Œæ¸…ç†è¼¸å…¥è³‡æ–™
2. **å¼•è™Ÿä¿è­·**ï¼šä½¿ç”¨ `"$VAR"` è€Œä¸æ˜¯ `$VAR`
3. **è·¯å¾‘æª¢æŸ¥**ï¼šé˜»æ­¢è·¯å¾‘éæ­·æ”»æ“Š (`..`)
4. **çµ•å°è·¯å¾‘**ï¼šç‚ºè…³æœ¬æŒ‡å®šå®Œæ•´è·¯å¾‘
5. **æ•æ„Ÿæª”æ¡ˆ**ï¼šé¿å…è™•ç† `.env`ã€`.git/`ã€é‡‘é‘°ç­‰

#### è¨­å®šå®‰å…¨æ©Ÿåˆ¶

- å•Ÿå‹•æ™‚æ“·å– hooks å¿«ç…§ï¼Œæ•´å€‹æœƒè©±ä½¿ç”¨æ­¤å¿«ç…§
- å¤–éƒ¨ä¿®æ”¹ hooks æ™‚æœƒè­¦å‘Š
- éœ€è¦åœ¨ `/hooks` é¸å–®ä¸­æª¢é–±æ‰èƒ½æ‡‰ç”¨è®Šæ›´

### é™¤éŒ¯èˆ‡ç›£æ§

#### é™¤éŒ¯æ­¥é©Ÿ

1. æª¢æŸ¥ `/hooks` é¸å–®é¡¯ç¤ºçš„è¨­å®š
2. é©—è­‰ JSON æ ¼å¼æ­£ç¢ºæ€§
3. æ‰‹å‹•æ¸¬è©¦å‘½ä»¤
4. æª¢æŸ¥é€€å‡ºä»£ç¢¼å’Œè¼¸å‡ºæ ¼å¼
5. ä½¿ç”¨ `claude --debug` æŸ¥çœ‹è©³ç´°åŸ·è¡Œè³‡è¨Š

#### ç›£æ§è¼¸å‡º

```bash
# å•Ÿç”¨é™¤éŒ¯æ¨¡å¼
claude --debug

# æˆåŠŸ hook è¼¸å‡ºç¯„ä¾‹ï¼š
[DEBUG] Executing hooks for PostToolUse:Write
[DEBUG] Found 1 hook commands to execute
[DEBUG] Hook command completed with status 0
```

#### è¨˜éŒ„æ¨¡å¼æª¢è¦–

æŒ‰ `Ctrl-R` é€²å…¥è¨˜éŒ„æ¨¡å¼ï¼Œå¯æª¢è¦–ï¼š

- Hook åŸ·è¡Œç‹€æ³
- å‘½ä»¤è¼¸å‡º
- æˆåŠŸ/å¤±æ•—ç‹€æ…‹
- éŒ¯èª¤è¨Šæ¯

---

## ğŸ”’ å®‰å…¨æ§åˆ¶

### æ†²æ”¿ AI æ¡†æ¶

Claude Code æ•´åˆäº†å¤šå±¤å®‰å…¨æ©Ÿåˆ¶ï¼š

1. **æ†²æ”¿ AI**ï¼šå…§å»ºå€«ç†è¦ç¯„æŒ‡å°æ¨¡å‹è¡Œç‚º
2. **RLHF**ï¼šåŸºæ–¼äººé¡å›é¥‹çš„å¼·åŒ–å­¸ç¿’
3. **ç´…éšŠæ¸¬è©¦**ï¼šä¸»å‹•æ”»æ“Šæ¸¬è©¦å®‰å…¨æ€§
4. **å³æ™‚ç›£æ§**ï¼šç•°å¸¸è¡Œç‚ºæ¨¡å¼æª¢æ¸¬

### å®‰å…¨æœ€ä½³å¯¦è¸

```bash
# ç”Ÿç”¢ç’°å¢ƒå®‰å…¨è¨­å®š
claude --allowedTools "Edit" "View" --permission-mode always-ask

# æ•æ„Ÿæ“ä½œé¿å…è·³éæ¬Šé™
# é¿å…ï¼šclaude --dangerously-skip-permissions

# å®šæœŸæª¢æŸ¥æ¬Šé™è¨­å®š
/permissions view

# ä½¿ç”¨è¨ˆåŠƒæ¨¡å¼é€²è¡Œè¤‡é›œæ“ä½œ
claude --permission-mode plan "é‡æ§‹æ•´å€‹æ¨¡çµ„"
```

### ä¼æ¥­å®‰å…¨æ§åˆ¶

```bash
# é™åˆ¶å·¥å…·å­˜å–
echo '{
  "allowedTools": ["Edit", "View", "Bash(git:*)"],
  "disallowedTools": ["Bash(rm:*)", "Bash(sudo:*)"]
}' > .claude/settings.json

# è¨­å®šæœ€å¤§å›åˆæ•¸
claude --max-turns 5 --permission-mode always-ask
```

---

## âš™ï¸ è¨­å®šæª”æ¡ˆèˆ‡ç’°å¢ƒè®Šæ•¸

### è¨­å®šæª”æ¡ˆå±¤ç´š

Claude Code æ”¯æ´åˆ†å±¤è¨­å®šç³»çµ±ï¼ŒæŒ‰å„ªå…ˆé †åºæ’åˆ—ï¼š

1. **ä¼æ¥­ç®¡ç†æ”¿ç­–**ï¼ˆæœ€é«˜å„ªå…ˆç´šï¼‰
2. **å‘½ä»¤åˆ—åƒæ•¸**
3. **æœ¬åœ°å°ˆæ¡ˆè¨­å®š**
4. **å…±äº«å°ˆæ¡ˆè¨­å®š**
5. **ä½¿ç”¨è€…è¨­å®š**ï¼ˆæœ€ä½å„ªå…ˆç´šï¼‰

#### è¨­å®šæª”æ¡ˆä½ç½®

| æª”æ¡ˆ           | ä½ç½®                          | ç”¨é€”                     | ç‰ˆæœ¬æ§åˆ¶   |
| -------------- | ----------------------------- | ------------------------ | ---------- |
| **ä½¿ç”¨è€…è¨­å®š** | `~/.claude/settings.json`     | å…¨åŸŸè¨­å®šï¼Œé©ç”¨æ–¼æ‰€æœ‰å°ˆæ¡ˆ | ä¸ç´å…¥     |
| **å°ˆæ¡ˆè¨­å®š**   | `.claude/settings.json`       | å°ˆæ¡ˆå…±äº«è¨­å®šï¼Œåœ˜éšŠä½¿ç”¨   | ç´å…¥ç‰ˆæ§   |
| **æœ¬åœ°è¨­å®š**   | `.claude/settings.local.json` | å€‹äººå¯¦é©—è¨­å®šï¼Œä¸å…±äº«     | è‡ªå‹•å¿½ç•¥   |
| **ä¼æ¥­æ”¿ç­–**   | å¹³å°ç‰¹å®šä½ç½®                  | ç®¡ç†å“¡å¼·åˆ¶è¨­å®š           | ç®¡ç†å“¡æ§åˆ¶ |

#### ä¼æ¥­ç®¡ç†æ”¿ç­–ä½ç½®

| å¹³å°          | è·¯å¾‘                                                            |
| ------------- | --------------------------------------------------------------- |
| **macOS**     | `/Library/Application Support/ClaudeCode/managed-settings.json` |
| **Linux/WSL** | `/etc/claude-code/managed-settings.json`                        |
| **Windows**   | `C:\ProgramData\ClaudeCode\managed-settings.json`               |

### è¨­å®šé¸é …è©³ç´°èªªæ˜

#### åŸºæœ¬è¨­å®š

| é¸é …                  | é¡å‹    | é è¨­å€¼      | èªªæ˜                       | ç¯„ä¾‹                           |
| --------------------- | ------- | ----------- | -------------------------- | ------------------------------ |
| `model`               | string  | æœ€æ–° Sonnet | æŒ‡å®šé è¨­æ¨¡å‹               | `"claude-3-5-sonnet-20241022"` |
| `cleanupPeriodDays`   | number  | 30          | å°è©±è¨˜éŒ„ä¿ç•™å¤©æ•¸           | `20`                           |
| `includeCoAuthoredBy` | boolean | true        | Git æäº¤ä¸­åŒ…å« Claude ç½²å | `false`                        |

#### èªè­‰è¨­å®š

| é¸é …               | èªªæ˜                  | ç¯„ä¾‹                              |
| ------------------ | --------------------- | --------------------------------- |
| `apiKeyHelper`     | å‹•æ…‹ API é‡‘é‘°ç”Ÿæˆè…³æœ¬ | `"/bin/generate_temp_api_key.sh"` |
| `forceLoginMethod` | å¼·åˆ¶ç‰¹å®šç™»å…¥æ–¹å¼      | `"claudeai"` æˆ– `"console"`       |

#### MCP ä¼ºæœå™¨è¨­å®š

| é¸é …                         | èªªæ˜                        | ç¯„ä¾‹                   |
| ---------------------------- | --------------------------- | ---------------------- |
| `enableAllProjectMcpServers` | è‡ªå‹•æ‰¹å‡†æ‰€æœ‰å°ˆæ¡ˆ MCP ä¼ºæœå™¨ | `true`                 |
| `enabledMcpjsonServers`      | æ‰¹å‡†ç‰¹å®š MCP ä¼ºæœå™¨æ¸…å–®     | `["memory", "github"]` |
| `disabledMcpjsonServers`     | æ‹’çµ•ç‰¹å®š MCP ä¼ºæœå™¨æ¸…å–®     | `["filesystem"]`       |

#### æ¬Šé™è¨­å®šçµæ§‹

```json
{
  "permissions": {
    "allow": ["Bash(npm run lint)", "Bash(npm run test:*)", "Read(~/.zshrc)"],
    "deny": ["Bash(curl:*)", "WebFetch"],
    "additionalDirectories": ["../docs/", "../shared-lib/"],
    "defaultMode": "acceptEdits",
    "disableBypassPermissionsMode": "disable"
  }
}
```

#### å®Œæ•´è¨­å®šç¯„ä¾‹

```json
{
  "model": "claude-3-5-sonnet-20241022",
  "cleanupPeriodDays": 20,
  "includeCoAuthoredBy": false,
  "forceLoginMethod": "console",
  "enableAllProjectMcpServers": false,
  "enabledMcpjsonServers": ["memory", "github"],
  "permissions": {
    "allow": ["Bash(npm run lint)", "Bash(git diff:*)"],
    "deny": ["WebFetch", "Bash(curl:*)"],
    "defaultMode": "acceptEdits"
  },
  "env": {
    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",
    "OTEL_METRICS_EXPORTER": "otlp"
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "npx prettier --write \"$FILE\"",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
```

### ç’°å¢ƒè®Šæ•¸åƒè€ƒ

#### æ ¸å¿ƒèªè­‰è®Šæ•¸

| è®Šæ•¸                       | ç”¨é€”                        | ç¯„ä¾‹                   |
| -------------------------- | --------------------------- | ---------------------- |
| `ANTHROPIC_API_KEY`        | API é‡‘é‘°ï¼ˆX-Api-Key æ¨™é ­ï¼‰  | `sk-ant-apiXX-XXXXXXX` |
| `ANTHROPIC_AUTH_TOKEN`     | è‡ªè¨‚èªè­‰ä»¤ç‰Œï¼ˆBearer å‰ç¶´ï¼‰ | `sk-custom-token`      |
| `ANTHROPIC_CUSTOM_HEADERS` | è‡ªè¨‚è«‹æ±‚æ¨™é ­                | `"X-Custom: value"`    |

#### æ¨¡å‹è¨­å®šè®Šæ•¸

| è®Šæ•¸                            | ç”¨é€”                  | ç¯„ä¾‹                        |
| ------------------------------- | --------------------- | --------------------------- |
| `ANTHROPIC_MODEL`               | è‡ªè¨‚æ¨¡å‹åç¨±          | `claude-opus-4-20250514`    |
| `ANTHROPIC_SMALL_FAST_MODEL`    | èƒŒæ™¯ä»»å‹™ç”¨ Haiku æ¨¡å‹ | `claude-3-5-haiku-20241022` |
| `CLAUDE_CODE_MAX_OUTPUT_TOKENS` | æœ€å¤§è¼¸å‡ºä»¤ç‰Œæ•¸        | `8192`                      |
| `MAX_THINKING_TOKENS`           | æ€è€ƒæ¨¡å¼ä»¤ç‰Œé ç®—      | `1024`                      |

#### ç¬¬ä¸‰æ–¹å¹³å°è®Šæ•¸

| è®Šæ•¸                            | ç”¨é€”                  | ç¯„ä¾‹        |
| ------------------------------- | --------------------- | ----------- |
| `CLAUDE_CODE_USE_BEDROCK`       | å•Ÿç”¨ AWS Bedrock      | `1`         |
| `CLAUDE_CODE_USE_VERTEX`        | å•Ÿç”¨ Google Vertex AI | `1`         |
| `CLAUDE_CODE_SKIP_BEDROCK_AUTH` | è·³é Bedrock èªè­‰     | `1`         |
| `CLAUDE_CODE_SKIP_VERTEX_AUTH`  | è·³é Vertex èªè­‰      | `1`         |
| `AWS_REGION`                    | AWS å€åŸŸ              | `us-east-1` |
| `CLOUD_ML_REGION`               | Google Cloud å€åŸŸ     | `us-east5`  |

#### Bash å·¥å…·æ§åˆ¶è®Šæ•¸

| è®Šæ•¸                                       | ç”¨é€”              | é è¨­å€¼ | ç¯„ä¾‹     |
| ------------------------------------------ | ----------------- | ------ | -------- |
| `BASH_DEFAULT_TIMEOUT_MS`                  | Bash å‘½ä»¤é è¨­é€¾æ™‚ | 30000  | `60000`  |
| `BASH_MAX_TIMEOUT_MS`                      | Bash å‘½ä»¤æœ€å¤§é€¾æ™‚ | 300000 | `600000` |
| `BASH_MAX_OUTPUT_LENGTH`                   | Bash è¼¸å‡ºæœ€å¤§é•·åº¦ | 100000 | `200000` |
| `CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR` | ç¶­æŒå°ˆæ¡ˆå·¥ä½œç›®éŒ„  | false  | `1`      |

#### MCP è¨­å®šè®Šæ•¸

| è®Šæ•¸                    | ç”¨é€”                   | é è¨­å€¼ | ç¯„ä¾‹     |
| ----------------------- | ---------------------- | ------ | -------- |
| `MCP_TIMEOUT`           | MCP ä¼ºæœå™¨å•Ÿå‹•é€¾æ™‚     | 30000  | `60000`  |
| `MCP_TOOL_TIMEOUT`      | MCP å·¥å…·åŸ·è¡Œé€¾æ™‚       | 60000  | `120000` |
| `MAX_MCP_OUTPUT_TOKENS` | MCP å·¥å…·å›æ‡‰æœ€å¤§ä»¤ç‰Œæ•¸ | 25000  | `50000`  |

#### ç³»çµ±è¡Œç‚ºæ§åˆ¶è®Šæ•¸

| è®Šæ•¸                                       | ç”¨é€”               | æ•ˆæœ             |
| ------------------------------------------ | ------------------ | ---------------- |
| `DISABLE_AUTOUPDATER`                      | åœç”¨è‡ªå‹•æ›´æ–°       | è¨­ç‚º `1` åœç”¨    |
| `DISABLE_BUG_COMMAND`                      | åœç”¨ `/bug` å‘½ä»¤   | è¨­ç‚º `1` åœç”¨    |
| `DISABLE_COST_WARNINGS`                    | åœç”¨æˆæœ¬è­¦å‘Š       | è¨­ç‚º `1` åœç”¨    |
| `DISABLE_ERROR_REPORTING`                  | åœç”¨éŒ¯èª¤å›å ±       | è¨­ç‚º `1` åœç”¨    |
| `DISABLE_TELEMETRY`                        | åœç”¨é™æ¸¬           | è¨­ç‚º `1` åœç”¨    |
| `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC` | åœç”¨éå¿…è¦ç¶²è·¯æµé‡ | ç­‰åŒä¸Šè¿°å››å€‹è®Šæ•¸ |

#### ä»£ç†è¨­å®šè®Šæ•¸

| è®Šæ•¸                  | ç”¨é€”                 | ç¯„ä¾‹                              |
| --------------------- | -------------------- | --------------------------------- |
| `HTTP_PROXY`          | HTTP ä»£ç†ä¼ºæœå™¨      | `http://proxy.company.com:8080`   |
| `HTTPS_PROXY`         | HTTPS ä»£ç†ä¼ºæœå™¨     | `https://proxy.company.com:8080`  |
| `SSL_CERT_FILE`       | SSL æ†‘è­‰æª”æ¡ˆè·¯å¾‘     | `/path/to/certificate-bundle.crt` |
| `NODE_EXTRA_CA_CERTS` | Node.js é¡å¤– CA æ†‘è­‰ | `/path/to/certificate-bundle.crt` |

### è¨­å®šç®¡ç†å‘½ä»¤

```bash
# æª¢è¦–è¨­å®š
claude config list                    # åˆ—å‡ºæ‰€æœ‰è¨­å®š
claude config get <key>               # æŸ¥çœ‹ç‰¹å®šè¨­å®šå€¼

# ä¿®æ”¹è¨­å®š
claude config set <key> <value>       # è¨­å®šå€¼
claude config add <key> <value>       # æ–°å¢åˆ°æ¸…å–®
claude config remove <key> <value>    # å¾æ¸…å–®ç§»é™¤

# å…¨åŸŸè¨­å®šï¼ˆåŠ  -g æˆ– --globalï¼‰
claude config set -g theme dark       # è¨­å®šå…¨åŸŸä¸»é¡Œ
claude config list -g                 # åˆ—å‡ºå…¨åŸŸè¨­å®š
```

#### å…¨åŸŸè¨­å®šé¸é …

| é¸é …                    | èªªæ˜         | å¯ç”¨å€¼                                                 | é è¨­å€¼   |
| ----------------------- | ------------ | ------------------------------------------------------ | -------- |
| `autoUpdates`           | è‡ªå‹•æ›´æ–°é–‹é—œ | `true`/`false`                                         | `true`   |
| `preferredNotifChannel` | é€šçŸ¥æ–¹å¼     | `iterm2`, `terminal_bell`, `notifications_disabled`    | `iterm2` |
| `theme`                 | ä¸»é¡Œ         | `dark`, `light`, `light-daltonized`, `dark-daltonized` | `dark`   |
| `verbose`               | è©³ç´°è¼¸å‡º     | `true`/`false`                                         | `false`  |

---

## ğŸ¢ ä¼æ¥­éƒ¨ç½²

### DevContainer æ•´åˆ

#### .devcontainer/devcontainer.json ç¯„ä¾‹

```json
{
  "name": "Claude Code Development",
  "image": "mcr.microsoft.com/devcontainers/typescript-node:18",
  "features": {
    "ghcr.io/devcontainers/features/git:1": {}
  },
  "postCreateCommand": "npm install -g @anthropic-ai/claude-code",
  "customizations": {
    "vscode": {
      "extensions": ["anthropic.claude-code"]
    }
  }
}
```

### CI/CD æ•´åˆ

#### GitHub Actions ç¯„ä¾‹

```yaml
name: Claude Code Quality Check
on: [push, pull_request]

jobs:
  claude-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "20"
      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code
      - name: Health Check
        run: claude doctor --json
      - name: Code Review
        run: claude -p "è«‹å¯©æŸ¥é€™å€‹ PR çš„è®Šæ›´" --output-format json
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
```

### ä¼æ¥­ç´šç›£æ§èˆ‡é™æ¸¬

#### OpenTelemetry ç›£æ§è¨­å®š

Claude Code æ”¯æ´å®Œæ•´çš„ OpenTelemetry ç›£æ§ï¼Œæä¾›æŒ‡æ¨™ã€æ—¥èªŒå’Œè¿½è¹¤åŠŸèƒ½ï¼š

**åŸºæœ¬å•Ÿç”¨**ï¼š

```bash
# å•Ÿç”¨é™æ¸¬
export CLAUDE_CODE_ENABLE_TELEMETRY=1

# è¨­å®š OTLP åŒ¯å‡ºå™¨
export OTEL_METRICS_EXPORTER=otlp
export OTEL_LOGS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
```

**é€²éšè¨­å®šç¯„ä¾‹**ï¼š

```bash
# å®Œæ•´ç›£æ§è¨­å®š
export CLAUDE_CODE_ENABLE_TELEMETRY=1

# å¤šé‡åŒ¯å‡ºå™¨
export OTEL_METRICS_EXPORTER=console,otlp,prometheus
export OTEL_LOGS_EXPORTER=console,otlp

# ä¸åŒå”å®šè¨­å®š
export OTEL_EXPORTER_OTLP_METRICS_PROTOCOL=http/protobuf
export OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://metrics.company.com:4318
export OTEL_EXPORTER_OTLP_LOGS_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://logs.company.com:4317

# èªè­‰è¨­å®š
export OTEL_EXPORTER_OTLP_HEADERS="Authorization=Bearer company-token"

# é™¤éŒ¯ç”¨å¿«é€ŸåŒ¯å‡º
export OTEL_METRIC_EXPORT_INTERVAL=10000  # 10 ç§’
export OTEL_LOGS_EXPORT_INTERVAL=5000     # 5 ç§’
```

#### ç›£æ§æŒ‡æ¨™é¡å‹

| æŒ‡æ¨™é¡åˆ¥     | æè¿°                 | ç¯„ä¾‹æŒ‡æ¨™                 |
| ------------ | -------------------- | ------------------------ |
| **ä½¿ç”¨çµ±è¨ˆ** | ä½¿ç”¨è€…æ´»å‹•å’Œæœƒè©±è³‡è¨Š | æ´»èºä½¿ç”¨è€…ã€æœƒè©±æ™‚é•·     |
| **æ¨¡å‹å‘¼å«** | API å‘¼å«å’Œä»¤ç‰Œä½¿ç”¨   | è«‹æ±‚æ¬¡æ•¸ã€ä»¤ç‰Œæ¶ˆè€—ã€å»¶é² |
| **å·¥å…·ä½¿ç”¨** | å·¥å…·åŸ·è¡Œçµ±è¨ˆ         | å·¥å…·å‘¼å«é »ç‡ã€åŸ·è¡Œæ™‚é–“   |
| **éŒ¯èª¤è¿½è¹¤** | éŒ¯èª¤å’Œä¾‹å¤–ç›£æ§       | éŒ¯èª¤ç‡ã€éŒ¯èª¤é¡å‹åˆ†ä½ˆ     |
| **æ•ˆèƒ½æŒ‡æ¨™** | ç³»çµ±æ•ˆèƒ½ç›£æ§         | å›æ‡‰æ™‚é–“ã€è¨˜æ†¶é«”ä½¿ç”¨     |

#### ä¼æ¥­ç›£æ§æœ€ä½³å¯¦è¸

**1. é›†ä¸­åŒ–ç›£æ§**ï¼š

```json
{
  "env": {
    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",
    "OTEL_METRICS_EXPORTER": "otlp",
    "OTEL_LOGS_EXPORTER": "otlp",
    "OTEL_EXPORTER_OTLP_PROTOCOL": "grpc",
    "OTEL_EXPORTER_OTLP_ENDPOINT": "http://collector.company.com:4317",
    "OTEL_EXPORTER_OTLP_HEADERS": "Authorization=Bearer company-token"
  }
}
```

**2. è³‡æ–™éš±ç§ä¿è­·**ï¼š

```bash
# åœç”¨ä½¿ç”¨è€…æç¤ºå…§å®¹è¨˜éŒ„ï¼ˆé è¨­å·²åœç”¨ï¼‰
# export OTEL_LOG_USER_PROMPTS=1  # åƒ…åœ¨éœ€è¦æ™‚å•Ÿç”¨

# åœç”¨éå¿…è¦é™æ¸¬
export DISABLE_TELEMETRY=1  # å®Œå…¨åœç”¨ Statsig é™æ¸¬
```

**3. æ•ˆèƒ½ç›£æ§è¨­å®š**ï¼š

```bash
# ç›£æ§è¨­å®š
claude doctor --json          # ç³»çµ±å¥åº·æª¢æŸ¥ï¼ˆJSON æ ¼å¼ï¼‰
/cost                         # æˆæœ¬è¿½è¹¤å’Œåˆ†æ
/status                       # å³æ™‚ç‹€æ…‹ç›£æ§
claude --debug               # è©³ç´°é™¤éŒ¯è³‡è¨Š
```

#### ç›£æ§å„€è¡¨æ¿ç¯„ä¾‹æŒ‡æ¨™

**é—œéµæ•ˆèƒ½æŒ‡æ¨™ï¼ˆKPIï¼‰**ï¼š

- **ä½¿ç”¨è€…æ¡ç”¨ç‡**ï¼šæ´»èºä½¿ç”¨è€… / æˆæ¬Šä½¿ç”¨è€…
- **ç”Ÿç”¢åŠ›æŒ‡æ¨™**ï¼šæ¯æ—¥å®Œæˆä»»å‹™æ•¸ã€ç¨‹å¼ç¢¼è¡Œæ•¸è®Šæ›´
- **å“è³ªæŒ‡æ¨™**ï¼šéŒ¯èª¤ç‡ã€é‡è©¦æ¬¡æ•¸
- **æˆæœ¬æ•ˆç›Š**ï¼šæ¯ä»»å‹™æˆæœ¬ã€ROI åˆ†æ

**æŠ€è¡“æŒ‡æ¨™**ï¼š

- **API æ•ˆèƒ½**ï¼šå¹³å‡å›æ‡‰æ™‚é–“ã€P95 å»¶é²ã€éŒ¯èª¤ç‡
- **è³‡æºä½¿ç”¨**ï¼šä»¤ç‰Œæ¶ˆè€—ç‡ã€é »å¯¬ä½¿ç”¨ã€å„²å­˜ç©ºé–“
- **å·¥å…·æ•ˆèƒ½**ï¼šå„å·¥å…·å¹³å‡åŸ·è¡Œæ™‚é–“ã€æˆåŠŸç‡

#### å‘Šè­¦è¨­å®šå»ºè­°

```yaml
alerts:
  high_token_usage:
    condition: "token_usage_per_hour > 10000"
    action: "notify_admin"

  high_error_rate:
    condition: "error_rate > 5%"
    action: "escalate_to_engineering"

  slow_response:
    condition: "avg_response_time > 30s"
    action: "check_infrastructure"

  security_violations:
    condition: "permission_denials > threshold"
    action: "security_review"
```

---

## ğŸ”— ç¬¬ä¸‰æ–¹æ•´åˆèˆ‡ LLM Gateway

### LLM Gateway æ•´åˆ

LLM Gateway æä¾›çµ±ä¸€çš„ API ç«¯é»ï¼Œç°¡åŒ–å¤šå€‹ LLM æä¾›å•†çš„ç®¡ç†ï¼š

#### LiteLLM æ•´åˆè¨­å®š

**åŸºæœ¬è¨­å®š**ï¼š

```bash
# ä½¿ç”¨ LiteLLM çµ±ä¸€ç«¯é»
export ANTHROPIC_BASE_URL=https://litellm-server:4000

# ä½¿ç”¨éœæ…‹ API é‡‘é‘°
export ANTHROPIC_AUTH_TOKEN=sk-litellm-static-key
```

**å‹•æ…‹é‡‘é‘°ç®¡ç†**ï¼š

```json
{
  "apiKeyHelper": "~/bin/get-litellm-key.sh",
  "env": {
    "CLAUDE_CODE_API_KEY_HELPER_TTL_MS": "3600000"
  }
}
```

**é‡‘é‘°ç²å–è…³æœ¬ç¯„ä¾‹**ï¼š

```bash
#!/bin/bash
# ~/bin/get-litellm-key.sh
curl -s -X POST "https://auth.company.com/api/token" \
  -H "Authorization: Bearer $COMPANY_API_KEY" \
  -d '{"service": "litellm"}' | jq -r '.access_token'
```

#### AWS Bedrock æ•´åˆ

**åŸºæœ¬è¨­å®š**ï¼š

```bash
# å•Ÿç”¨ Bedrock
export CLAUDE_CODE_USE_BEDROCK=1
export AWS_REGION=us-east-1

# ä½¿ç”¨ç‰¹å®šæ¨¡å‹
export ANTHROPIC_MODEL='us.anthropic.claude-opus-4-20250514-v1:0'
export ANTHROPIC_SMALL_FAST_MODEL='us.anthropic.claude-3-5-haiku-20241022-v1:0'
```

**é€é LLM Gateway ä½¿ç”¨ Bedrock**ï¼š

```bash
export ANTHROPIC_BEDROCK_BASE_URL=https://litellm-server:4000/bedrock
export CLAUDE_CODE_SKIP_BEDROCK_AUTH=1
export CLAUDE_CODE_USE_BEDROCK=1
```

**AWS SSO è¨­å®š**ï¼š

```bash
# ç™»å…¥ AWS SSO
aws sso login --profile=your-profile-name
export AWS_PROFILE=your-profile-name
```

#### Google Vertex AI æ•´åˆ

**åŸºæœ¬è¨­å®š**ï¼š

```bash
export CLAUDE_CODE_USE_VERTEX=1
export CLOUD_ML_REGION=us-east5
export ANTHROPIC_VERTEX_PROJECT_ID=your-project-id

# å¯é¸ï¼šåœç”¨æç¤ºå¿«å–ï¼ˆå¦‚æœæœªå•Ÿç”¨ï¼‰
export DISABLE_PROMPT_CACHING=1
```

**é€é LLM Gateway ä½¿ç”¨ Vertex AI**ï¼š

```bash
# å®¢æˆ¶ç«¯èªè­‰
gcloud auth application-default login
export ANTHROPIC_VERTEX_BASE_URL=https://litellm-server:4000/vertex_ai/v1
export ANTHROPIC_VERTEX_PROJECT_ID=your-gcp-project-id
export CLAUDE_CODE_USE_VERTEX=1
export CLOUD_ML_REGION=us-east5

# æˆ–ä»£ç†èªè­‰
export CLAUDE_CODE_SKIP_VERTEX_AUTH=1
```

### GitHub Actions æ•´åˆ

#### åŸºæœ¬å·¥ä½œæµç¨‹

```yaml
name: Claude Code AI Assistant
on: [push, pull_request]

jobs:
  claude-review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "20"

      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code

      - name: AI Code Review
        run: |
          claude -p "è«‹å¯©æŸ¥é€™å€‹ PR çš„è®Šæ›´ï¼Œé—œæ³¨å®‰å…¨æ€§å’Œæ•ˆèƒ½" \
            --output-format json \
            --max-turns 1
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
```

#### ä½¿ç”¨ Vertex AI çš„ GitHub Actions

```yaml
name: Claude Code with Vertex AI
on: [push, pull_request]

jobs:
  claude-vertex-review:
    runs-on: ubuntu-latest
    permissions:
      id-token: write
      contents: read

    steps:
      - uses: actions/checkout@v4

      - name: Authenticate to Google Cloud
        uses: google-github-actions/auth@v2
        with:
          workload_identity_provider: ${{ secrets.GCP_WORKLOAD_IDENTITY_PROVIDER }}
          service_account: ${{ secrets.GCP_SERVICE_ACCOUNT }}

      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code

      - name: AI Review with Vertex AI
        run: |
          claude -p "åˆ†æç¨‹å¼ç¢¼å“è³ªä¸¦æä¾›æ”¹é€²å»ºè­°" \
            --output-format json
        env:
          CLAUDE_CODE_USE_VERTEX: "1"
          CLOUD_ML_REGION: "us-east5"
          ANTHROPIC_VERTEX_PROJECT_ID: ${{ secrets.GCP_PROJECT_ID }}
```

#### å¿«é€Ÿ GitHub App è¨­å®š

```bash
# åœ¨ Claude Code ä¸­åŸ·è¡Œ
/install-github-app

# æœƒè‡ªå‹•é–‹å•Ÿç€è¦½å™¨ä¸¦å¼•å°æ‚¨å®Œæˆï¼š
# 1. GitHub App å»ºç«‹
# 2. æ¬Šé™è¨­å®š
# 3. å®‰è£åˆ°å€‰åº«
# 4. å¯†é‘°è¨­å®š
```

### ä¼æ¥­ä»£ç†è¨­å®š

#### åŸºæœ¬ HTTP/HTTPS ä»£ç†

```bash
# HTTPS ä»£ç†ï¼ˆæ¨è–¦ï¼‰
export HTTPS_PROXY=https://proxy.example.com:8080

# HTTP ä»£ç†ï¼ˆå¦‚æœ HTTPS ä¸å¯ç”¨ï¼‰
export HTTP_PROXY=http://proxy.example.com:8080

# å¸¶èªè­‰çš„ä»£ç†
export HTTPS_PROXY=http://username:password@proxy.example.com:8080
```

#### è‡ªè¨‚ SSL æ†‘è­‰

```bash
# è¨­å®šè‡ªè¨‚æ†‘è­‰è·¯å¾‘
export SSL_CERT_FILE=/path/to/certificate-bundle.crt
export NODE_EXTRA_CA_CERTS=/path/to/certificate-bundle.crt
```

#### ä¼æ¥­ä»£ç† + Bedrock è¨­å®š

```bash
# å®Œæ•´ä¼æ¥­è¨­å®š
export CLAUDE_CODE_USE_BEDROCK=1
export AWS_REGION=us-east-1
export HTTPS_PROXY='https://proxy.example.com:8080'
export SSL_CERT_FILE='/etc/ssl/certs/company-ca-bundle.crt'
export NODE_EXTRA_CA_CERTS='/etc/ssl/certs/company-ca-bundle.crt'
```

### SDK æ•´åˆ

#### Python SDK ä½¿ç”¨

```python
from claude_code_sdk import query, ClaudeCodeOptions
from pathlib import Path

# åŸºæœ¬è¨­å®š
options = ClaudeCodeOptions(
    max_turns=3,
    system_prompt="ä½ æ˜¯ä¸€ä½è³‡æ·±è»Ÿé«”æ¶æ§‹å¸«",
    cwd=Path("/path/to/project"),
    allowed_tools=["Read", "Write", "Bash"],
    permission_mode="acceptEdits"
)

# åŸ·è¡ŒæŸ¥è©¢
async for message in query(prompt="åˆ†æé€™å€‹å°ˆæ¡ˆçš„æ¶æ§‹", options=options):
    print(message)
```

#### MCP ä¼ºæœå™¨è¨­å®š

```json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "/path/to/allowed/files"
      ]
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "your-github-token"
      }
    }
  }
}
```

#### CLI èˆ‡ MCP æ•´åˆ

```bash
# è¼‰å…¥ MCP ä¼ºæœå™¨è¨­å®š
claude -p "åˆ—å‡ºå°ˆæ¡ˆä¸­çš„æ‰€æœ‰æª”æ¡ˆ" --mcp-config mcp-servers.json

# æ˜ç¢ºå…è¨± MCP å·¥å…·
claude -p "æœå°‹ TODO è¨»è§£" \
  --mcp-config mcp-servers.json \
  --allowedTools "mcp__filesystem__read_file,mcp__filesystem__list_directory"

# ä½¿ç”¨ MCP å·¥å…·è™•ç†æ¬Šé™æç¤º
claude -p "éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼" \
  --mcp-config mcp-servers.json \
  --allowedTools "mcp__permissions__approve" \
  --permission-prompt-tool mcp__permissions__approve
```

#### æç¤ºä¸­å¼•ç”¨ MCP è³‡æº

åœ¨äº’å‹•æˆ– print æ¨¡å¼ä¸­ï¼Œå¯ç›´æ¥ä»¥ `@server:protocol://path` å¼•ç”¨ MCP è³‡æºï¼Œä¾‹å¦‚ï¼š

```bash
claude -p "è«‹é–±è®€ @drive:https://docs.example.com/path/to/doc ä¸¦æ‘˜è¦é‡é»"
```

### é™¤éŒ¯èˆ‡ç›£æ§

#### é™¤éŒ¯è¨­å®š

```bash
# å•Ÿç”¨è©³ç´°é™¤éŒ¯
export ANTHROPIC_LOG=debug
claude --debug

# æª¢æŸ¥ç³»çµ±ç‹€æ…‹
claude /status
claude doctor --json
```

#### æ•ˆèƒ½ç›£æ§

```bash
# ä¼æ¥­ç›£æ§è¨­å®š
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_METRICS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_ENDPOINT=http://collector.company.com:4317
export OTEL_EXPORTER_OTLP_HEADERS="Authorization=Bearer company-token"
```

---

## ğŸ”§ ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œåˆ†é¡

#### å®‰è£ç›¸é—œ

**Node.js ç‰ˆæœ¬å•é¡Œ**

```bash
# æª¢æŸ¥ç‰ˆæœ¬
node --version

# å‡ç´šåˆ° LTS
nvm install --lts
nvm use --lts
```

**æ¬Šé™å•é¡Œ**

```bash
# é¿å… sudoï¼Œä½¿ç”¨å®˜æ–¹è§£æ±ºæ–¹æ¡ˆ
claude migrate-installer

# æˆ–è¨­å®š npm å‰ç¶´
npm config set prefix ~/.npm-global
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
```

#### èªè­‰ç›¸é—œ

**API Key å•é¡Œ**

```bash
# è¨­å®šç’°å¢ƒè®Šæ•¸
export ANTHROPIC_API_KEY="sk-ant-apiXX-XXXXXXX"

# æ¸¬è©¦é€£ç·š
claude -p "Hello" --verbose
```

**ç™»å…¥å•é¡Œ**

```bash
# é‡æ–°ç™»å…¥
/logout
/login

# æ¸…é™¤èªè­‰å¿«å–
rm -rf ~/.claude/auth
```

#### åŸ·è¡Œç›¸é—œ

**æ¬Šé™è¢«æ‹’**

```bash
# æª¢æŸ¥æ¬Šé™è¨­å®š
/permissions view

# å…è¨±ç‰¹å®šå·¥å…·
/permissions allow Edit
```

**æœƒè©±å•é¡Œ**

```bash
# æ¸…é™¤ä¸¦é‡å•Ÿ
/clear
claude
```

### è¨ºæ–·å·¥å…·

```bash
# å®Œæ•´ç³»çµ±è¨ºæ–·
claude doctor

# è©³ç´°è¼¸å‡ºæ¨¡å¼
claude --verbose -p "æ¸¬è©¦æŸ¥è©¢"

# æª¢æŸ¥ç’°å¢ƒ
echo $ANTHROPIC_API_KEY
which claude
```

---

## ğŸ“š å®˜æ–¹è³‡æº

### ä¸»è¦æ–‡æª”

- [Claude Code å®˜æ–¹æ–‡æª”](https://docs.anthropic.com/en/docs/claude-code)
- [CLI åƒè€ƒæ–‡æª”](https://docs.anthropic.com/en/docs/claude-code/cli-reference)
- [GitHub å®˜æ–¹å€‰åº«](https://github.com/anthropics/claude-code)

### æœ¬åœ°é¡åƒç´¢å¼•ï¼ˆç¹ä¸­ï¼‰

- [docs/anthropic-claude-code-zh-tw/README.md](docs/anthropic-claude-code-zh-tw/README.md) â€” Anthropic å®˜æ–¹æ–‡æª”ï¼ˆç¹ä¸­ï¼‰æœ¬åœ°é¡åƒç´¢å¼•
  > ä¾†æº: https://docs.anthropic.com/zh-TW/docs/claude-code/overview Â· æŠ“å–æ™‚é–“: 2025-10-29T14:12:31+08:00

### å­¸ç¿’è³‡æº

- [å¿«é€Ÿå…¥é–€æŒ‡å—](https://docs.anthropic.com/en/docs/claude-code/quickstart)
- [å¸¸è¦‹å·¥ä½œæµç¨‹](https://docs.anthropic.com/en/docs/claude-code/common-workflows)
- [æœ€ä½³å¯¦è¸æŒ‡å—](https://www.anthropic.com/engineering/claude-code-best-practices)

### ç¤¾ç¾¤æ”¯æ´

- [Discord ç¤¾ç¾¤](https://discord.gg/anthropic)
- [GitHub è¨è«–å€](https://github.com/anthropics/claude-code/discussions)
- [å•é¡Œå›å ±](https://github.com/anthropics/claude-code/issues)

### æœ¬åº«æ–‡ä»¶ç´¢å¼•

- [docs/README.md](docs/README.md) â€” æ–‡æª”ç´¢å¼•èˆ‡å¿«é€Ÿåƒè€ƒ
- [docs/cursor-claude-master-guide-zh-tw.md](docs/cursor-claude-master-guide-zh-tw.md) â€” ç¶œåˆä»£ç†ä¸»æ§æ‰‹å†Šï¼ˆèµ·é»ï¼‰
- [docs/claude-code-guide-zh-tw.md](docs/claude-code-guide-zh-tw.md) â€” åŸºç¤ API èˆ‡ CLI æŒ‡å—
- [docs/awesome-claude-code-zh-tw.md](docs/awesome-claude-code-zh-tw.md) â€” ç¤¾ç¾¤æœ€ä½³å¯¦è¸èˆ‡ Hooks
- [docs/superclaude-zh-tw.md](docs/superclaude-zh-tw.md) â€” é«˜éšåŠŸèƒ½ç³»çµ±èˆ‡é€²éšå·¥ä½œæµ
- [docs/claude-code-usage-monitor-zh-tw.md](docs/claude-code-usage-monitor-zh-tw.md) â€” ç”¨é‡ç›£æ§ã€å®‰å…¨èˆ‡éƒ¨ç½²
- [docs/claudecodeui-zh-tw.md](docs/claudecodeui-zh-tw.md) â€” Web UI èˆ‡ PWA ä»‹é¢
- [docs/bplustree3-zh-tw.md](docs/bplustree3-zh-tw.md) â€” æ•ˆèƒ½å„ªåŒ–èˆ‡ B+Tree ç­–ç•¥

---

## ğŸ“Š æ›´æ–°è¨˜éŒ„

### v2.0.28 (2025-10-29) - Plan å­ä»£ç†èˆ‡å‹•æ…‹æ¨¡å‹é¸æ“‡

**ğŸ¯ é‡å¤§æ›´æ–°**ï¼š

- ğŸ¤– **Plan å­ä»£ç†**ï¼šå…¨æ–°å°ˆé–€ç”¨æ–¼è¨ˆåŠƒæ¨¡å¼çš„æ™ºèƒ½å­ä»£ç†
- ğŸ”„ **å­ä»£ç†æ¢å¾©**ï¼šClaude å¯é¸æ“‡æ¢å¾©å…ˆå‰çš„å­ä»£ç†æœƒè©±
- âš¡ **å‹•æ…‹æ¨¡å‹é¸æ“‡**ï¼šå­ä»£ç†å¯æ ¹æ“šä»»å‹™å‹•æ…‹åˆ‡æ›æ¨¡å‹
- ğŸ’° **é ç®—æ§åˆ¶**ï¼šSDK æ–°å¢ `--max-budget-usd` åƒæ•¸
- ğŸ“ **ç™¼ç¾æ”¹é€²**ï¼šè‡ªè¨‚å‘½ä»¤/ä»£ç†/è¼¸å‡ºæ¨£å¼ä¸å†å— .gitignore é™åˆ¶
- ğŸ”Œ **Git Plugin æ”¯æ´**ï¼šå¤–æ›å’Œå¸‚å ´æ”¯æ´åˆ†æ”¯/æ¨™ç±¤ï¼ˆ`owner/repo#branch`ï¼‰

### v2.0.12 (2025-09) - Plugin å¤–æ›ç³»çµ±æ­£å¼ç™¼å¸ƒ

**ğŸ¯ é‡å¤§çªç ´**ï¼š

- ğŸ”Œ **Plugin ç³»çµ±**ï¼šé€éå¸‚å ´å®‰è£è‡ªè¨‚å‘½ä»¤ã€ä»£ç†ã€hooks å’Œ MCP ä¼ºæœå™¨
- ğŸª **Plugin Marketplace**ï¼šé›†ä¸­å¼å¤–æ›ç™¼ç¾å’Œç®¡ç†å¹³å°
- ğŸ‘¥ **åœ˜éšŠå”ä½œ**ï¼šé€é `extraKnownMarketplaces` å¯¦ç¾å„²å­˜åº«å±¤ç´šé…ç½®
- âœ… **é©—è­‰å·¥å…·**ï¼š`/plugin validate` å‘½ä»¤æª¢æŸ¥å¤–æ›çµæ§‹

### v2.0.20 (2025-09) - Agent Skills ç³»çµ±

**ğŸ¯ é‡å¤§çªç ´**ï¼š

- ğŸ¯ **Agent Skills**ï¼šæ¨¡çµ„åŒ–åŠŸèƒ½æ“´å±• Claude èƒ½åŠ›
- ğŸ¤– **æ¨¡å‹èª¿ç”¨**ï¼šSkills ç”± Claude æ ¹æ“šä¸Šä¸‹æ–‡è‡ªå‹•ä½¿ç”¨
- ğŸ“¦ **æ‰“åŒ…åˆ†ç™¼**ï¼šåŒ…å« SKILL.mdã€æŒ‡ä»¤ç¢¼å’Œç¯„æœ¬çš„å®Œæ•´ç›®éŒ„
- ğŸ”§ **å·¥å…·é™åˆ¶**ï¼š`allowed-tools` å‰ç½®å±¬æ€§ç²¾ç´°æ§åˆ¶æ¬Šé™

### v2.0.0 (2025-08) - Subagents å¤šä»£ç†å”ä½œç‰ˆæœ¬

**ğŸ¯ é‡å¤§çªç ´**ï¼š

- ğŸ¤– **Subagents å°ˆæ¥­ä»£ç†ç³»çµ±**ï¼š70+ å°ˆæ¥­ä»£ç†æ¶µè“‹å…¨é–‹ç™¼ç”Ÿå‘½é€±æœŸ
- âš¡ **æµå¼è¼¸å‡ºåŠŸèƒ½**ï¼š`--output-format=stream-json` æ”¯æ´å³æ™‚æµå¼è™•ç†
- ğŸ”§ **æ–°æ–œç·šæŒ‡ä»¤**ï¼š`/approved-tools`ã€`/release-notes`ã€`/vim` ç­‰
- ğŸ“¡ **å¢å¼· MCP æ”¯æ´**ï¼šOAuth æ•´åˆã€HTTP/SSE å‚³è¼¸

**ğŸ¤– Subagents åˆ†é¡ç³»çµ±**ï¼š

- **æ ¸å¿ƒé–‹ç™¼ä»£ç†**ï¼šfrontend-developerã€backend-developerã€fullstack-developer ç­‰
- **èªè¨€å°ˆå®¶ä»£ç†**ï¼šjavascript-proã€typescript-proã€python-architect ç­‰
- **åŸºç¤è¨­æ–½ä»£ç†**ï¼šdevops-engineerã€kubernetes-specialistã€cloud-architect ç­‰
- **å“è³ªå®‰å…¨ä»£ç†**ï¼šcode-reviewerã€security-auditorã€performance-engineer ç­‰
- **è³‡æ–™ AI ä»£ç†**ï¼šdata-engineerã€ml-engineerã€ai-engineer ç­‰

### v5.0.0 (2025-07-18) - å®Œæ•´ç™¾ç§‘å…¨æ›¸ç‰ˆæœ¬

**é‡å¤§æ–°å¢**ï¼š

- ğŸª **å®Œæ•´ Hooks åŠŸèƒ½ç« ç¯€**ï¼šåŒ…å«ç”Ÿå‘½é€±æœŸäº‹ä»¶ã€é…ç½®æ–¹å¼ã€å¯¦æˆ°ç¯„ä¾‹å’Œå®‰å…¨è€ƒé‡
- âš™ï¸ **è©³ç´°è¨­å®šæª”æ¡ˆèˆ‡ç’°å¢ƒè®Šæ•¸**ï¼šåˆ†å±¤è¨­å®šç³»çµ±ã€ä¼æ¥­æ”¿ç­–ã€å®Œæ•´ç’°å¢ƒè®Šæ•¸åƒè€ƒ
- ğŸ› ï¸ **å·¥å…·å®Œæ•´åƒè€ƒ**ï¼šæ‰€æœ‰ Claude Code å¯ç”¨å·¥å…·çš„è©³ç´°èªªæ˜å’Œæ¬Šé™æ§åˆ¶
- ğŸ“Š **ä¼æ¥­ç´šç›£æ§èˆ‡é™æ¸¬**ï¼šOpenTelemetry è¨­å®šã€ç›£æ§æŒ‡æ¨™ã€å‘Šè­¦é…ç½®
- ğŸ”— **ç¬¬ä¸‰æ–¹æ•´åˆ**ï¼šLLM Gatewayã€AWS Bedrockã€Google Vertex AIã€GitHub Actions
- ğŸ¢ **ä¼æ¥­éƒ¨ç½²é€²éšåŠŸèƒ½**ï¼šä»£ç†è¨­å®šã€SSL æ†‘è­‰ã€SDK æ•´åˆ

**å…§å®¹æ›´æ–°**ï¼š

- âœ… å®Œæ•´å®˜æ–¹æ–‡æª”é©—è­‰èˆ‡æ ¡æ­£ï¼ˆv4.1.0 åŸºç¤ï¼‰
- âœ… æ–°å¢ç¼ºå¤±çš„å®˜æ–¹åƒæ•¸ï¼š`--permission-mode`ã€`--permission-prompt-tool`
- âœ… æ­£ç¢ºåˆ†é¡ SDK å°ˆç”¨åŠŸèƒ½ï¼š`--system-prompt`ã€`--append-system-prompt`
- âœ… æ–°å¢ Alpha åŸç”ŸäºŒé€²åˆ¶å®‰è£é¸é …
- âœ… æ›´æ–°æ–œç·šå‘½ä»¤æ¸…å–®ï¼Œæ–°å¢ `/pr_comments`

**ä¼æ¥­åŠŸèƒ½**ï¼š

- ğŸ­ **åˆ†å±¤è¨­å®šç³»çµ±**ï¼šä½¿ç”¨è€…ã€å°ˆæ¡ˆã€ä¼æ¥­æ”¿ç­–è¨­å®š
- ğŸ“ˆ **å®Œæ•´ç›£æ§æ–¹æ¡ˆ**ï¼šæŒ‡æ¨™æ”¶é›†ã€å„€è¡¨æ¿ã€å‘Šè­¦è¨­å®š
- ğŸ” **é€²éšå®‰å…¨æ§åˆ¶**ï¼šæ¬Šé™ç´°åˆ†ã€å¯©è¨ˆè¿½è¹¤ã€åˆè¦æ€§
- ğŸŒ **å¤šé›²æ”¯æ´**ï¼šAWSã€GCPã€ä¼æ¥­ä»£ç†æ•´åˆ
- ğŸ¤– **è‡ªå‹•åŒ–å·¥ä½œæµç¨‹**ï¼šHooks ç³»çµ±ã€CI/CD æ•´åˆ

**é–‹ç™¼è€…é«”é©—**ï¼š

- ğŸ“š **ç™¾ç§‘å…¨æ›¸å¼çµ„ç¹”**ï¼šåˆéšã€ä¸­éšã€é«˜éšå®Œæ•´è¦†è“‹
- ğŸ” **å¿«é€ŸæŸ¥è©¢å„ªåŒ–**ï¼šçµæ§‹åŒ–ç›®éŒ„ã€åˆ†é¡ç´¢å¼•
- ğŸ’¡ **å¯¦æˆ°ç¯„ä¾‹è±å¯Œ**ï¼šæ¶µè“‹å„ç¨®ä½¿ç”¨å ´æ™¯
- ğŸ¯ **è§’è‰²å°å‘æŒ‡å—**ï¼šä¾ç…§ä½¿ç”¨è€…éœ€æ±‚åˆ†é¡

**æŠ€è¡“è¦æ ¼**ï¼š

- ğŸ“„ **æ–‡æª”é•·åº¦**ï¼šç´„ 1000+ è¡Œï¼Œå®Œæ•´è¦†è“‹æ‰€æœ‰åŠŸèƒ½
- ğŸ”— **äº¤å‰å¼•ç”¨**ï¼šç« ç¯€é–“ç›¸äº’é€£çµï¼Œä¾¿æ–¼å°èˆª
- ğŸ“‹ **è¡¨æ ¼åŒ–è³‡è¨Š**ï¼šåƒæ•¸ã€å‘½ä»¤ã€è¨­å®šé¸é …ç³»çµ±æ€§æ•´ç†
- ğŸ›¡ï¸ **å®‰å…¨æ€§å¼·èª¿**ï¼šæ¯å€‹åŠŸèƒ½éƒ½åŒ…å«å®‰å…¨è€ƒé‡èªªæ˜

---

### CHANGELOG æ–°åŠŸèƒ½æ‘˜éŒ„ï¼ˆä¾ç‰ˆæœ¬ï¼Œä¾†æºï¼šGitHub CHANGELOGï¼‰

## 2.0.28

- è¨ˆåŠƒæ¨¡å¼ï¼šæ¨å‡ºå…¨æ–°çš„ Plan å­ä»£ç†
- å­ä»£ç†ï¼šClaude ç¾åœ¨å¯ä»¥é¸æ“‡æ¢å¾©å­ä»£ç†
- å­ä»£ç†ï¼šClaude å¯ä»¥å‹•æ…‹é¸æ“‡å…¶å­ä»£ç†ä½¿ç”¨çš„æ¨¡å‹
- SDKï¼šæ–°å¢ --max-budget-usd åƒæ•¸
- è‡ªè¨‚æ–œç·šå‘½ä»¤ã€å­ä»£ç†å’Œè¼¸å‡ºæ¨£å¼çš„ç™¼ç¾ä¸å†éµå¾ª .gitignore
- åœæ­¢ `/terminal-setup` åœ¨ VS Code ä¸­ç‚º `Shift + Enter` æ·»åŠ åæ–œç·š
- ç‚ºåŸºæ–¼ git çš„å¤–æ›ç¨‹å¼å’Œå¸‚å ´æ–°å¢åˆ†æ”¯å’Œæ¨™ç±¤æ”¯æ´ï¼Œä½¿ç”¨ç‰‡æ®µèªæ³•ï¼ˆä¾‹å¦‚ `owner/repo#branch`ï¼‰
- ä¿®å¾©å¾ä¸»ç›®éŒ„å•Ÿå‹•æ™‚åˆå§‹å•Ÿå‹•æœƒé¡¯ç¤º macOS æ¬Šé™æç¤ºçš„éŒ¯èª¤
- å„ç¨®å…¶ä»–éŒ¯èª¤ä¿®å¾©

## 2.0.27

- æ¬Šé™æç¤ºæ–°å¢å…¨æ–° UI ä»‹é¢
- æœƒè©±æ¢å¾©ç•«é¢æ–°å¢ç•¶å‰åˆ†æ”¯ç¯©é¸å’Œæœå°‹åŠŸèƒ½ï¼Œæ–¹ä¾¿å°èˆª
- ä¿®å¾©ç›®éŒ„ @-æåŠå°è‡´ã€Œæ‰¾ä¸åˆ°åŠ©ç†è¨Šæ¯ã€éŒ¯èª¤çš„å•é¡Œ
- VSCode æ“´å……å¥—ä»¶ï¼šæ–°å¢è¨­å®šé¸é …ï¼Œå¯åœ¨æª”æ¡ˆæœå°‹ä¸­åŒ…å« .gitignore çš„æª”æ¡ˆ
- VSCode æ“´å……å¥—ä»¶ï¼šä¿®å¾©ä¸ç›¸é—œçš„ã€ŒWarmupã€å°è©±éŒ¯èª¤ï¼Œä»¥åŠè¨­å®šå¶çˆ¾è¢«é‡ç½®ç‚ºé è¨­å€¼çš„å•é¡Œ

## 2.0.25

- ç§»é™¤èˆŠç‰ˆ SDK é€²å…¥é»ã€‚è«‹é·ç§»è‡³ @anthropic-ai/claude-agent-sdk ä»¥ç²å–æœªä¾†çš„ SDK æ›´æ–°ï¼šhttps://docs.claude.com/en/docs/claude-code/sdk/migration-guide

## 2.0.24

- ä¿®å¾©å°ˆæ¡ˆå±¤ç´šæŠ€èƒ½åœ¨æŒ‡å®š --setting-sources 'project' æ™‚ç„¡æ³•è¼‰å…¥çš„éŒ¯èª¤
- Claude Code Webï¼šæ”¯æ´ Web -> CLI å‚³é€
- æ²™ç®±ï¼šåœ¨ Linux å’Œ Mac ä¸Šç‚º BashTool ç™¼å¸ƒæ²™ç®±æ¨¡å¼

## 2.0.22

- ä¿®å¾©æ²å‹•æ–œç·šæŒ‡ä»¤æ™‚çš„å…§å®¹ç‰ˆé¢è·³å‹•å•é¡Œ
- IDEï¼šæ–°å¢å•Ÿç”¨/åœç”¨æ€è€ƒçš„åˆ‡æ›é–‹é—œ
- ä¿®å¾©å¹³è¡Œå·¥å…·å‘¼å«æ™‚å‡ºç¾é‡è¤‡æ¬Šé™æç¤ºçš„éŒ¯èª¤
- æ–°å¢å°ä¼æ¥­ç®¡ç†çš„ MCP å…è¨±æ¸…å–®å’Œæ‹’çµ•æ¸…å–®çš„æ”¯æ´

## 2.0.21

- æ”¯æ´ MCP å·¥å…·å›æ‡‰ä¸­çš„ `structuredContent` æ¬„ä½
- æ–°å¢äº’å‹•å¼å•é¡Œå·¥å…·
- Claude ç¾åœ¨åœ¨è¨ˆåŠƒæ¨¡å¼ä¸‹æœƒæ›´é »ç¹åœ°å‘æ‚¨æå•
- Pro ä½¿ç”¨è€…æ–°å¢ Haiku 4.5 ä½œç‚ºæ¨¡å‹é¸é …
- ä¿®å¾©ä½‡åˆ—æŒ‡ä»¤ç„¡æ³•å­˜å–å…ˆå‰è¨Šæ¯è¼¸å‡ºçš„å•é¡Œ

## 2.0.20

- æ–°å¢å° Claude Skills çš„æ”¯æ´

## 2.0.19

- é•·æ™‚é–“åŸ·è¡Œçš„ bash æŒ‡ä»¤ç¾åœ¨æœƒè‡ªå‹•è½‰ç‚ºèƒŒæ™¯åŸ·è¡Œï¼Œè€Œéçµ‚æ­¢ã€‚å¯é€é BASH_DEFAULT_TIMEOUT_MS è‡ªè¨‚
- ä¿®å¾©åˆ—å°æ¨¡å¼ä¸‹ä¸å¿…è¦åœ°å‘¼å« Haiku çš„éŒ¯èª¤

## 2.0.17

- æ¨¡å‹é¸æ“‡å™¨æ–°å¢ Haiku 4.5ï¼
- Haiku 4.5 åœ¨è¨ˆåŠƒæ¨¡å¼è‡ªå‹•ä½¿ç”¨ Sonnetï¼ŒåŸ·è¡Œæ™‚ä½¿ç”¨ Haikuï¼ˆå³é è¨­ç‚º SonnetPlanï¼‰
- ç¬¬ä¸‰æ–¹å¹³å°ï¼ˆBedrock å’Œ Vertexï¼‰å°šæœªè‡ªå‹•å‡ç´šã€‚å¯é€éè¨­å®š `ANTHROPIC_DEFAULT_HAIKU_MODEL` æ‰‹å‹•å‡ç´š
- æ¨å‡º Explore å­ä»£ç†ã€‚ç”± Haiku é©…å‹•ï¼Œå°‡æœ‰æ•ˆæœå°‹æ‚¨çš„ç¨‹å¼ç¢¼åº«ä»¥ç¯€çœä¸Šä¸‹æ–‡ï¼
- OTELï¼šæ”¯æ´ HTTP_PROXY å’Œ HTTPS_PROXY
- `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC` ç¾åœ¨æœƒåœç”¨ç‰ˆæœ¬è³‡è¨Šå–å¾—

## 2.0.15

- ä¿®å¾©æ¢å¾©æ™‚éœ€è¦é‡æ–°è®€å–å…ˆå‰å»ºç«‹çš„æª”æ¡ˆæ‰èƒ½å¯«å…¥çš„éŒ¯èª¤
- ä¿®å¾© `-p` æ¨¡å¼ä¸‹éœ€è¦é‡æ–°è®€å– @-æåŠçš„æª”æ¡ˆæ‰èƒ½å¯«å…¥çš„éŒ¯èª¤

## 2.0.14

- ä¿®å¾© @-æåŠ MCP ä¼ºæœå™¨ä»¥åˆ‡æ›é–‹é—œçš„åŠŸèƒ½
- æ”¹å–„å¸¶æœ‰è¡Œå…§ç’°å¢ƒè®Šæ•¸çš„ bash æ¬Šé™æª¢æŸ¥
- ä¿®å¾© ultrathink + æ€è€ƒåˆ‡æ›
- æ¸›å°‘ä¸å¿…è¦çš„ç™»å…¥
- æ–°å¢ --system-prompt æ–‡ä»¶
- å¤šé …æ¸²æŸ“æ”¹å–„
- å¤–æ› UI å„ªåŒ–

## 2.0.13

- ä¿®å¾© `/plugin` åœ¨åŸç”Ÿå»ºç½®ç‰ˆæœ¬ç„¡æ³•é‹ä½œçš„å•é¡Œ

## 2.0.12

- **å¤–æ›ç³»çµ±ç™¼å¸ƒ**ï¼šé€éå¸‚é›†çš„è‡ªè¨‚æŒ‡ä»¤ã€ä»£ç†ã€hooks å’Œ MCP ä¼ºæœå™¨æ“´å±• Claude Code
- `/plugin install`ã€`/plugin enable/disable`ã€`/plugin marketplace` æŒ‡ä»¤ç”¨æ–¼å¤–æ›ç®¡ç†
- é€é `extraKnownMarketplaces` é€²è¡Œå„²å­˜åº«å±¤ç´šçš„å¤–æ›è¨­å®šï¼Œä»¥ä¾¿åœ˜éšŠå”ä½œ
- `/plugin validate` æŒ‡ä»¤ç”¨æ–¼é©—è­‰å¤–æ›çµæ§‹å’Œè¨­å®š
- å¤–æ›å…¬å‘Šéƒ¨è½æ ¼æ–‡ç« ï¼šhttps://www.anthropic.com/news/claude-code-plugins
- å¤–æ›æ–‡ä»¶ï¼šhttps://docs.claude.com/en/docs/claude-code/plugins
- é€é `/doctor` æŒ‡ä»¤æä¾›å®Œæ•´çš„éŒ¯èª¤è¨Šæ¯å’Œè¨ºæ–·
- é¿å… `/model` é¸æ“‡å™¨é–ƒçˆ
- `/help` æ”¹å–„
- é¿å…åœ¨ `/resume` æ‘˜è¦ä¸­æåŠ hooks
- `/config` ä¸­çš„ã€Œverboseã€è¨­å®šè®Šæ›´ç¾åœ¨æœƒåœ¨æœƒè©±é–“ä¿æŒ

## 2.0.11

- ç³»çµ±æç¤ºå¤§å°æ¸›å°‘ 1.4k tokens
- IDEï¼šä¿®å¾©éµç›¤å¿«æ·éµå’Œç„¦é»å•é¡Œï¼Œæä¾›æ›´æµæš¢çš„äº’å‹•
- ä¿®å¾© Opus å›é€€é€Ÿç‡é™åˆ¶éŒ¯èª¤ä¸æ­£ç¢ºé¡¯ç¤ºçš„å•é¡Œ
- ä¿®å¾© /add-dir æŒ‡ä»¤é¸æ“‡éŒ¯èª¤é è¨­åˆ†é çš„å•é¡Œ

## 2.0.10

- é‡å¯«çµ‚ç«¯æ¸²æŸ“å™¨ï¼Œæä¾›æ¥µè‡´æµæš¢çš„ UI
- é€é @-æåŠæˆ–åœ¨ /mcp ä¸­å•Ÿç”¨/åœç”¨ MCP ä¼ºæœå™¨
- bash æ¨¡å¼ä¸‹æ–°å¢ shell æŒ‡ä»¤çš„ tab è‡ªå‹•å®Œæˆ
- PreToolUse hooks ç¾åœ¨å¯ä»¥ä¿®æ”¹å·¥å…·è¼¸å…¥
- æŒ‰ Ctrl-G åœ¨ç³»çµ±è¨­å®šçš„æ–‡å­—ç·¨è¼¯å™¨ä¸­ç·¨è¼¯æç¤º
- ä¿®å¾©å¸¶æœ‰ç’°å¢ƒè®Šæ•¸çš„ bash æ¬Šé™æª¢æŸ¥

## 2.0.9

- ä¿®å¾© bash èƒŒæ™¯åŸ·è¡Œåœæ­¢é‹ä½œçš„å•é¡Œ

## 2.0.8

- æ›´æ–° Bedrock é è¨­ Sonnet æ¨¡å‹ç‚º `global.anthropic.claude-sonnet-4-5-20250929-v1:0`
- IDEï¼šèŠå¤©ä¸­æ–°å¢æª”æ¡ˆå’Œè³‡æ–™å¤¾çš„æ‹–æ”¾æ”¯æ´
- /contextï¼šä¿®å¾©æ€è€ƒå€å¡Šçš„è¨ˆæ•¸
- æ”¹å–„æ·±è‰²çµ‚ç«¯ä¸Šæ·ºè‰²ä¸»é¡Œä½¿ç”¨è€…çš„è¨Šæ¯æ¸²æŸ“
- ç§»é™¤å·²æ£„ç”¨çš„ .claude.json è¨­å®šé¸é …ï¼ˆallowedToolsã€ignorePatternsã€envã€todoFeatureEnabledï¼‰ï¼Œæ”¹ç‚ºåœ¨ settings.json ä¸­è¨­å®š

## 2.0.5

- IDEï¼šä¿®å¾©ä½¿ç”¨ Enter å’Œ Tab æ™‚ IME æ„å¤–æäº¤è¨Šæ¯çš„å•é¡Œ
- IDEï¼šç™»å…¥ç•«é¢æ–°å¢ã€Œåœ¨çµ‚ç«¯é–‹å•Ÿã€é€£çµ
- ä¿®å¾©æœªè™•ç†çš„ OAuth éæœŸ 401 API éŒ¯èª¤
- SDKï¼šæ–°å¢ SDKUserMessageReplay.isReplay ä»¥é˜²æ­¢é‡è¤‡è¨Šæ¯

## 2.0.1

- Bedrock å’Œ Vertex è·³é Sonnet 4.5 é è¨­æ¨¡å‹è¨­å®šè®Šæ›´
- å„ç¨®éŒ¯èª¤ä¿®å¾©å’Œå‘ˆç¾æ”¹å–„

## 2.0.0

- å…¨æ–°åŸç”Ÿ VS Code æ“´å……å¥—ä»¶
- æ•´å€‹æ‡‰ç”¨ç¨‹å¼å…¨æ–°å¤–è§€
- /rewind å›é€€å°è©±ä»¥æ’¤éŠ·ç¨‹å¼ç¢¼è®Šæ›´
- /usage æŒ‡ä»¤æŸ¥çœ‹è¨ˆåŠƒé™åˆ¶
- Tab åˆ‡æ›æ€è€ƒï¼ˆè·¨æœƒè©±ä¿æŒï¼‰
- Ctrl-R æœå°‹æ­·å²è¨˜éŒ„
- æœªç™¼å¸ƒçš„ claude config æŒ‡ä»¤
- Hooksï¼šæ¸›å°‘ PostToolUse çš„ 'tool_use' id æ‰¾ä¸åˆ° 'tool_result' å€å¡Šçš„éŒ¯èª¤
- SDKï¼šClaude Code SDK ç¾åœ¨æ˜¯ Claude Agent SDK
- ä½¿ç”¨ `--agents` åƒæ•¸å‹•æ…‹æ–°å¢å­ä»£ç†

## 1.0.126

- ç‚º Bedrock å’Œ Vertex å•Ÿç”¨ /context æŒ‡ä»¤
- ç‚ºåŸºæ–¼ HTTP çš„ OpenTelemetry åŒ¯å‡ºå™¨æ–°å¢ mTLS æ”¯æ´

## 1.0.124

- å°‡ `CLAUDE_BASH_NO_LOGIN` ç’°å¢ƒè®Šæ•¸è¨­ç‚º 1 æˆ– true ä»¥è·³é BashTool çš„ç™»å…¥ shell
- ä¿®å¾© Bedrock å’Œ Vertex ç’°å¢ƒè®Šæ•¸å°‡æ‰€æœ‰å­—ä¸²è©•ä¼°ç‚ºçœŸå€¼çš„å•é¡Œ
- ä¸å†åœ¨æ¬Šé™è¢«æ‹’æ™‚é€šçŸ¥ Claude å…è¨±çš„å·¥å…·æ¸…å–®
- ä¿®å¾© Bash å·¥å…·æ¬Šé™æª¢æŸ¥ä¸­çš„å®‰å…¨æ¼æ´
- æ”¹å–„ VSCode æ“´å……å¥—ä»¶å°å¤§å‹æª”æ¡ˆçš„æ•ˆèƒ½

## 1.0.123

- Bash æ¬Šé™è¦å‰‡ç¾åœ¨åœ¨æ¯”å°æ™‚æ”¯æ´è¼¸å‡ºé‡å°å‘ï¼ˆä¾‹å¦‚ `Bash(python:*)` æ¯”å° `python script.py > output.txt`ï¼‰
- ä¿®å¾©å¦å®šç‰‡èªï¼ˆå¦‚ã€Œdon't thinkã€ï¼‰è§¸ç™¼æ€è€ƒæ¨¡å¼çš„å•é¡Œ
- ä¿®å¾© token ä¸²æµæœŸé–“çš„æ¸²æŸ“æ•ˆèƒ½ä¸‹é™å•é¡Œ
- æ–°å¢ SlashCommand å·¥å…·ï¼Œè®“ Claude å¯ä»¥èª¿ç”¨æ‚¨çš„æ–œç·šæŒ‡ä»¤ã€‚https://docs.claude.com/en/docs/claude-code/slash-commands#SlashCommand-tool
- å¢å¼· BashTool ç’°å¢ƒå¿«ç…§è¨˜éŒ„
- ä¿®å¾©åœ¨ç„¡é ­æ¨¡å¼ä¸‹æ¢å¾©å°è©±æœ‰æ™‚æœƒä¸å¿…è¦åœ°å•Ÿç”¨æ€è€ƒçš„éŒ¯èª¤
- å°‡ --debug è¨˜éŒ„é·ç§»åˆ°æª”æ¡ˆï¼Œä»¥ä¾¿è¼•é¬†è¿½è¹¤å’Œç¯©é¸

## 1.0.120

- ä¿®å¾©è¼¸å…¥æ™‚çš„å»¶é²ï¼Œåœ¨å¤§å‹æç¤ºä¸‹ç‰¹åˆ¥æ˜é¡¯
- æ”¹å–„ VSCode æ“´å……å¥—ä»¶æŒ‡ä»¤è¨»å†Šå’Œæœƒè©±å°è©±æ¡†ä½¿ç”¨è€…é«”é©—
- å¢å¼·æœƒè©±å°è©±æ¡†å›æ‡‰èƒ½åŠ›å’Œè¦–è¦ºå›é¥‹
- é€éç§»é™¤å·¥ä½œæ¨¹æ”¯æ´æª¢æŸ¥ä¿®å¾© IDE ç›¸å®¹æ€§å•é¡Œ
- ä¿®å¾©å¯é€éå‰ç¶´æ¯”å°ç¹é Bash å·¥å…·æ¬Šé™æª¢æŸ¥çš„å®‰å…¨æ¼æ´

## 1.0.119

- ä¿®å¾© Windows ä¸Šé€²å…¥äº’å‹•æ¨¡å¼æ™‚ç¨‹åºè¦–è¦ºå‡çµçš„å•é¡Œ
- é€é headersHelper è¨­å®šæ”¯æ´ MCP ä¼ºæœå™¨çš„å‹•æ…‹æ¨™é ­
- ä¿®å¾©ç„¡é ­æœƒè©±ä¸­æ€è€ƒæ¨¡å¼ç„¡æ³•é‹ä½œçš„å•é¡Œ
- ä¿®å¾©æ–œç·šæŒ‡ä»¤ç¾åœ¨æ­£ç¢ºæ›´æ–°å…è¨±çš„å·¥å…·è€Œéæ›¿æ›å®ƒå€‘

## 1.0.117

- æ–°å¢ Ctrl-R æ­·å²è¨˜éŒ„æœå°‹ï¼Œåƒ bash/zsh ä¸€æ¨£å›æ†¶å…ˆå‰çš„æŒ‡ä»¤
- ä¿®å¾©è¼¸å…¥æ™‚çš„å»¶é²ï¼Œå°¤å…¶æ˜¯åœ¨ Windows ä¸Š
- acceptEdits æ¨¡å¼ä¸‹å°‡ sed æŒ‡ä»¤æ–°å¢åˆ°è‡ªå‹•å…è¨±çš„æŒ‡ä»¤
- ä¿®å¾© Windows PATH æ¯”è¼ƒï¼Œä½¿ç£ç¢Ÿæ©Ÿä»£è™Ÿä¸å€åˆ†å¤§å°å¯«
- /add-dir è¼¸å‡ºæ–°å¢æ¬Šé™ç®¡ç†æç¤º

## 1.0.115

- æ”¹å–„æ€è€ƒæ¨¡å¼é¡¯ç¤ºï¼Œå¢å¼·è¦–è¦ºæ•ˆæœ
- åœ¨æç¤ºä¸­è¼¸å…¥ /t æš«æ™‚åœç”¨æ€è€ƒæ¨¡å¼
- æ”¹å–„ glob å’Œ grep å·¥å…·çš„è·¯å¾‘é©—è­‰
- é¡¯ç¤ºå·¥å…·å¾Œ hooks çš„ç°¡æ½”è¼¸å‡ºä»¥æ¸›å°‘è¦–è¦ºæ··äº‚
- ä¿®å¾©è¼‰å…¥ç‹€æ…‹å®Œæˆæ™‚çš„è¦–è¦ºå›é¥‹
- æ”¹å–„æ¬Šé™è«‹æ±‚å°è©±æ¡†çš„ UI ä¸€è‡´æ€§

## 2.0.22

- Claude will now ask you questions more often åœ¨ plan mode
- æ–°å¢ Haiku 4.5 as a model option ç”¨æ–¼ Pro users
- ä¿®å¾© an issue where queued commands don't have access to previous messages' output

## 2.0.20

- æ–°å¢ æ”¯æ´ Claude Skills

## 2.0.19

- Auto-background long-running bash commands instead of killing them. Customize ä½¿ç”¨ BASH_DEFAULT_TIMEOUT_MS
- ä¿®å¾© a bug where Haiku was unnecessarily called åœ¨ print mode

## 2.0.17

- æ–°å¢ Haiku 4.5 to model selector!
- Haiku 4.5 automatically uses Sonnet åœ¨ plan mode, and Haiku ç”¨æ–¼ execution (i.e. SonnetPlan by default)
- 3P (Bedrock and Vertex) are not automatically å‡ç´š yet. Manual upgrading can be done through setting `ANTHROPIC_DEFAULT_HAIKU_MODEL`
- Introducing the Explore subagent. Powered by Haiku it'll search through your codebase efficiently to save context!
- OTEL: support HTTP_PROXY and HTTPS_PROXY
- `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC` now disables release notes fetching

## 2.0.15

- ä¿®å¾© bug ä½¿ç”¨ resuming where previously created files needed to be read again before writing
- ä¿®å¾© bug ä½¿ç”¨ `-p` mode where @-mentioned files needed to be read again before writing

## 2.0.14

- Fix @-mentioning MCP servers to toggle them on/off
- Improve permission checks ç”¨æ–¼ bash ä½¿ç”¨ inline env vars
- Fix ultrathink + thinking toggle
- Reduce unnecessary logins
- Document --system-prompt
- Several improvements to rendering
- Plugins UI polish

## 2.0.13

- ä¿®å¾© `/plugin` not working on native build

## 2.0.12

- **Plugin System ç™¼å¸ƒ**: Extend Claude Code ä½¿ç”¨ custom commands, agents, hooks, and MCP servers from marketplaces
- `/plugin install`, `/plugin enable/disable`, `/plugin marketplace` commands ç”¨æ–¼ plugin management
- Repository-level plugin configuration via `extraKnownMarketplaces` ç”¨æ–¼ team collaboration
- `/plugin validate` command ç”¨æ–¼ validating plugin structure and configuration
- Plugin announcement blog post at https://www.anthropic.com/news/claude-code-plugins
- Plugin documentation available at https://docs.claude.com/en/docs/claude-code/plugins
- Comprehensive error messages and diagnostics via `/doctor` command
- Avoid flickering åœ¨ `/model` selector
- Improvements to `/help`
- Avoid mentioning hooks åœ¨ `/resume` summaries
- Changes to the "verbose" setting åœ¨ `/config` now persist across sessions

## 2.0.11

- Reduced system prompt size by 1.4k tokens
- IDE: ä¿®å¾© keyboard shortcuts and focus issues ç”¨æ–¼ smoother interaction
- ä¿®å¾© Opus fallback rate limit errors appearing incorrectly
- ä¿®å¾© /add-dir command selecting wrong default tab

## 2.0.10

- Rewrote terminal renderer ç”¨æ–¼ buttery smooth UI
- Enable/disable MCP servers by @mentioning, or åœ¨ /mcp
- æ–°å¢ tab completion ç”¨æ–¼ shell commands åœ¨ bash mode
- PreToolUse hooks can now modify tool inputs
- Press Ctrl-G to edit your prompt åœ¨ your system's configured text editor
- Fixes ç”¨æ–¼ bash permission checks ä½¿ç”¨ environment variables åœ¨ the command

## 2.0.9

- Fix regression where bash backgrounding stopped working

## 2.0.8

- Update Bedrock default Sonnet model to `global.anthropic.claude-sonnet-4-5-20250929-v1:0`
- IDE: Add drag-and-drop æ”¯æ´ files and folders åœ¨ chat
- /context: Fix counting ç”¨æ–¼ thinking blocks
- Improve message rendering ç”¨æ–¼ users ä½¿ç”¨ light themes on dark terminals
- Remove deprecated .claude.json allowedTools, ignorePatterns, env, and todoFeatureEnabled config options (instead, configure these åœ¨ your settings.json)

## 2.0.5

- IDE: Fix IME unintended message submission ä½¿ç”¨ Enter and Tab
- IDE: Add "Open åœ¨ Terminal" link åœ¨ login screen
- Fix unhandled OAuth expiration 401 API errors
- SDK: æ–°å¢ SDKUserMessageReplay.isReplay to prevent duplicate messages

## 2.0.1

- Skip Sonnet 4.5 default model setting change ç”¨æ–¼ Bedrock and Vertex
- Various bug fixes and presentation improvements

## 2.0.0

- New native VS Code extension
- Fresh coat of paint throughout the whole app
- /rewind a conversation to undo code changes
- /usage command to see plan limits
- Tab to toggle thinking (sticky across sessions)
- Ctrl-R to search history
- Unshipped claude config command
- Hooks: Reduced PostToolUse 'tool_use' ids were found without 'tool_result' blocks errors
- SDK: The Claude Code SDK is now the Claude Agent SDK
- Add subagents dynamically ä½¿ç”¨ `--agents` flag

## 1.0.126

- Enable /context command ç”¨æ–¼ Bedrock and Vertex
- Add mTLS æ”¯æ´ HTTP-based OpenTelemetry exporters

## 1.0.124

- Set `CLAUDE_BASH_NO_LOGIN` environment variable to 1 or true to to skip login shell ç”¨æ–¼ BashTool
- Fix Bedrock and Vertex environment variables evaluating all strings as truthy
- No longer inform Claude of the list of allowed tools ç•¶ permission is denied
- ä¿®å¾© security vulnerability åœ¨ Bash tool permission checks
- æ”¹å–„ VSCode extension performance ç”¨æ–¼ large files

## 1.0.123

- Bash permission rules now support output redirections ç•¶ matching (e.g., `Bash(python:*)` matches `python script.py > output.txt`)
- ä¿®å¾© thinking mode triggering on negation phrases like "don't think"
- ä¿®å¾© rendering performance degradation during token streaming
- æ–°å¢ SlashCommand tool, which enables Claude to invoke your slash commands. https://docs.claude.com/en/docs/claude-code/slash-commands#SlashCommand-tool
- å¢å¼· BashTool environment snapshot logging
- ä¿®å¾© a bug where resuming a conversation åœ¨ headless mode would sometimes enable thinking unnecessarily
- Migrated --debug logging to a file, to enable easy tailing & filtering

## 1.0.120

- Fix input lag during typing, especially noticeable ä½¿ç”¨ large prompts
- æ”¹å–„ VSCode extension command registry and sessions dialog user experience
- å¢å¼· sessions dialog responsiveness and visual feedback
- ä¿®å¾© IDE compatibility issue by removing worktree support check
- ä¿®å¾© security vulnerability where Bash tool permission checks could be bypassed using prefix matching

## 1.0.119

- Fix Windows issue where process visually freezes on entering interactive mode
- Support dynamic headers ç”¨æ–¼ MCP servers via headersHelper configuration
- Fix thinking mode not working åœ¨ headless sessions
- Fix slash commands now properly update allowed tools instead of replacing them

## 1.0.117

- Add Ctrl-R history search to recall previous commands like bash/zsh
- Fix input lag while typing, especially on Windows
- Add sed command to auto-allowed commands åœ¨ acceptEdits mode
- Fix Windows PATH comparison to be case-insensitive ç”¨æ–¼ drive letters
- Add permissions management hint to /add-dir output

## 1.0.115

- Improve thinking mode display ä½¿ç”¨ å¢å¼· visual effects
- Type /t to temporarily disable thinking mode åœ¨ your prompt
- Improve path validation ç”¨æ–¼ glob and grep tools
- Show condensed output ç”¨æ–¼ post-tool hooks to reduce visual clutter
- Fix visual feedback ç•¶ loading state completes
- Improve UI consistency ç”¨æ–¼ permission request dialogs

## 1.0.113

- Deprecated piped input åœ¨ interactive mode
- Move Ctrl+R keybinding ç”¨æ–¼ toggling transcript to Ctrl+O

## 1.0.112

- Transcript mode (Ctrl+R): æ–°å¢ the model used to generate each assistant message
- Addressed issue where some Claude Max users were incorrectly recognized as Claude Pro users
- Hooks: æ–°å¢ systemMessage æ”¯æ´ SessionEnd hooks
- æ–°å¢ `spinnerTipsEnabled` setting to disable spinner tips
- IDE: Various improvements and bug fixes

## 1.0.111

- /model now validates provided model names
- ä¿®å¾© Bash tool crashes caused by malformed shell syntax parsing

## 1.0.110

- /terminal-setup command now supports WezTerm
- MCP: OAuth tokens now proactively refresh before expiration
- ä¿®å¾© reliability issues ä½¿ç”¨ background Bash processes

**ğŸ“… æœ€å¾Œæ›´æ–°æ™‚é–“**: 2025-10-29  
**ğŸ“Š è³‡æ–™ä¾†æº**: [GitHub CHANGELOG](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md)  
**ğŸ”„ ç¿»è­¯æ–¹å¼**: äººå·¥é«˜å“è³ªç¿»è­¯  
**ğŸ“Œ ç‰ˆæœ¬ç¯„åœ**: 1.0.115 - 2.0.28ï¼ˆæœ€æ–°ï¼‰

---

## ğŸ‰ çµèª

æœ¬æ‰‹å†Šç¶“éå®Œæ•´çš„å®˜æ–¹æ–‡æª”é©—è­‰ï¼Œç¢ºä¿æ‰€æœ‰åŠŸèƒ½ã€æŒ‡ä»¤èˆ‡åƒæ•¸å‡ç‚º Anthropic å®˜æ–¹æ”¯æ´ã€‚é€éæ·±åº¦çµæ§‹åŒ–çš„çµ„ç¹”æ–¹å¼ï¼Œç„¡è«–æ˜¯ LLM æŸ¥è©¢é‚„æ˜¯äººå·¥é–±è®€ï¼Œéƒ½èƒ½å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€è³‡è¨Šã€‚

### ä½¿ç”¨å»ºè­°

1. **æ–°æ‰‹å…¥é–€**ï¼šæŒ‰åºé–±è®€å®‰è£ â†’ åŸºç¤æ“ä½œ â†’ å¸¸ç”¨æŒ‡ä»¤
2. **å¿«é€ŸæŸ¥è©¢**ï¼šä½¿ç”¨ç›®éŒ„å°èˆªæˆ–æœå°‹åŠŸèƒ½
3. **æ·±åº¦å­¸ç¿’**ï¼šåƒè€ƒå·¥ä½œæµç¨‹å’Œæœ€ä½³å¯¦è¸ç« ç¯€
4. **å•é¡Œè§£æ±º**ï¼šæŸ¥çœ‹ç–‘é›£æ’è§£åˆ†é¡ç´¢å¼•

### æŒçºŒæ›´æ–°

- ğŸ“… å®šæœŸåŒæ­¥å®˜æ–¹æ–‡æª”
- ğŸ” æŒçºŒé©—è­‰åŠŸèƒ½æº–ç¢ºæ€§
- ğŸ’¬ æ­¡è¿é€é GitHub Issues å›é¥‹
- ğŸŒ æ”¯æ´ç¤¾ç¾¤è²¢ç»èˆ‡äº¤æµ

---

**ğŸ“– Claude Code å®˜æ–¹é©—è­‰ä½¿ç”¨æ‰‹å†Š - æ‚¨çš„ AI è¼”åŠ©é–‹ç™¼æ¬Šå¨æŒ‡å—**

_åŸºæ–¼ Anthropic å®˜æ–¹æ–‡æª” | 100% å®˜æ–¹é©—è­‰ | æŒçºŒåŒæ­¥æ›´æ–°_
