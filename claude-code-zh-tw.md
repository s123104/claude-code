# Claude Code å®˜æ–¹é©—è­‰ä½¿ç”¨æ‰‹å†Š ğŸ“š

> **ç¶“å®˜æ–¹æ–‡æª”é©—è­‰çš„å®Œæ•´ Claude Code ä¸­æ–‡æŒ‡å—**  
> æœ€å¾Œæ›´æ–°æ™‚é–“ï¼š2025-07-18T02:48:57+08:00  
> æ–‡ä»¶èªè¨€ï¼šç¹é«”ä¸­æ–‡  
> ç‰ˆæœ¬ï¼šv5.0.0 - å®Œæ•´ç™¾ç§‘å…¨æ›¸ç‰ˆæœ¬ï¼Œåˆéšä¸­éšé«˜éšå…¨è¦†è“‹  
> GitHub ä½œè€…ï¼š[s123104](https://github.com/s123104) æ•´ç†
>
> **ğŸ¯ æœ¬æ‰‹å†Šç‰¹è‰²**
>
> - âœ… 100% å®˜æ–¹æ–‡æª”é©—è­‰
> - âœ… æ·±åº¦çµæ§‹åŒ–å…§å®¹
> - âœ… LLM æŸ¥è©¢å„ªåŒ–
> - âœ… è·¨å¹³å°å®Œæ•´æ”¯æ´

---

## ğŸš€ å¿«é€Ÿå°èˆª

### ä¾è§’è‰²å¿«é€Ÿé–‹å§‹

- **åˆå­¸è€…** â†’ [å®‰è£æŒ‡å—](#-å®‰è£æŒ‡å—) â†’ [åŸºç¤æ“ä½œ](#-åŸºç¤æ“ä½œ) â†’ [å¸¸ç”¨æŒ‡ä»¤](#-å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥)
- **é–‹ç™¼è€…** â†’ [CLI å®Œæ•´åƒè€ƒ](#-cli-å®Œæ•´åƒè€ƒ) â†’ [é€²éšåŠŸèƒ½](#-é€²éšåŠŸèƒ½) â†’ [æœ€ä½³å¯¦è¸](#-æœ€ä½³å¯¦è¸)
- **åœ˜éšŠç®¡ç†** â†’ [æ¬Šé™ç®¡ç†](#-æ¬Šé™ç®¡ç†) â†’ [å®‰å…¨æ§åˆ¶](#-å®‰å…¨æ§åˆ¶) â†’ [ä¼æ¥­éƒ¨ç½²](#-ä¼æ¥­éƒ¨ç½²)

### ä¾éœ€æ±‚å¿«é€ŸæŸ¥æ‰¾

- ğŸ” **æŸ¥æ‰¾æŒ‡ä»¤** â†’ [æŒ‡ä»¤ç´¢å¼•](#-æŒ‡ä»¤ç´¢å¼•)
- ğŸš© **æŸ¥æ‰¾æ——æ¨™** â†’ [æ——æ¨™åƒè€ƒ](#-æ——æ¨™å®Œæ•´åƒè€ƒ)
- â“ **è§£æ±ºå•é¡Œ** â†’ [ç–‘é›£æ’è§£](#-ç–‘é›£æ’è§£)
- ğŸŒŸ **å­¸ç¿’é€²éš** â†’ [å·¥ä½œæµç¨‹](#-å·¥ä½œæµç¨‹å¤§å…¨)

---

## ğŸ“‹ è©³ç´°ç›®éŒ„

### ğŸ¯ å°ˆæ¡ˆæ¦‚è¿°

- [å°ˆæ¡ˆç°¡ä»‹](#-å°ˆæ¡ˆç°¡ä»‹)
- [åŠŸèƒ½ç‰¹è‰²](#-åŠŸèƒ½ç‰¹è‰²)
- [ç‰ˆæœ¬è³‡è¨Š](#-ç‰ˆæœ¬è³‡è¨Š)

### ğŸš€ å¿«é€Ÿé–‹å§‹

- [å®‰è£æŒ‡å—](#-å®‰è£æŒ‡å—)
  - [ç’°å¢ƒéœ€æ±‚](#-ç’°å¢ƒéœ€æ±‚)
  - [å®˜æ–¹å®‰è£](#-å®˜æ–¹å®‰è£)
  - [å¹³å°å®‰è£](#-å¹³å°å®‰è£)
  - [å®‰è£é©—è­‰](#-å®‰è£é©—è­‰)
- [èªè­‰è¨­å®š](#-èªè­‰è¨­å®š)
- [åŸºç¤æ“ä½œ](#-åŸºç¤æ“ä½œ)

### ğŸ“– æŒ‡ä»¤åƒè€ƒ

- [æŒ‡ä»¤ç´¢å¼•](#-æŒ‡ä»¤ç´¢å¼•)
- [CLI å®Œæ•´åƒè€ƒ](#-cli-å®Œæ•´åƒè€ƒ)
- [æ——æ¨™å®Œæ•´åƒè€ƒ](#-æ——æ¨™å®Œæ•´åƒè€ƒ)
- [æ–œç·šå‘½ä»¤ç³»çµ±](#-æ–œç·šå‘½ä»¤ç³»çµ±)
- [å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥](#-å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥)

### ğŸ¯ å¯¦æˆ°æ‡‰ç”¨

- [å·¥ä½œæµç¨‹å¤§å…¨](#-å·¥ä½œæµç¨‹å¤§å…¨)
- [é€²éšåŠŸèƒ½](#-é€²éšåŠŸèƒ½)
- [æœ€ä½³å¯¦è¸](#-æœ€ä½³å¯¦è¸)
- [æ¬Šé™ç®¡ç†](#-æ¬Šé™ç®¡ç†)
- [å®‰å…¨æ§åˆ¶](#-å®‰å…¨æ§åˆ¶)
- [ä¼æ¥­éƒ¨ç½²](#-ä¼æ¥­éƒ¨ç½²)

### ğŸ”§ å•é¡Œè§£æ±º

- [ç–‘é›£æ’è§£](#-ç–‘é›£æ’è§£)
- [å¸¸è¦‹å•é¡Œ](#-å¸¸è¦‹å•é¡Œ)
- [æ•ˆèƒ½å„ªåŒ–](#-æ•ˆèƒ½å„ªåŒ–)

### ğŸ“š å»¶ä¼¸è³‡æº

- [å®˜æ–¹è³‡æº](#-å®˜æ–¹è³‡æº)
- [æ›´æ–°è¨˜éŒ„](#-æ›´æ–°è¨˜éŒ„)

---

## ğŸ¯ å°ˆæ¡ˆç°¡ä»‹

æœ¬æ‰‹å†Šæ˜¯ä¸€ä»½**ç¶“éå®˜æ–¹æ–‡æª”å®Œæ•´é©—è­‰**çš„ Claude Code ä¸­æ–‡ä½¿ç”¨æŒ‡å—ï¼Œæ‰€æœ‰åŠŸèƒ½ã€æŒ‡ä»¤èˆ‡æ——æ¨™å‡å·²é€é Anthropic å®˜æ–¹æ–‡æª”äº¤å‰æ¯”å°ç¢ºèªã€‚æ¶µè“‹å¾åŸºç¤å®‰è£åˆ°é€²éšåŠŸèƒ½ã€å¾æ—¥å¸¸é–‹ç™¼åˆ°ä¼æ¥­éƒ¨ç½²çš„å®Œæ•´æµç¨‹ã€‚

### ğŸ“‹ å®˜æ–¹é©—è­‰èªªæ˜

**é©—è­‰ä¾æ“š**ï¼š

- Anthropic å®˜æ–¹ CLI Reference (2025-07-18)
- Claude Code å®˜æ–¹æ–‡æª” (docs.anthropic.com)
- å®˜æ–¹ GitHub å€‰åº«æœ€æ–°è³‡è¨Š

**ä¿ç•™ä½†æ¨™è¨»é™åˆ¶**ï¼š

- `--system-prompt`ã€`--append-system-prompt`ï¼šåƒ…é™ SDK ä¸­çš„ print mode ä½¿ç”¨

### åŠŸèƒ½ç‰¹è‰²

- **ğŸŒ å…¨ç¹é«”ä¸­æ–‡åŒ–**ï¼šç¬¦åˆè¯èªä½¿ç”¨è€…ç¿’æ…£
- **ğŸ“‹ å®˜æ–¹é©—è­‰å…§å®¹**ï¼š100% åŸºæ–¼å®˜æ–¹æ–‡æª”
- **âš¡ å¯¦æˆ°å°å‘**ï¼šåŒ…å«å¯¦ç”¨ç¯„ä¾‹å’Œæœ€ä½³å¯¦è¸
- **ğŸ”„ æŒçºŒæ›´æ–°**ï¼šè·Ÿéš¨å®˜æ–¹ç‰ˆæœ¬åŒæ­¥
- **ğŸ“± å®Œæ•´æŒ‡ä»¤åƒè€ƒ**ï¼šæ•´åˆæœ€æ–° CLI é¸é …å’ŒåŠŸèƒ½

---

## ğŸš€ å®‰è£æŒ‡å—

### ğŸ”§ ç’°å¢ƒéœ€æ±‚

#### ç³»çµ±éœ€æ±‚

| é …ç›®         | æœ€ä½éœ€æ±‚                                 | æ¨è–¦é…ç½®        | å‚™è¨»                        |
| ------------ | ---------------------------------------- | --------------- | --------------------------- |
| **ä½œæ¥­ç³»çµ±** | macOS 10.15+, Ubuntu 20.04+, Windows 10+ | æœ€æ–°ç‰ˆæœ¬        | Windows æ”¯æ´åŸç”Ÿ + Git Bash |
| **Node.js**  | 18.0+                                    | LTS ç‰ˆæœ¬ (20.x) | å»ºè­°ä½¿ç”¨ nvm ç®¡ç†           |
| **è¨˜æ†¶é«”**   | 4GB+                                     | 8GB+            | å¤§å‹å°ˆæ¡ˆéœ€è¦æ›´å¤šè¨˜æ†¶é«”      |
| **ç£ç¢Ÿç©ºé–“** | 1GB+                                     | 2GB+            | åŒ…å«æ¨¡å‹ç·©å­˜èˆ‡æ­·å²è¨˜éŒ„      |
| **ç¶²è·¯**     | ç©©å®šé€£ç·š                                 | ä½å»¶é²å¯¬é »      | éœ€é€£ç·š Anthropic API        |

#### æ”¯æ´çš„ Shell

- **æ¨è–¦**ï¼šBash 4.0+, Zsh 5.0+, Fish 3.0+
- **Windows**ï¼šGit Bashï¼ˆæ¨è–¦ï¼‰, WSL2
- **PowerShell**ï¼šåŸºæœ¬æ”¯æ´ï¼Œä½†éƒ¨åˆ†äº’å‹•åŠŸèƒ½åœ¨ Bash ä¸‹è¡¨ç¾æ›´ä½³

### ğŸ“¦ å®˜æ–¹å®‰è£

#### å®˜æ–¹æ¨è–¦å®‰è£æ–¹å¼

**æ¨™æº– npm å®‰è£ï¼ˆæ¨è–¦ï¼‰ï¼š**

```bash
# å®˜æ–¹æ¨è–¦çš„æ¨™æº–å®‰è£æ–¹å¼
npm install -g @anthropic-ai/claude-code
```

**Alpha åŸç”ŸäºŒé€²åˆ¶å®‰è£ï¼ˆæ¸¬è©¦éšæ®µï¼‰ï¼š**

```bash
# Alpha åŸç”Ÿå®‰è£è…³æœ¬ï¼ˆå¹³å°è‡ªå‹•æª¢æ¸¬ï¼‰
curl -fsSL https://claude.ai/install.sh | bash

# æˆ–å¾ç¾æœ‰å®‰è£é·ç§»
claude install
```

**é‡è¦æé†’**ï¼š

- å®˜æ–¹å¼·èª¿**å‹¿ä½¿ç”¨ sudo**
- å¦‚é‡æ¬Šé™å•é¡Œï¼Œä½¿ç”¨ `claude migrate-installer`
- Alpha ç‰ˆæœ¬ç›®å‰æ”¯æ´ï¼šmacOSã€Linuxã€Windows (via WSL)

#### æ‰‹å‹•å®‰è£

**æ­¥é©Ÿ 1ï¼šå®‰è£ Node.js**

```bash
# macOS (ä½¿ç”¨ Homebrew)
brew install node

# Ubuntu/Debian
sudo apt update && sudo apt install -y nodejs npm

# ä½¿ç”¨ nvm ç®¡ç†ç‰ˆæœ¬ï¼ˆæ¨è–¦ï¼‰
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
source ~/.bashrc
nvm install --lts
```

**æ­¥é©Ÿ 2ï¼šå®‰è£ Claude Code**

```bash
# å…¨åŸŸå®‰è£
npm install -g @anthropic-ai/claude-code

# é©—è­‰å®‰è£
claude --version
```

### ğŸ–¥ï¸ å¹³å°å®‰è£

#### Windows åŸç”Ÿå®‰è£

**æ­¥é©Ÿ 1ï¼šå®‰è£ Git for Windows**

```powershell
# ä½¿ç”¨ winget å®‰è£
winget install --id Git.Git -e --source winget
```

**æ­¥é©Ÿ 2ï¼šå®‰è£ Node.js**

```powershell
# ä½¿ç”¨ winget å®‰è£ LTS ç‰ˆæœ¬
winget install --id OpenJS.NodeJS.LTS -e --source winget
```

**æ­¥é©Ÿ 3ï¼šå®‰è£ Claude Code**

```powershell
npm install -g @anthropic-ai/claude-code
```

**æ­¥é©Ÿ 4ï¼šè¨­å®š Git Bash è·¯å¾‘ï¼ˆå¦‚éœ€è¦ï¼‰**

```powershell
[Environment]::SetEnvironmentVariable(
    "CLAUDE_CODE_GIT_BASH_PATH",
    "C:\Program Files\Git\bin\bash.exe",
    "User"
)
```

#### macOS

```bash
# ä½¿ç”¨ Homebrew
brew install node
npm install -g @anthropic-ai/claude-code
```

#### Linux (Ubuntu/Debian)

```bash
# æ›´æ–°å¥—ä»¶ç®¡ç†å™¨
sudo apt update && sudo apt install -y nodejs npm
npm install -g @anthropic-ai/claude-code
```

### ğŸ“ å®‰è£é©—è­‰

#### åŸºæœ¬é©—è­‰

```bash
# 1. æª¢æŸ¥ç‰ˆæœ¬
node --version  # æ‡‰é¡¯ç¤º v18.x.x æˆ–æ›´æ–°
npm --version   # æ‡‰é¡¯ç¤ºç›¸å®¹ç‰ˆæœ¬

# 2. æª¢æŸ¥ Claude Code
claude --version
claude doctor   # å¥åº·æª¢æŸ¥

# 3. æ¸¬è©¦åŸºæœ¬åŠŸèƒ½
claude -p "Hello, Claude Code!"
```

#### å®‰è£å•é¡Œæ’è§£

**æ¬Šé™å•é¡Œï¼š**

```bash
# é¿å…ä½¿ç”¨ sudoï¼Œæ”¹è®Š npm ç›®éŒ„
npm config set prefix ~/.npm-global
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc

# æˆ–ä½¿ç”¨å®˜æ–¹é·ç§»å·¥å…·
claude migrate-installer
```

---

## ğŸ” èªè­‰è¨­å®š

### èªè­‰æ–¹å¼çŸ©é™£

| èªè­‰æ–¹å¼                        | é©ç”¨å ´æ™¯           | è¨­å®šæ–¹å¼                   | å‚™è¨»             |
| ------------------------------- | ------------------ | -------------------------- | ---------------- |
| **Anthropic Console OAuth**     | å€‹äººé–‹ç™¼ã€å®Œæ•´åŠŸèƒ½ | `claude`ï¼ˆè‡ªå‹•é–‹å•Ÿç€è¦½å™¨ï¼‰ | æ¨è–¦æ–¹å¼ï¼Œéœ€ä»˜è²» |
| **Claude App Pro/Max**          | Pro/Max è¨‚é–±ç”¨æˆ¶   | æ‡‰ç”¨ç¨‹å¼å…§èªè­‰             | çµ±ä¸€è¨‚é–±æ–¹æ¡ˆ     |
| **Enterprise (Bedrock/Vertex)** | ä¼æ¥­éƒ¨ç½²           | é›²ç«¯å¹³å° IAM è¨­å®š          | ä¼æ¥­ç´šåŸºç¤è¨­æ–½   |
| **API Key**                     | è‡ªå‹•åŒ–ã€è…³æœ¬ä½¿ç”¨   | ç’°å¢ƒè®Šæ•¸                   | é©åˆ CI/CD       |

### HTTP ç¶²é èªè­‰ï¼ˆæ¨è–¦ï¼‰

```bash
# é¦–æ¬¡ä½¿ç”¨å»ºè­°é€éç¶²é èªè­‰
claude  # æœƒè‡ªå‹•é–‹å•Ÿç€è¦½å™¨ç™»å…¥é é¢

# æ‰‹å‹•å‰å¾€ï¼šhttps://console.anthropic.com/login
```

### API Token èªè­‰

```bash
# è¨­å®š API Key ç’°å¢ƒè®Šæ•¸
export ANTHROPIC_API_KEY="sk-ant-apiXX-XXXXXXX"

# æ°¸ä¹…ä¿å­˜è‡³ shell é…ç½®
echo 'export ANTHROPIC_API_KEY="sk-ant-apiXX-XXXXXXX"' >> ~/.bashrc
source ~/.bashrc

# æ¸¬è©¦é€£ç·š
claude -p "Hello, Claude Code!"
```

---

## ğŸš€ åŸºç¤æ“ä½œ

### å•Ÿå‹•æ–¹å¼

```bash
# å•Ÿå‹•äº’å‹• REPL
claude

# å¸¶åˆå§‹æç¤ºå•Ÿå‹•
claude "explain this project"

# éäº’å‹•æŸ¥è©¢
claude -p "explain this function"

# ç¹¼çºŒæœ€è¿‘å°è©±
claude -c

# è™•ç†ç®¡é“è¼¸å…¥
cat logs.txt | claude -p "explain"
```

### åŸºæœ¬å‘½ä»¤

| æŒ‡ä»¤                | åŠŸèƒ½         | ç¯„ä¾‹                       |
| ------------------- | ------------ | -------------------------- |
| `claude`            | å•Ÿå‹•äº’å‹•æ¨¡å¼ | `claude`                   |
| `claude "query"`    | å¸¶æç¤ºå•Ÿå‹•   | `claude "åˆ†æé€™å€‹å°ˆæ¡ˆ"`    |
| `claude -p "query"` | éäº’å‹•æŸ¥è©¢   | `claude -p "è§£é‡‹é€™å€‹å‡½æ•¸"` |
| `claude -c`         | ç¹¼çºŒå°è©±     | `claude -c`                |
| `claude update`     | æ›´æ–°ç‰ˆæœ¬     | `claude update`            |
| `claude doctor`     | å¥åº·æª¢æŸ¥     | `claude doctor`            |

### é›¢é–‹æ–¹å¼

- **äº’å‹•æ¨¡å¼**ï¼šè¼¸å…¥ `exit` æˆ–æŒ‰ `Ctrl+C`
- **éäº’å‹•æ¨¡å¼**ï¼šè‡ªå‹•é€€å‡º

---

## ğŸ” æŒ‡ä»¤ç´¢å¼•

### åŸºæœ¬æ“ä½œ

- `claude` - å•Ÿå‹•äº’å‹•æ¨¡å¼
- `claude "query"` - å¸¶æç¤ºå•Ÿå‹•
- `claude -p "query"` - éäº’å‹•æŸ¥è©¢
- `claude -c` - ç¹¼çºŒå°è©±
- `claude -r "<session-id>" "query"` - æ¢å¾©ç‰¹å®šæœƒè©±

### ç³»çµ±ç®¡ç†

- `claude update` - æ›´æ–°ç‰ˆæœ¬
- `claude doctor` - å¥åº·æª¢æŸ¥
- `claude migrate-installer` - é·ç§»å®‰è£å™¨

### MCP ç®¡ç†

- `claude mcp list` - åˆ—å‡ºä¼ºæœå™¨
- `claude mcp add` - æ–°å¢ä¼ºæœå™¨
- `claude mcp remove` - ç§»é™¤ä¼ºæœå™¨

---

## ğŸ“– CLI å®Œæ•´åƒè€ƒ

### åŸºæœ¬æŒ‡ä»¤

| æŒ‡ä»¤                               | æè¿°                | ç¯„ä¾‹                                   |
| ---------------------------------- | ------------------- | -------------------------------------- |
| `claude`                           | å•Ÿå‹•äº’å‹• REPL       | `claude`                               |
| `claude "query"`                   | å¸¶åˆå§‹æç¤ºå•Ÿå‹• REPL | `claude "explain this project"`        |
| `claude -p "query"`                | SDK æŸ¥è©¢å¾Œé€€å‡º      | `claude -p "explain this function"`    |
| `cat file \| claude -p "query"`    | è™•ç†ç®¡é“å…§å®¹        | `cat logs.txt \| claude -p "explain"`  |
| `claude -c`                        | ç¹¼çºŒæœ€è¿‘å°è©±        | `claude -c`                            |
| `claude -c -p "query"`             | é€é SDK ç¹¼çºŒ       | `claude -c -p "Check for type errors"` |
| `claude -r "<session-id>" "query"` | æŒ‰ ID æ¢å¾©æœƒè©±      | `claude -r "abc123" "Finish this PR"`  |
| `claude update`                    | æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬      | `claude update`                        |
| `claude mcp`                       | é…ç½® MCP ä¼ºæœå™¨     | è¦‹ [MCP æ–‡æª”](#mcp-ç®¡ç†)               |

---

## ğŸš© æ——æ¨™å®Œæ•´åƒè€ƒ

### åŸºæœ¬æ§åˆ¶æ——æ¨™

| æ——æ¨™         | çŸ­åƒæ•¸ | æè¿°                   | ç¯„ä¾‹                             |
| ------------ | ------ | ---------------------- | -------------------------------- |
| `--print`    | `-p`   | éäº’å‹•æ¨¡å¼ï¼ŒæŸ¥è©¢å¾Œé€€å‡º | `claude -p "è§£é‡‹ç¨‹å¼ç¢¼"`         |
| `--continue` | `-c`   | ç¹¼çºŒæœ€è¿‘å°è©±           | `claude -c "ç¹¼çºŒè¨è«–"`           |
| `--resume`   |        | æ¢å¾©ç‰¹å®šæœƒè©±           | `claude --resume abc123 "query"` |
| `--help`     | `-h`   | é¡¯ç¤ºå¹«åŠ©               | `claude --help`                  |
| `--version`  | `-v`   | é¡¯ç¤ºç‰ˆæœ¬               | `claude --version`               |

### æ¨¡å‹èˆ‡è¼¸å‡ºæ§åˆ¶

| æ——æ¨™              | æè¿°       | å¯ç”¨é¸é …                                     | ç¯„ä¾‹                   |
| ----------------- | ---------- | -------------------------------------------- | ---------------------- |
| `--model`         | æŒ‡å®šæ¨¡å‹   | `sonnet`, `opus`, `claude-sonnet-4-20250514` | `--model sonnet`       |
| `--output-format` | è¼¸å‡ºæ ¼å¼   | `text`, `json`, `stream-json`                | `--output-format json` |
| `--input-format`  | è¼¸å…¥æ ¼å¼   | `text`, `stream-json`                        | `--input-format text`  |
| `--verbose`       | è©³ç´°è¼¸å‡º   | ç„¡åƒæ•¸                                       | `claude --verbose`     |
| `--max-turns`     | æœ€å¤§å›åˆæ•¸ | æ•¸å­—                                         | `--max-turns 3`        |

### å®‰å…¨èˆ‡æ¬Šé™æ§åˆ¶

| æ——æ¨™                             | æè¿°            | èªæ³•æ ¼å¼             | ç¯„ä¾‹                                         |
| -------------------------------- | --------------- | -------------------- | -------------------------------------------- |
| `--allowedTools`                 | å…è¨±çš„å·¥å…·      | å·¥å…·æ¸…å–®             | `--allowedTools "Edit" "View" "Bash(git:*)"` |
| `--disallowedTools`              | ç¦ç”¨çš„å·¥å…·      | å·¥å…·æ¸…å–®             | `--disallowedTools "Bash"`                   |
| `--permission-mode`              | æ¬Šé™æ¨¡å¼        | `plan`, `always-ask` | `--permission-mode plan`                     |
| `--permission-prompt-tool`       | æ¬Šé™è™•ç†å·¥å…·    | MCP å·¥å…·åç¨±         | `--permission-prompt-tool mcp_auth_tool`     |
| `--dangerously-skip-permissions` | âš ï¸ è·³éæ¬Šé™æª¢æŸ¥ | ç„¡åƒæ•¸               | `--dangerously-skip-permissions`             |

### ç³»çµ±è¨­å®š

| æ——æ¨™        | æè¿°         | ç¯„ä¾‹                       |
| ----------- | ------------ | -------------------------- |
| `--add-dir` | æ·»åŠ å·¥ä½œç›®éŒ„ | `--add-dir ../apps ../lib` |

### SDK å°ˆç”¨æ——æ¨™ï¼ˆåƒ…é™ Print Modeï¼‰

| æ——æ¨™                     | æè¿°         | ç¯„ä¾‹                                             |
| ------------------------ | ------------ | ------------------------------------------------ |
| `--system-prompt`        | è¦†è“‹ç³»çµ±æç¤º | `claude -p "æŸ¥è©¢" --system-prompt "æ‚¨æ˜¯å°ˆå®¶"`    |
| `--append-system-prompt` | é™„åŠ ç³»çµ±æç¤º | `claude -p "æŸ¥è©¢" --append-system-prompt "é¡å¤–"` |

**æ³¨æ„**ï¼šé€™äº›æ——æ¨™åƒ…åœ¨ SDK çš„ print mode (`-p`) ä¸­æœ‰æ•ˆï¼Œä¸é©ç”¨æ–¼äº’å‹•æ¨¡å¼ã€‚

### æ——æ¨™çµ„åˆç¯„ä¾‹

```bash
# è…³æœ¬åŒ–æŸ¥è©¢
claude -p "åˆ†æç¨‹å¼ç¢¼" --output-format json --model sonnet

# å®‰å…¨æ¨¡å¼é–‹ç™¼
claude --allowedTools "Edit" "View" --permission-mode plan

# é™¤éŒ¯æ¨¡å¼
claude --verbose --max-turns 3

# SDK ç³»çµ±æç¤ºç¯„ä¾‹
claude -p "å»ºç«‹ API" --system-prompt "æ‚¨æ˜¯å¾Œç«¯æ¶æ§‹å¸«ï¼Œå°ˆæ³¨å®‰å…¨æ€§èˆ‡æ•ˆèƒ½"
```

---

## ğŸ”€ æ–œç·šå‘½ä»¤ç³»çµ±

### åŸºæœ¬å‘½ä»¤

| å‘½ä»¤     | åŠŸèƒ½     | èªæ³•              | ç¯„ä¾‹                    |
| -------- | -------- | ----------------- | ----------------------- |
| `/help`  | é¡¯ç¤ºå¹«åŠ© | `/help [command]` | `/help`, `/help memory` |
| `/clear` | æ¸…é™¤æ­·å² | `/clear`          | `/clear`                |

### å°ˆæ¡ˆç®¡ç†

| å‘½ä»¤       | åŠŸèƒ½       | èªæ³•                          | ç¯„ä¾‹                 |
| ---------- | ---------- | ----------------------------- | -------------------- |
| `/init`    | åˆå§‹åŒ–å°ˆæ¡ˆ | `/init`                       | `/init`              |
| `/memory`  | è¨˜æ†¶é«”ç®¡ç† | `/memory [view\|edit\|clear]` | `/memory view`       |
| `/add-dir` | æ·»åŠ ç›®éŒ„   | `/add-dir <path>`             | `/add-dir ../shared` |

### ç³»çµ±ç®¡ç†

| å‘½ä»¤      | åŠŸèƒ½     | èªæ³•                       | ç¯„ä¾‹           |
| --------- | -------- | -------------------------- | -------------- |
| `/config` | é…ç½®ç®¡ç† | `/config [list\|set\|get]` | `/config list` |
| `/doctor` | å¥åº·æª¢æŸ¥ | `/doctor`                  | `/doctor`      |
| `/status` | ç‹€æ…‹æŸ¥è©¢ | `/status`                  | `/status`      |
| `/cost`   | æˆæœ¬æŸ¥è©¢ | `/cost`                    | `/cost`        |

### å¸³æˆ¶ç®¡ç†

| å‘½ä»¤      | åŠŸèƒ½     | èªæ³•      | ç¯„ä¾‹      |
| --------- | -------- | --------- | --------- |
| `/login`  | ç™»å…¥ç®¡ç† | `/login`  | `/login`  |
| `/logout` | ç™»å‡ºå¸³æˆ¶ | `/logout` | `/logout` |

### æ¨¡å‹èˆ‡æ¬Šé™

| å‘½ä»¤           | åŠŸèƒ½     | èªæ³•                               | ç¯„ä¾‹                |
| -------------- | -------- | ---------------------------------- | ------------------- |
| `/model`       | æ¨¡å‹ç®¡ç† | `/model [list\|set]`               | `/model list`       |
| `/permissions` | æ¬Šé™ç®¡ç† | `/permissions [view\|allow\|deny]` | `/permissions view` |

### MCP ç®¡ç†

| å‘½ä»¤   | åŠŸèƒ½     | èªæ³•                                | ç¯„ä¾‹        |
| ------ | -------- | ----------------------------------- | ----------- |
| `/mcp` | MCP ç®¡ç† | `/mcp [list\|add\|remove\|restart]` | `/mcp list` |

### é–‹ç™¼å·¥å…·

| å‘½ä»¤           | åŠŸèƒ½        | èªæ³•                     | ç¯„ä¾‹                      |
| -------------- | ----------- | ------------------------ | ------------------------- |
| `/review`      | ç¨‹å¼ç¢¼å¯©æŸ¥  | `/review <path>`         | `/review src/`            |
| `/compact`     | å£“ç¸®å°è©±    | `/compact [description]` | `/compact "ä¿ç•™æ ¸å¿ƒè¨è«–"` |
| `/bug`         | å•é¡Œå›å ±    | `/bug`                   | `/bug`                    |
| `/pr_comments` | PR è©•è«–æŸ¥çœ‹ | `/pr_comments`           | `/pr_comments`            |

### ç·¨è¼¯å™¨æ•´åˆ

| å‘½ä»¤              | åŠŸèƒ½         | èªæ³•              | ç¯„ä¾‹              |
| ----------------- | ------------ | ----------------- | ----------------- |
| `/vim`            | Vim ç·¨è¼¯æ¨¡å¼ | `/vim`            | `/vim`            |
| `/terminal-setup` | çµ‚ç«¯æ©Ÿè¨­å®š   | `/terminal-setup` | `/terminal-setup` |

---

## ğŸ› ï¸ å·¥å…·å®Œæ•´åƒè€ƒ

### Claude Code å¯ç”¨å·¥å…·

Claude Code æ“æœ‰ä¸€å¥—å¼·å¤§çš„å·¥å…·é›†ï¼Œå¹«åŠ© Claude ç†è§£å’Œä¿®æ”¹æ‚¨çš„ç¨‹å¼ç¢¼åº«ï¼š

| å·¥å…·             | æè¿°                             | éœ€è¦æ¬Šé™ | ä¸»è¦ç”¨é€”             |
| ---------------- | -------------------------------- | -------- | -------------------- |
| **Agent**        | åŸ·è¡Œå­ä»£ç†è™•ç†è¤‡é›œçš„å¤šæ­¥é©Ÿä»»å‹™   | å¦       | è¤‡é›œä»»å‹™åˆ†è§£         |
| **Bash**         | åœ¨æ‚¨çš„ç’°å¢ƒä¸­åŸ·è¡Œ shell å‘½ä»¤      | æ˜¯       | ç³»çµ±æ“ä½œã€å»ºç½®ã€æ¸¬è©¦ |
| **Edit**         | å°ç‰¹å®šæª”æ¡ˆé€²è¡Œç²¾æº–ç·¨è¼¯           | æ˜¯       | ç¨‹å¼ç¢¼ä¿®æ”¹           |
| **Glob**         | åŸºæ–¼æ¨¡å¼åŒ¹é…å°‹æ‰¾æª”æ¡ˆ             | å¦       | æª”æ¡ˆæœå°‹             |
| **Grep**         | åœ¨æª”æ¡ˆå…§å®¹ä¸­æœå°‹æ¨¡å¼             | å¦       | å…§å®¹æœå°‹             |
| **LS**           | åˆ—å‡ºæª”æ¡ˆå’Œç›®éŒ„                   | å¦       | ç›®éŒ„ç€è¦½             |
| **MultiEdit**    | å°å–®ä¸€æª”æ¡ˆåŸ·è¡Œå¤šå€‹åŸå­æ€§ç·¨è¼¯     | æ˜¯       | æ‰¹é‡ä¿®æ”¹             |
| **NotebookEdit** | ä¿®æ”¹ Jupyter notebook å„²å­˜æ ¼     | æ˜¯       | Notebook ç·¨è¼¯        |
| **NotebookRead** | è®€å–ä¸¦é¡¯ç¤º Jupyter notebook å…§å®¹ | å¦       | Notebook ç€è¦½        |
| **Read**         | è®€å–æª”æ¡ˆå…§å®¹                     | å¦       | ç¨‹å¼ç¢¼ç€è¦½           |
| **TodoRead**     | è®€å–ç•¶å‰æœƒè©±çš„ä»»å‹™æ¸…å–®           | å¦       | ä»»å‹™è¿½è¹¤             |
| **TodoWrite**    | å»ºç«‹å’Œç®¡ç†çµæ§‹åŒ–ä»»å‹™æ¸…å–®         | å¦       | ä»»å‹™ç®¡ç†             |
| **WebFetch**     | å¾æŒ‡å®š URL ç²å–å…§å®¹              | æ˜¯       | ç¶²è·¯å…§å®¹ç²å–         |
| **WebSearch**    | åŸ·è¡Œå¸¶åŸŸåéæ¿¾çš„ç¶²è·¯æœå°‹         | æ˜¯       | è³‡è¨Šæœå°‹             |
| **Write**        | å»ºç«‹æˆ–è¦†å¯«æª”æ¡ˆ                   | æ˜¯       | æª”æ¡ˆå»ºç«‹             |

### å·¥å…·è©³ç´°èªªæ˜

#### æª”æ¡ˆæ“ä½œå·¥å…·

**Read å·¥å…·**

- **åŠŸèƒ½**ï¼šè®€å–æª”æ¡ˆå…§å®¹ï¼Œæ”¯æ´æŒ‡å®šè¡Œæ•¸ç¯„åœ
- **èªæ³•**ï¼š`Read(æª”æ¡ˆè·¯å¾‘)`
- **æ¬Šé™è¦å‰‡ç¯„ä¾‹**ï¼š`"Read(src/**/*.ts)"` - åƒ…å…è¨±è®€å– TypeScript æª”æ¡ˆ

**Edit å·¥å…·**

- **åŠŸèƒ½**ï¼šå°æª”æ¡ˆé€²è¡Œç²¾æº–çš„å­—ä¸²æ›¿æ›ç·¨è¼¯
- **ç‰¹è‰²**ï¼šæ”¯æ´å¤šè¡Œç·¨è¼¯ã€ä¿æŒæ ¼å¼
- **æ¬Šé™è¦å‰‡ç¯„ä¾‹**ï¼š`"Edit(src/**/*.{js,ts})"` - åƒ…å…è¨±ç·¨è¼¯ç‰¹å®šé¡å‹æª”æ¡ˆ

**Write å·¥å…·**

- **åŠŸèƒ½**ï¼šå»ºç«‹æ–°æª”æ¡ˆæˆ–å®Œå…¨è¦†å¯«ç¾æœ‰æª”æ¡ˆ
- **å®‰å…¨è€ƒé‡**ï¼šå…·æœ‰è¦†å¯«é¢¨éšªï¼Œå»ºè­°è¬¹æ…è¨­å®šæ¬Šé™
- **æ¬Šé™è¦å‰‡ç¯„ä¾‹**ï¼š`"Write(temp/**/*)"` - åƒ…å…è¨±åœ¨è‡¨æ™‚ç›®éŒ„å¯«å…¥

**MultiEdit å·¥å…·**

- **åŠŸèƒ½**ï¼šåœ¨å–®ä¸€æª”æ¡ˆä¸­åŸ·è¡Œå¤šå€‹ç·¨è¼¯æ“ä½œï¼Œç¢ºä¿åŸå­æ€§
- **å„ªå‹¢**ï¼šé¿å…éƒ¨åˆ†ç·¨è¼¯å°è‡´çš„ä¸ä¸€è‡´ç‹€æ…‹
- **ä½¿ç”¨å ´æ™¯**ï¼šå¤§è¦æ¨¡é‡æ§‹ã€æ‰¹é‡è®Šæ›´

#### æœå°‹èˆ‡ç€è¦½å·¥å…·

**Glob å·¥å…·**

- **åŠŸèƒ½**ï¼šä½¿ç”¨è¬ç”¨å­—å…ƒæ¨¡å¼å°‹æ‰¾æª”æ¡ˆ
- **æ¨¡å¼ç¯„ä¾‹**ï¼š
  - `*.js` - æ‰€æœ‰ JavaScript æª”æ¡ˆ
  - `src/**/*.test.ts` - æ‰€æœ‰æ¸¬è©¦æª”æ¡ˆ
  - `{*.json,*.yaml}` - JSON å’Œ YAML æª”æ¡ˆ

**Grep å·¥å…·**

- **åŠŸèƒ½**ï¼šåœ¨æª”æ¡ˆå…§å®¹ä¸­æœå°‹æ–‡å­—æ¨¡å¼
- **æ”¯æ´åŠŸèƒ½**ï¼š
  - æ­£è¦è¡¨ç¤ºå¼æœå°‹
  - ä¸å€åˆ†å¤§å°å¯«æœå°‹
  - è¡Œè™Ÿé¡¯ç¤º
- **ä½¿ç”¨ç¯„ä¾‹**ï¼šæœå°‹ TODO è¨»è§£ã€å‡½æ•¸å®šç¾©ã€éŒ¯èª¤æ¨¡å¼

**LS å·¥å…·**

- **åŠŸèƒ½**ï¼šåˆ—å‡ºç›®éŒ„å…§å®¹ï¼Œé¡ä¼¼ `ls` å‘½ä»¤
- **é¡¯ç¤ºè³‡è¨Š**ï¼šæª”æ¡ˆå¤§å°ã€ä¿®æ”¹æ™‚é–“ã€æ¬Šé™
- **ç”¨é€”**ï¼šå°ˆæ¡ˆçµæ§‹æ¢ç´¢ã€æª”æ¡ˆç‹€æ…‹æª¢æŸ¥

#### ç³»çµ±æ“ä½œå·¥å…·

**Bash å·¥å…·**

- **åŠŸèƒ½**ï¼šåŸ·è¡Œä»»æ„ shell å‘½ä»¤
- **å®‰å…¨ç‰¹æ€§**ï¼š
  - å¯è¨­å®šé€¾æ™‚
  - æ”¯æ´æ¬Šé™ç´°åˆ†æ§åˆ¶
  - è¼¸å‡ºé•·åº¦é™åˆ¶
- **æ¬Šé™æ§åˆ¶ç¯„ä¾‹**ï¼š
  ```json
  {
    "allow": ["Bash(git diff:*)", "Bash(npm run test:*)", "Bash(docker ps:*)"],
    "deny": ["Bash(rm:*)", "Bash(sudo:*)"]
  }
  ```

#### ä»»å‹™ç®¡ç†å·¥å…·

**TodoRead å·¥å…·**

- **åŠŸèƒ½**ï¼šè®€å–ç•¶å‰æœƒè©±çš„çµæ§‹åŒ–ä»»å‹™æ¸…å–®
- **è³‡æ–™æ ¼å¼**ï¼šJSON çµæ§‹ï¼ŒåŒ…å«ç‹€æ…‹ã€å„ªå…ˆç´šã€æè¿°

**TodoWrite å·¥å…·**

- **åŠŸèƒ½**ï¼šå»ºç«‹ã€æ›´æ–°ã€ç®¡ç†ä»»å‹™æ¸…å–®
- **æ”¯æ´æ“ä½œ**ï¼š
  - æ–°å¢ä»»å‹™
  - æ›´æ–°ç‹€æ…‹
  - è¨­å®šå„ªå…ˆç´š
  - åˆä½µä»»å‹™æ¸…å–®

#### ç¶²è·¯å·¥å…·

**WebFetch å·¥å…·**

- **åŠŸèƒ½**ï¼šç²å–æŒ‡å®š URL çš„å…§å®¹
- **æ”¯æ´æ ¼å¼**ï¼šHTMLã€JSONã€æ–‡å­—
- **ä½¿ç”¨å ´æ™¯**ï¼šAPI æ–‡æª”æŸ¥è©¢ã€ç¨‹å¼ç¢¼ç¯„ä¾‹ç²å–

**WebSearch å·¥å…·**

- **åŠŸèƒ½**ï¼šåŸ·è¡Œç¶²è·¯æœå°‹ä¸¦è¿”å›çµæœ
- **ç‰¹è‰²**ï¼šæ”¯æ´åŸŸåéæ¿¾ï¼Œæé«˜çµæœç›¸é—œæ€§
- **ç”¨é€”**ï¼šæŠ€è¡“å•é¡Œæœå°‹ã€æœ€ä½³å¯¦è¸æŸ¥è©¢

#### Jupyter Notebook å·¥å…·

**NotebookRead å·¥å…·**

- **åŠŸèƒ½**ï¼šè®€å–ä¸¦è§£æ Jupyter notebook æª”æ¡ˆ
- **é¡¯ç¤ºå…§å®¹**ï¼šç¨‹å¼ç¢¼å„²å­˜æ ¼ã€Markdown å„²å­˜æ ¼ã€è¼¸å‡ºçµæœ

**NotebookEdit å·¥å…·**

- **åŠŸèƒ½**ï¼šä¿®æ”¹ notebook å„²å­˜æ ¼å…§å®¹
- **æ”¯æ´æ“ä½œ**ï¼š
  - ç·¨è¼¯å„²å­˜æ ¼ç¨‹å¼ç¢¼
  - æ–°å¢/åˆªé™¤å„²å­˜æ ¼
  - ä¿®æ”¹å„²å­˜æ ¼é¡å‹

#### ä»£ç†å·¥å…·

**Agent å·¥å…·**

- **åŠŸèƒ½**ï¼šå•Ÿå‹•å­ä»£ç†åŸ·è¡Œè¤‡é›œä»»å‹™
- **æ‡‰ç”¨å ´æ™¯**ï¼š
  - å¤šæª”æ¡ˆå”èª¿ä¿®æ”¹
  - è¤‡é›œæ¼”ç®—æ³•å¯¦ä½œ
  - ç«¯åˆ°ç«¯åŠŸèƒ½é–‹ç™¼
- **ç‰¹è‰²**ï¼š
  - ç¨ç«‹çš„ä¸Šä¸‹æ–‡ç©ºé–“
  - å¯ä¸¦è¡ŒåŸ·è¡Œ
  - çµæœå¯åˆä½µåˆ°ä¸»æœƒè©±

### æ¬Šé™æ§åˆ¶é€²éšè¨­å®š

#### æ¨¡å¼åŒ¹é…èªæ³•

```json
{
  "permissions": {
    "allow": [
      "Read", // å…è¨±æ‰€æœ‰è®€å–æ“ä½œ
      "Edit(src/**/*.{js,ts})", // åƒ…å…è¨±ç·¨è¼¯ç‰¹å®šæª”æ¡ˆ
      "Bash(git *)", // å…è¨±æ‰€æœ‰ git å‘½ä»¤
      "Bash(npm run test:*)", // å…è¨±åŸ·è¡Œæ¸¬è©¦è…³æœ¬
      "WebFetch(https://docs.*)" // åƒ…å…è¨±ç²å–æ–‡æª”ç¶²ç«™å…§å®¹
    ],
    "deny": [
      "Bash(rm:*)", // ç¦æ­¢åˆªé™¤å‘½ä»¤
      "Bash(sudo:*)", // ç¦æ­¢ sudo å‘½ä»¤
      "Write(.env*)", // ç¦æ­¢ä¿®æ”¹ç’°å¢ƒè®Šæ•¸æª”æ¡ˆ
      "Edit(package.json)" // ç¦æ­¢ä¿®æ”¹å¥—ä»¶è¨­å®š
    ]
  }
}
```

#### å·¥ä½œç›®éŒ„æ§åˆ¶

```json
{
  "permissions": {
    "additionalDirectories": [
      "../shared-lib/", // å…è¨±å­˜å–å…±äº«ç¨‹å¼åº«
      "../docs/", // å…è¨±å­˜å–æ–‡æª”ç›®éŒ„
      "~/templates/" // å…è¨±å­˜å–ç¯„æœ¬ç›®éŒ„
    ]
  }
}
```

---

## ğŸ¯ å·¥ä½œæµç¨‹å¤§å…¨

### åŸºç¤é–‹ç™¼æµç¨‹

#### å°ˆæ¡ˆåˆå§‹åŒ–

```bash
# å•Ÿå‹• Claude Code
claude

# åˆå§‹åŒ–å°ˆæ¡ˆè¨˜æ†¶
/init

# è¨­å®šæ¬Šé™
/permissions allow "Edit" "View" "Bash(git:*)"

# é–‹å§‹é–‹ç™¼
claude "åˆ†æé€™å€‹å°ˆæ¡ˆä¸¦å»ºè­°æ”¹é€²"
```

#### æ¢ç´¢ã€è¦åŠƒã€ç·¨ç¢¼ã€æäº¤

```bash
# 1. æ¢ç´¢éšæ®µ
claude "è«‹è®€å–ç›¸é—œæª”æ¡ˆï¼Œäº†è§£å°ˆæ¡ˆçµæ§‹ï¼Œä½†å…ˆä¸è¦å¯«ç¨‹å¼ç¢¼"

# 2. è¦åŠƒéšæ®µ
claude "è«‹åˆ¶å®šè§£æ±ºé€™å€‹å•é¡Œçš„è¨ˆåŠƒï¼Œä½¿ç”¨ think é€²è¡Œæ·±åº¦æ€è€ƒ"

# 3. å¯¦ä½œéšæ®µ
claude "è«‹å¯¦ä½œè§£æ±ºæ–¹æ¡ˆ"

# 4. æäº¤éšæ®µ
claude "è«‹æäº¤è®Šæ›´ä¸¦å»ºç«‹ pull request"
```

### æ¸¬è©¦é©…å‹•é–‹ç™¼

```bash
# 1. æ’°å¯«æ¸¬è©¦
claude "åŸºæ–¼é æœŸè¼¸å…¥è¼¸å‡ºæ’°å¯«æ¸¬è©¦ï¼Œä¸è¦å»ºç«‹ mock å¯¦ä½œ"

# 2. ç¢ºèªæ¸¬è©¦å¤±æ•—
claude "åŸ·è¡Œæ¸¬è©¦ä¸¦ç¢ºèªå¤±æ•—ï¼Œè«‹ä¸è¦å¯«å¯¦ä½œç¨‹å¼ç¢¼"

# 3. æäº¤æ¸¬è©¦
claude "æäº¤æ¸¬è©¦ç¨‹å¼ç¢¼"

# 4. å¯¦ä½œåŠŸèƒ½
claude "æ’°å¯«é€šéæ¸¬è©¦çš„ç¨‹å¼ç¢¼ï¼Œä¸è¦ä¿®æ”¹æ¸¬è©¦"

# 5. æäº¤ç¨‹å¼ç¢¼
claude "æäº¤å¯¦ä½œç¨‹å¼ç¢¼"
```

### MCP æ•´åˆé–‹ç™¼

```bash
# è¨­å®š MCP ä¼ºæœå™¨
claude mcp add weather-api ./weather-server.js
claude mcp add database --transport http https://api.example.com

# ä½¿ç”¨ MCP å·¥å…·
claude --allowedTools "mcp__weather__get_forecast" "æŸ¥è©¢æ˜å¤©å¤©æ°£"
```

### å®‰å…¨ YOLO æ¨¡å¼

```bash
# åœ¨å®¹å™¨ä¸­ä½¿ç”¨ï¼ˆå»ºè­°ï¼‰
claude --dangerously-skip-permissions "ä¿®å¾©æ‰€æœ‰ lint éŒ¯èª¤"
```

**âš ï¸ è­¦å‘Š**ï¼šå»ºè­°åƒ…åœ¨éš”é›¢ç’°å¢ƒä¸­ä½¿ç”¨ï¼Œè©²æŒ‡ä»¤å¯èƒ½å°è‡´è³‡æ–™éºå¤±æˆ–ç³»çµ±æå£ã€‚

---

## ğŸ”§ é€²éšåŠŸèƒ½

### CLAUDE.md å°ˆæ¡ˆè¨˜æ†¶

#### å»ºç«‹èˆ‡ç®¡ç†

```bash
# åˆå§‹åŒ–å°ˆæ¡ˆè¨˜æ†¶
/init

# æª¢è¦–è¨˜æ†¶å…§å®¹
/memory view

# ç·¨è¼¯è¨˜æ†¶
/memory edit

# æ¸…é™¤è¨˜æ†¶
/memory clear
```

#### CLAUDE.md ç¯„ä¾‹

```markdown
# å°ˆæ¡ˆè¨˜æ†¶

## Bash æŒ‡ä»¤

- npm run build: å»ºç½®å°ˆæ¡ˆ
- npm run test: åŸ·è¡Œæ¸¬è©¦
- npm run lint: ç¨‹å¼ç¢¼æª¢æŸ¥

## ç¨‹å¼ç¢¼é¢¨æ ¼

- ä½¿ç”¨ ES modules (import/export)
- å„ªå…ˆä½¿ç”¨è§£æ§‹è³¦å€¼
- éµå¾ª TypeScript strict æ¨¡å¼

## å·¥ä½œæµç¨‹

- å®Œæˆè®Šæ›´å¾Œå‹™å¿…åŸ·è¡Œ typecheck
- å„ªå…ˆåŸ·è¡Œå–®ä¸€æ¸¬è©¦è€Œéæ•´å€‹æ¸¬è©¦å¥—ä»¶
- ä½¿ç”¨ Git Flow åˆ†æ”¯ç­–ç•¥
```

### æ¨¡å‹æ§åˆ¶

#### å¯ç”¨æ¨¡å‹

```bash
# æŸ¥çœ‹å¯ç”¨æ¨¡å‹
/model list

# ä½¿ç”¨åˆ¥å
claude --model sonnet
claude --model opus

# ä½¿ç”¨å®Œæ•´å‹è™Ÿï¼ˆå«æ—¥æœŸæ¨™ç±¤ï¼‰
claude --model claude-sonnet-4-20250514
```

#### ç•¶å‰æ”¯æ´æ¨¡å‹

- **Claude Opus 4**ï¼šæœ€å¼·å¤§çš„æ¨ç†æ¨¡å‹
- **Claude 4 Sonnet**ï¼šæœ€æ–°æ··åˆæ¨ç†æ¨¡å‹
- **Claude 3.7 Sonnet**ï¼šå¿«é€Ÿæ··åˆæ¨ç†æ¨¡å‹

### æ¬Šé™ç®¡ç†

#### æ¬Šé™æ¨¡å¼

```bash
# è¨ˆåŠƒæ¨¡å¼ï¼ˆæ¨è–¦ï¼‰
claude --permission-mode plan

# ç¸½æ˜¯è©¢å•æ¨¡å¼
claude --permission-mode always-ask
```

#### å·¥å…·æ¬Šé™

```bash
# å…è¨±ç‰¹å®šå·¥å…·
claude --allowedTools "Edit" "View" "Bash(git:*)"

# ç¦ç”¨å±éšªå·¥å…·
claude --disallowedTools "Bash(rm:*)" "Bash(sudo:*)"

# ç²¾ç´°æ¬Šé™æ§åˆ¶
claude --allowedTools "Bash(git log:*)" "Bash(git diff:*)" "Read"
```

### æœƒè©±ç®¡ç†

#### æœƒè©±æ“ä½œ

```bash
# ç¹¼çºŒæœ€è¿‘å°è©±
claude -c

# æ¢å¾©ç‰¹å®šæœƒè©±
claude -r "abc123" "ç¹¼çºŒé€™å€‹åŠŸèƒ½é–‹ç™¼"

# å£“ç¸®å°è©±æ­·å²
/compact "ä¿ç•™é‡è¦è¨è«–"

# æ¸…é™¤æ­·å²
/clear
```

---

## ğŸª Hooks åŠŸèƒ½ï¼ˆé€²éšè‡ªå‹•åŒ–ï¼‰

### ä»€éº¼æ˜¯ Hooks

Claude Code Hooks æ˜¯ä½¿ç”¨è€…å®šç¾©çš„ shell å‘½ä»¤ï¼Œåœ¨ Claude Code ç”Ÿå‘½é€±æœŸçš„å„å€‹æ™‚é»è‡ªå‹•åŸ·è¡Œã€‚Hooks æä¾›å° Claude Code è¡Œç‚ºçš„ç¢ºå®šæ€§æ§åˆ¶ï¼Œç¢ºä¿æŸäº›å‹•ä½œç¸½æ˜¯æœƒç™¼ç”Ÿï¼Œè€Œä¸æ˜¯ä¾è³´ LLM é¸æ“‡åŸ·è¡Œå®ƒå€‘ã€‚

#### ä¸»è¦å„ªå‹¢

- **ç¢ºå®šæ€§æ§åˆ¶**ï¼šå°‡å»ºè­°è½‰æ›ç‚ºæ‡‰ç”¨ç¨‹å¼å±¤ç´šçš„ç¨‹å¼ç¢¼ï¼Œæ¯æ¬¡é æœŸåŸ·è¡Œæ™‚éƒ½æœƒåŸ·è¡Œ
- **è‡ªå‹•åŒ–å·¥ä½œæµç¨‹**ï¼šç„¡éœ€æ‰‹å‹•å¹²é å³å¯åŸ·è¡Œé‡è¤‡ä»»å‹™
- **æ•´åˆå¤–éƒ¨å·¥å…·**ï¼šè¼•é¬†æ•´åˆç¾æœ‰çš„é–‹ç™¼å·¥å…·å’Œè…³æœ¬
- **æå‡å®‰å…¨æ€§**ï¼šå¯æ””æˆªå±éšªæ“ä½œï¼Œå¯¦æ–½å®‰å…¨ç­–ç•¥

#### å¸¸è¦‹ä½¿ç”¨æ¡ˆä¾‹

| ç”¨é€”           | ç¯„ä¾‹                                                | Hook äº‹ä»¶              |
| -------------- | --------------------------------------------------- | ---------------------- |
| **è‡ªå‹•æ ¼å¼åŒ–** | å° .ts æª”æ¡ˆåŸ·è¡Œ `prettier`ï¼Œå° .go æª”æ¡ˆåŸ·è¡Œ `gofmt` | PostToolUse            |
| **å®‰å…¨æ§åˆ¶**   | é˜»æ­¢å°ç”Ÿç”¢æª”æ¡ˆæˆ–æ•æ„Ÿç›®éŒ„çš„ä¿®æ”¹                      | PreToolUse             |
| **é€šçŸ¥ç³»çµ±**   | è‡ªè¨‚ç•¶ Claude Code ç­‰å¾…è¼¸å…¥æ™‚çš„é€šçŸ¥æ–¹å¼             | Notification           |
| **è¨˜éŒ„è¿½è¹¤**   | è¿½è¹¤å’Œè¨ˆç®—æ‰€æœ‰åŸ·è¡Œçš„å‘½ä»¤ä»¥ç¬¦åˆåˆè¦æ€§                | PreToolUse/PostToolUse |
| **ç¨‹å¼ç¢¼å›é¥‹** | ç•¶ç¨‹å¼ç¢¼ä¸ç¬¦åˆè¦ç¯„æ™‚æä¾›è‡ªå‹•å›é¥‹                    | PostToolUse            |

### Hook ç”Ÿå‘½é€±æœŸäº‹ä»¶

| äº‹ä»¶               | è§¸ç™¼æ™‚æ©Ÿ                  | å¸¸è¦‹ç”¨é€”                           |
| ------------------ | ------------------------- | ---------------------------------- |
| `PreToolUse`       | å·¥å…·åŸ·è¡Œå‰                | æ¬Šé™åˆ¤æ–·ã€ç¨‹å¼ç¢¼éœæ…‹åˆ†æã€å®‰å…¨æª¢æŸ¥ |
| `PostToolUse`      | å·¥å…·æˆåŠŸå¾Œ                | è‡ªå‹•æ ¼å¼åŒ–ã€æ—¥èªŒè¨˜éŒ„ã€ç¨‹å¼ç¢¼é©—è­‰   |
| `Notification`     | Claude Code ç™¼é€é€šçŸ¥æ™‚    | æ¡Œé¢æé†’ã€Slack é€šçŸ¥               |
| `UserPromptSubmit` | ä½¿ç”¨è€…é€å‡º prompt æ™‚      | æ•æ„Ÿè©éæ¿¾ã€å…§å®¹æª¢æŸ¥               |
| `Stop`             | ä¸»ä»£ç†å›æ‡‰å®Œç•¢æ™‚          | é€£çºŒå·¥ä½œæµã€è§¸ç™¼æ¬¡ç´šä»»å‹™           |
| `SubagentStop`     | å­ä»£ç†å›æ‡‰å®Œç•¢æ™‚          | å­ä»»å‹™å®Œæˆè™•ç†                     |
| `PreCompact`       | Claude åŸ·è¡Œ `/compact` å‰ | è¿½åŠ è‡ªè¨‚æ‘˜è¦è¦å‰‡                   |

### é…ç½®æ–¹å¼

#### äº’å‹•å¼é…ç½®

```bash
# åœ¨ REPL ä¸­
claude
/hooks

# é¸æ“‡äº‹ä»¶é¡å‹ â†’ æ–°å¢åŒ¹é…å™¨ â†’ æ–°å¢ hook å‘½ä»¤
```

#### JSON è¨­å®šæª”é…ç½®

**è¨­å®šæª”ä½ç½®**ï¼š

- `~/.claude/settings.json`ï¼ˆå…¨åŸŸè¨­å®šï¼‰
- `.claude/settings.json`ï¼ˆå°ˆæ¡ˆè¨­å®šï¼Œç´å…¥ç‰ˆæ§ï¼‰
- `.claude/settings.local.json`ï¼ˆæœ¬åœ°è¨­å®šï¼Œä¸é€²ç‰ˆæ§ï¼‰

**åŸºæœ¬çµæ§‹**ï¼š

```json
{
  "hooks": {
    "äº‹ä»¶åç¨±": [
      {
        "matcher": "å·¥å…·æ¨¡å¼",
        "hooks": [
          {
            "type": "command",
            "command": "è¦åŸ·è¡Œçš„å‘½ä»¤",
            "timeout": 60
          }
        ]
      }
    ]
  }
}
```

#### Matcher èªæ³•è¦å‰‡

| é¡å‹           | èªæ³•         | ç¯„ä¾‹                  | èªªæ˜               |
| -------------- | ------------ | --------------------- | ------------------ |
| **ç²¾ç¢ºåŒ¹é…**   | å­—ä¸²         | `"Edit"`              | åƒ…åŒ¹é… Edit å·¥å…·   |
| **æ­£è¦è¡¨ç¤ºå¼** | æ¨¡å¼         | `"Edit\|Write"`       | åŒ¹é… Edit æˆ– Write |
| **è¬ç”¨åŒ¹é…**   | ç©ºå­—ä¸²æˆ–çœç•¥ | `""`                  | åŒ¹é…æ‰€æœ‰å·¥å…·       |
| **MCP å·¥å…·**   | æ¨¡å¼         | `"mcp__server__tool"` | åŒ¹é…ç‰¹å®š MCP å·¥å…·  |

### Hook è¼¸å…¥è¼¸å‡ºæ©Ÿåˆ¶

#### è¼¸å…¥æ ¼å¼

Hook é€é stdin æ¥æ”¶ JSON æ ¼å¼çš„äº‹ä»¶è³‡æ–™ï¼š

```json
{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../session.jsonl",
  "hook_event_name": "PreToolUse",
  "cwd": "/current/working/directory",
  "tool_name": "Edit",
  "tool_input": {
    "file_path": "/path/to/file.txt",
    "content": "æª”æ¡ˆå…§å®¹"
  }
}
```

#### è¼¸å‡ºæ§åˆ¶æ©Ÿåˆ¶

##### ç°¡å–®ï¼šé€€å‡ºä»£ç¢¼

| ä»£ç¢¼     | æ•ˆæœ       | è¡Œç‚ºèªªæ˜                                 |
| -------- | ---------- | ---------------------------------------- |
| **0**    | æˆåŠŸ       | `stdout` ä¸çµ¦ Claudeï¼›å…§å®¹åªåœ¨è¨˜éŒ„ä¸­å¯è¦‹ |
| **2**    | é˜»æ“‹éŒ¯èª¤   | `stderr` å›é¥‹ Claudeï¼Œé˜»æ“‹æˆ–ä¿®æ”¹å¾ŒçºŒè¡Œç‚º |
| **å…¶ä»–** | éé˜»æ“‹éŒ¯èª¤ | é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼Œæµç¨‹ç…§å¸¸é€²è¡Œ               |

##### é€²éšï¼šJSON è¼¸å‡º

```json
{
  "decision": "block|approve",
  "continue": false,
  "reason": "æ±ºç­–èªªæ˜",
  "suppressOutput": true
}
```

### å¯¦æˆ°ç¯„ä¾‹

#### è‡ªå‹•ç¨‹å¼ç¢¼æ ¼å¼åŒ–

```json
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "if [[ \"$FILE\" =~ \\.(ts|js|tsx|jsx)$ ]]; then npx prettier --write \"$FILE\"; fi",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
```

#### æ•æ„Ÿæª”æ¡ˆä¿è­·

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ~/.claude/scripts/check-sensitive-files.py",
            "timeout": 10
          }
        ]
      }
    ]
  }
}
```

**ä¿è­·è…³æœ¬ç¯„ä¾‹**ï¼š

```python
#!/usr/bin/env python3
import json
import sys

# è®€å– hook è¼¸å…¥
input_data = json.load(sys.stdin)
file_path = input_data.get("tool_input", {}).get("file_path", "")

# æ•æ„Ÿæª”æ¡ˆæª¢æŸ¥
sensitive_patterns = [".env", ".key", ".pem", "secrets/"]

for pattern in sensitive_patterns:
    if pattern in file_path:
        print(f"ç¦æ­¢ä¿®æ”¹æ•æ„Ÿæª”æ¡ˆ: {file_path}", file=sys.stderr)
        sys.exit(2)  # é˜»æ“‹æ“ä½œ

sys.exit(0)  # å…è¨±æ“ä½œ
```

#### è‡ªå‹•æ¡Œé¢é€šçŸ¥

```json
{
  "hooks": {
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "notify-send 'Claude Code' \"$(echo '$INPUT' | jq -r '.message')\""
          }
        ]
      }
    ]
  }
}
```

#### MCP å·¥å…·æ•´åˆ

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "mcp__github__.*",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GitHub API æ“ä½œè¨˜éŒ„' >> ~/github-operations.log"
          }
        ]
      }
    ]
  }
}
```

### å®‰å…¨è€ƒé‡

#### âš ï¸ é‡è¦å…è²¬è²æ˜

**ä½¿ç”¨é¢¨éšªè‡ªè² **ï¼šClaude Code hooks æœƒåœ¨æ‚¨çš„ç³»çµ±ä¸Šè‡ªå‹•åŸ·è¡Œä»»æ„ shell å‘½ä»¤ã€‚ä½¿ç”¨å‰è«‹ç¢ºèªï¼š

- æ‚¨å°è¨­å®šçš„å‘½ä»¤è² å…¨è²¬
- Hooks å¯å­˜å–æ‚¨å¸³æˆ¶èƒ½å­˜å–çš„ä»»ä½•æª”æ¡ˆ
- æƒ¡æ„æˆ–éŒ¯èª¤çš„ hooks å¯èƒ½å°è‡´è³‡æ–™éºå¤±
- Anthropic ä¸å°å› ä½¿ç”¨ hook å°è‡´çš„æå£æ‰¿æ“”è²¬ä»»

#### å®‰å…¨æœ€ä½³å¯¦è¸

1. **è¼¸å…¥é©—è­‰**ï¼šæ°¸é é©—è­‰å’Œæ¸…ç†è¼¸å…¥è³‡æ–™
2. **å¼•è™Ÿä¿è­·**ï¼šä½¿ç”¨ `"$VAR"` è€Œä¸æ˜¯ `$VAR`
3. **è·¯å¾‘æª¢æŸ¥**ï¼šé˜»æ­¢è·¯å¾‘éæ­·æ”»æ“Š (`..`)
4. **çµ•å°è·¯å¾‘**ï¼šç‚ºè…³æœ¬æŒ‡å®šå®Œæ•´è·¯å¾‘
5. **æ•æ„Ÿæª”æ¡ˆ**ï¼šé¿å…è™•ç† `.env`ã€`.git/`ã€é‡‘é‘°ç­‰

#### è¨­å®šå®‰å…¨æ©Ÿåˆ¶

- å•Ÿå‹•æ™‚æ“·å– hooks å¿«ç…§ï¼Œæ•´å€‹æœƒè©±ä½¿ç”¨æ­¤å¿«ç…§
- å¤–éƒ¨ä¿®æ”¹ hooks æ™‚æœƒè­¦å‘Š
- éœ€è¦åœ¨ `/hooks` é¸å–®ä¸­æª¢é–±æ‰èƒ½æ‡‰ç”¨è®Šæ›´

### é™¤éŒ¯èˆ‡ç›£æ§

#### é™¤éŒ¯æ­¥é©Ÿ

1. æª¢æŸ¥ `/hooks` é¸å–®é¡¯ç¤ºçš„è¨­å®š
2. é©—è­‰ JSON æ ¼å¼æ­£ç¢ºæ€§
3. æ‰‹å‹•æ¸¬è©¦å‘½ä»¤
4. æª¢æŸ¥é€€å‡ºä»£ç¢¼å’Œè¼¸å‡ºæ ¼å¼
5. ä½¿ç”¨ `claude --debug` æŸ¥çœ‹è©³ç´°åŸ·è¡Œè³‡è¨Š

#### ç›£æ§è¼¸å‡º

```bash
# å•Ÿç”¨é™¤éŒ¯æ¨¡å¼
claude --debug

# æˆåŠŸ hook è¼¸å‡ºç¯„ä¾‹ï¼š
[DEBUG] Executing hooks for PostToolUse:Write
[DEBUG] Found 1 hook commands to execute
[DEBUG] Hook command completed with status 0
```

#### è¨˜éŒ„æ¨¡å¼æª¢è¦–

æŒ‰ `Ctrl-R` é€²å…¥è¨˜éŒ„æ¨¡å¼ï¼Œå¯æª¢è¦–ï¼š

- Hook åŸ·è¡Œç‹€æ³
- å‘½ä»¤è¼¸å‡º
- æˆåŠŸ/å¤±æ•—ç‹€æ…‹
- éŒ¯èª¤è¨Šæ¯

---

## ğŸ”’ å®‰å…¨æ§åˆ¶

### æ†²æ”¿ AI æ¡†æ¶

Claude Code æ•´åˆäº†å¤šå±¤å®‰å…¨æ©Ÿåˆ¶ï¼š

1. **æ†²æ”¿ AI**ï¼šå…§å»ºå€«ç†è¦ç¯„æŒ‡å°æ¨¡å‹è¡Œç‚º
2. **RLHF**ï¼šåŸºæ–¼äººé¡å›é¥‹çš„å¼·åŒ–å­¸ç¿’
3. **ç´…éšŠæ¸¬è©¦**ï¼šä¸»å‹•æ”»æ“Šæ¸¬è©¦å®‰å…¨æ€§
4. **å³æ™‚ç›£æ§**ï¼šç•°å¸¸è¡Œç‚ºæ¨¡å¼æª¢æ¸¬

### å®‰å…¨æœ€ä½³å¯¦è¸

```bash
# ç”Ÿç”¢ç’°å¢ƒå®‰å…¨è¨­å®š
claude --allowedTools "Edit" "View" --permission-mode always-ask

# æ•æ„Ÿæ“ä½œé¿å…è·³éæ¬Šé™
# é¿å…ï¼šclaude --dangerously-skip-permissions

# å®šæœŸæª¢æŸ¥æ¬Šé™è¨­å®š
/permissions view

# ä½¿ç”¨è¨ˆåŠƒæ¨¡å¼é€²è¡Œè¤‡é›œæ“ä½œ
claude --permission-mode plan "é‡æ§‹æ•´å€‹æ¨¡çµ„"
```

### ä¼æ¥­å®‰å…¨æ§åˆ¶

```bash
# é™åˆ¶å·¥å…·å­˜å–
echo '{
  "allowedTools": ["Edit", "View", "Bash(git:*)"],
  "disallowedTools": ["Bash(rm:*)", "Bash(sudo:*)"]
}' > .claude/settings.json

# è¨­å®šæœ€å¤§å›åˆæ•¸
claude --max-turns 5 --permission-mode always-ask
```

---

## âš™ï¸ è¨­å®šæª”æ¡ˆèˆ‡ç’°å¢ƒè®Šæ•¸

### è¨­å®šæª”æ¡ˆå±¤ç´š

Claude Code æ”¯æ´åˆ†å±¤è¨­å®šç³»çµ±ï¼ŒæŒ‰å„ªå…ˆé †åºæ’åˆ—ï¼š

1. **ä¼æ¥­ç®¡ç†æ”¿ç­–**ï¼ˆæœ€é«˜å„ªå…ˆç´šï¼‰
2. **å‘½ä»¤åˆ—åƒæ•¸**
3. **æœ¬åœ°å°ˆæ¡ˆè¨­å®š**
4. **å…±äº«å°ˆæ¡ˆè¨­å®š**
5. **ä½¿ç”¨è€…è¨­å®š**ï¼ˆæœ€ä½å„ªå…ˆç´šï¼‰

#### è¨­å®šæª”æ¡ˆä½ç½®

| æª”æ¡ˆ           | ä½ç½®                          | ç”¨é€”                     | ç‰ˆæœ¬æ§åˆ¶   |
| -------------- | ----------------------------- | ------------------------ | ---------- |
| **ä½¿ç”¨è€…è¨­å®š** | `~/.claude/settings.json`     | å…¨åŸŸè¨­å®šï¼Œé©ç”¨æ–¼æ‰€æœ‰å°ˆæ¡ˆ | ä¸ç´å…¥     |
| **å°ˆæ¡ˆè¨­å®š**   | `.claude/settings.json`       | å°ˆæ¡ˆå…±äº«è¨­å®šï¼Œåœ˜éšŠä½¿ç”¨   | ç´å…¥ç‰ˆæ§   |
| **æœ¬åœ°è¨­å®š**   | `.claude/settings.local.json` | å€‹äººå¯¦é©—è¨­å®šï¼Œä¸å…±äº«     | è‡ªå‹•å¿½ç•¥   |
| **ä¼æ¥­æ”¿ç­–**   | å¹³å°ç‰¹å®šä½ç½®                  | ç®¡ç†å“¡å¼·åˆ¶è¨­å®š           | ç®¡ç†å“¡æ§åˆ¶ |

#### ä¼æ¥­ç®¡ç†æ”¿ç­–ä½ç½®

| å¹³å°          | è·¯å¾‘                                                            |
| ------------- | --------------------------------------------------------------- |
| **macOS**     | `/Library/Application Support/ClaudeCode/managed-settings.json` |
| **Linux/WSL** | `/etc/claude-code/managed-settings.json`                        |
| **Windows**   | `C:\ProgramData\ClaudeCode\managed-settings.json`               |

### è¨­å®šé¸é …è©³ç´°èªªæ˜

#### åŸºæœ¬è¨­å®š

| é¸é …                  | é¡å‹    | é è¨­å€¼      | èªªæ˜                       | ç¯„ä¾‹                           |
| --------------------- | ------- | ----------- | -------------------------- | ------------------------------ |
| `model`               | string  | æœ€æ–° Sonnet | æŒ‡å®šé è¨­æ¨¡å‹               | `"claude-3-5-sonnet-20241022"` |
| `cleanupPeriodDays`   | number  | 30          | å°è©±è¨˜éŒ„ä¿ç•™å¤©æ•¸           | `20`                           |
| `includeCoAuthoredBy` | boolean | true        | Git æäº¤ä¸­åŒ…å« Claude ç½²å | `false`                        |

#### èªè­‰è¨­å®š

| é¸é …               | èªªæ˜                  | ç¯„ä¾‹                              |
| ------------------ | --------------------- | --------------------------------- |
| `apiKeyHelper`     | å‹•æ…‹ API é‡‘é‘°ç”Ÿæˆè…³æœ¬ | `"/bin/generate_temp_api_key.sh"` |
| `forceLoginMethod` | å¼·åˆ¶ç‰¹å®šç™»å…¥æ–¹å¼      | `"claudeai"` æˆ– `"console"`       |

#### MCP ä¼ºæœå™¨è¨­å®š

| é¸é …                         | èªªæ˜                        | ç¯„ä¾‹                   |
| ---------------------------- | --------------------------- | ---------------------- |
| `enableAllProjectMcpServers` | è‡ªå‹•æ‰¹å‡†æ‰€æœ‰å°ˆæ¡ˆ MCP ä¼ºæœå™¨ | `true`                 |
| `enabledMcpjsonServers`      | æ‰¹å‡†ç‰¹å®š MCP ä¼ºæœå™¨æ¸…å–®     | `["memory", "github"]` |
| `disabledMcpjsonServers`     | æ‹’çµ•ç‰¹å®š MCP ä¼ºæœå™¨æ¸…å–®     | `["filesystem"]`       |

#### æ¬Šé™è¨­å®šçµæ§‹

```json
{
  "permissions": {
    "allow": ["Bash(npm run lint)", "Bash(npm run test:*)", "Read(~/.zshrc)"],
    "deny": ["Bash(curl:*)", "WebFetch"],
    "additionalDirectories": ["../docs/", "../shared-lib/"],
    "defaultMode": "acceptEdits",
    "disableBypassPermissionsMode": "disable"
  }
}
```

#### å®Œæ•´è¨­å®šç¯„ä¾‹

```json
{
  "model": "claude-3-5-sonnet-20241022",
  "cleanupPeriodDays": 20,
  "includeCoAuthoredBy": false,
  "forceLoginMethod": "console",
  "enableAllProjectMcpServers": false,
  "enabledMcpjsonServers": ["memory", "github"],
  "permissions": {
    "allow": ["Bash(npm run lint)", "Bash(git diff:*)"],
    "deny": ["WebFetch", "Bash(curl:*)"],
    "defaultMode": "acceptEdits"
  },
  "env": {
    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",
    "OTEL_METRICS_EXPORTER": "otlp"
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "npx prettier --write \"$FILE\"",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
```

### ç’°å¢ƒè®Šæ•¸åƒè€ƒ

#### æ ¸å¿ƒèªè­‰è®Šæ•¸

| è®Šæ•¸                       | ç”¨é€”                        | ç¯„ä¾‹                   |
| -------------------------- | --------------------------- | ---------------------- |
| `ANTHROPIC_API_KEY`        | API é‡‘é‘°ï¼ˆX-Api-Key æ¨™é ­ï¼‰  | `sk-ant-apiXX-XXXXXXX` |
| `ANTHROPIC_AUTH_TOKEN`     | è‡ªè¨‚èªè­‰ä»¤ç‰Œï¼ˆBearer å‰ç¶´ï¼‰ | `sk-custom-token`      |
| `ANTHROPIC_CUSTOM_HEADERS` | è‡ªè¨‚è«‹æ±‚æ¨™é ­                | `"X-Custom: value"`    |

#### æ¨¡å‹è¨­å®šè®Šæ•¸

| è®Šæ•¸                            | ç”¨é€”                  | ç¯„ä¾‹                        |
| ------------------------------- | --------------------- | --------------------------- |
| `ANTHROPIC_MODEL`               | è‡ªè¨‚æ¨¡å‹åç¨±          | `claude-opus-4-20250514`    |
| `ANTHROPIC_SMALL_FAST_MODEL`    | èƒŒæ™¯ä»»å‹™ç”¨ Haiku æ¨¡å‹ | `claude-3-5-haiku-20241022` |
| `CLAUDE_CODE_MAX_OUTPUT_TOKENS` | æœ€å¤§è¼¸å‡ºä»¤ç‰Œæ•¸        | `8192`                      |
| `MAX_THINKING_TOKENS`           | æ€è€ƒæ¨¡å¼ä»¤ç‰Œé ç®—      | `1024`                      |

#### ç¬¬ä¸‰æ–¹å¹³å°è®Šæ•¸

| è®Šæ•¸                            | ç”¨é€”                  | ç¯„ä¾‹        |
| ------------------------------- | --------------------- | ----------- |
| `CLAUDE_CODE_USE_BEDROCK`       | å•Ÿç”¨ AWS Bedrock      | `1`         |
| `CLAUDE_CODE_USE_VERTEX`        | å•Ÿç”¨ Google Vertex AI | `1`         |
| `CLAUDE_CODE_SKIP_BEDROCK_AUTH` | è·³é Bedrock èªè­‰     | `1`         |
| `CLAUDE_CODE_SKIP_VERTEX_AUTH`  | è·³é Vertex èªè­‰      | `1`         |
| `AWS_REGION`                    | AWS å€åŸŸ              | `us-east-1` |
| `CLOUD_ML_REGION`               | Google Cloud å€åŸŸ     | `us-east5`  |

#### Bash å·¥å…·æ§åˆ¶è®Šæ•¸

| è®Šæ•¸                                       | ç”¨é€”              | é è¨­å€¼ | ç¯„ä¾‹     |
| ------------------------------------------ | ----------------- | ------ | -------- |
| `BASH_DEFAULT_TIMEOUT_MS`                  | Bash å‘½ä»¤é è¨­é€¾æ™‚ | 30000  | `60000`  |
| `BASH_MAX_TIMEOUT_MS`                      | Bash å‘½ä»¤æœ€å¤§é€¾æ™‚ | 300000 | `600000` |
| `BASH_MAX_OUTPUT_LENGTH`                   | Bash è¼¸å‡ºæœ€å¤§é•·åº¦ | 100000 | `200000` |
| `CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR` | ç¶­æŒå°ˆæ¡ˆå·¥ä½œç›®éŒ„  | false  | `1`      |

#### MCP è¨­å®šè®Šæ•¸

| è®Šæ•¸                    | ç”¨é€”                   | é è¨­å€¼ | ç¯„ä¾‹     |
| ----------------------- | ---------------------- | ------ | -------- |
| `MCP_TIMEOUT`           | MCP ä¼ºæœå™¨å•Ÿå‹•é€¾æ™‚     | 30000  | `60000`  |
| `MCP_TOOL_TIMEOUT`      | MCP å·¥å…·åŸ·è¡Œé€¾æ™‚       | 60000  | `120000` |
| `MAX_MCP_OUTPUT_TOKENS` | MCP å·¥å…·å›æ‡‰æœ€å¤§ä»¤ç‰Œæ•¸ | 25000  | `50000`  |

#### ç³»çµ±è¡Œç‚ºæ§åˆ¶è®Šæ•¸

| è®Šæ•¸                                       | ç”¨é€”               | æ•ˆæœ             |
| ------------------------------------------ | ------------------ | ---------------- |
| `DISABLE_AUTOUPDATER`                      | åœç”¨è‡ªå‹•æ›´æ–°       | è¨­ç‚º `1` åœç”¨    |
| `DISABLE_BUG_COMMAND`                      | åœç”¨ `/bug` å‘½ä»¤   | è¨­ç‚º `1` åœç”¨    |
| `DISABLE_COST_WARNINGS`                    | åœç”¨æˆæœ¬è­¦å‘Š       | è¨­ç‚º `1` åœç”¨    |
| `DISABLE_ERROR_REPORTING`                  | åœç”¨éŒ¯èª¤å›å ±       | è¨­ç‚º `1` åœç”¨    |
| `DISABLE_TELEMETRY`                        | åœç”¨é™æ¸¬           | è¨­ç‚º `1` åœç”¨    |
| `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC` | åœç”¨éå¿…è¦ç¶²è·¯æµé‡ | ç­‰åŒä¸Šè¿°å››å€‹è®Šæ•¸ |

#### ä»£ç†è¨­å®šè®Šæ•¸

| è®Šæ•¸                  | ç”¨é€”                 | ç¯„ä¾‹                              |
| --------------------- | -------------------- | --------------------------------- |
| `HTTP_PROXY`          | HTTP ä»£ç†ä¼ºæœå™¨      | `http://proxy.company.com:8080`   |
| `HTTPS_PROXY`         | HTTPS ä»£ç†ä¼ºæœå™¨     | `https://proxy.company.com:8080`  |
| `SSL_CERT_FILE`       | SSL æ†‘è­‰æª”æ¡ˆè·¯å¾‘     | `/path/to/certificate-bundle.crt` |
| `NODE_EXTRA_CA_CERTS` | Node.js é¡å¤– CA æ†‘è­‰ | `/path/to/certificate-bundle.crt` |

### è¨­å®šç®¡ç†å‘½ä»¤

```bash
# æª¢è¦–è¨­å®š
claude config list                    # åˆ—å‡ºæ‰€æœ‰è¨­å®š
claude config get <key>               # æŸ¥çœ‹ç‰¹å®šè¨­å®šå€¼

# ä¿®æ”¹è¨­å®š
claude config set <key> <value>       # è¨­å®šå€¼
claude config add <key> <value>       # æ–°å¢åˆ°æ¸…å–®
claude config remove <key> <value>    # å¾æ¸…å–®ç§»é™¤

# å…¨åŸŸè¨­å®šï¼ˆåŠ  -g æˆ– --globalï¼‰
claude config set -g theme dark       # è¨­å®šå…¨åŸŸä¸»é¡Œ
claude config list -g                 # åˆ—å‡ºå…¨åŸŸè¨­å®š
```

#### å…¨åŸŸè¨­å®šé¸é …

| é¸é …                    | èªªæ˜         | å¯ç”¨å€¼                                                 | é è¨­å€¼   |
| ----------------------- | ------------ | ------------------------------------------------------ | -------- |
| `autoUpdates`           | è‡ªå‹•æ›´æ–°é–‹é—œ | `true`/`false`                                         | `true`   |
| `preferredNotifChannel` | é€šçŸ¥æ–¹å¼     | `iterm2`, `terminal_bell`, `notifications_disabled`    | `iterm2` |
| `theme`                 | ä¸»é¡Œ         | `dark`, `light`, `light-daltonized`, `dark-daltonized` | `dark`   |
| `verbose`               | è©³ç´°è¼¸å‡º     | `true`/`false`                                         | `false`  |

---

## ğŸ¢ ä¼æ¥­éƒ¨ç½²

### DevContainer æ•´åˆ

#### .devcontainer/devcontainer.json ç¯„ä¾‹

```json
{
  "name": "Claude Code Development",
  "image": "mcr.microsoft.com/devcontainers/typescript-node:18",
  "features": {
    "ghcr.io/devcontainers/features/git:1": {}
  },
  "postCreateCommand": "npm install -g @anthropic-ai/claude-code",
  "customizations": {
    "vscode": {
      "extensions": ["anthropic.claude-code"]
    }
  }
}
```

### CI/CD æ•´åˆ

#### GitHub Actions ç¯„ä¾‹

```yaml
name: Claude Code Quality Check
on: [push, pull_request]

jobs:
  claude-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "20"
      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code
      - name: Health Check
        run: claude doctor --json
      - name: Code Review
        run: claude -p "è«‹å¯©æŸ¥é€™å€‹ PR çš„è®Šæ›´" --output-format json
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
```

### ä¼æ¥­ç´šç›£æ§èˆ‡é™æ¸¬

#### OpenTelemetry ç›£æ§è¨­å®š

Claude Code æ”¯æ´å®Œæ•´çš„ OpenTelemetry ç›£æ§ï¼Œæä¾›æŒ‡æ¨™ã€æ—¥èªŒå’Œè¿½è¹¤åŠŸèƒ½ï¼š

**åŸºæœ¬å•Ÿç”¨**ï¼š

```bash
# å•Ÿç”¨é™æ¸¬
export CLAUDE_CODE_ENABLE_TELEMETRY=1

# è¨­å®š OTLP åŒ¯å‡ºå™¨
export OTEL_METRICS_EXPORTER=otlp
export OTEL_LOGS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
```

**é€²éšè¨­å®šç¯„ä¾‹**ï¼š

```bash
# å®Œæ•´ç›£æ§è¨­å®š
export CLAUDE_CODE_ENABLE_TELEMETRY=1

# å¤šé‡åŒ¯å‡ºå™¨
export OTEL_METRICS_EXPORTER=console,otlp,prometheus
export OTEL_LOGS_EXPORTER=console,otlp

# ä¸åŒå”å®šè¨­å®š
export OTEL_EXPORTER_OTLP_METRICS_PROTOCOL=http/protobuf
export OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://metrics.company.com:4318
export OTEL_EXPORTER_OTLP_LOGS_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://logs.company.com:4317

# èªè­‰è¨­å®š
export OTEL_EXPORTER_OTLP_HEADERS="Authorization=Bearer company-token"

# é™¤éŒ¯ç”¨å¿«é€ŸåŒ¯å‡º
export OTEL_METRIC_EXPORT_INTERVAL=10000  # 10 ç§’
export OTEL_LOGS_EXPORT_INTERVAL=5000     # 5 ç§’
```

#### ç›£æ§æŒ‡æ¨™é¡å‹

| æŒ‡æ¨™é¡åˆ¥     | æè¿°                 | ç¯„ä¾‹æŒ‡æ¨™                 |
| ------------ | -------------------- | ------------------------ |
| **ä½¿ç”¨çµ±è¨ˆ** | ä½¿ç”¨è€…æ´»å‹•å’Œæœƒè©±è³‡è¨Š | æ´»èºä½¿ç”¨è€…ã€æœƒè©±æ™‚é•·     |
| **æ¨¡å‹å‘¼å«** | API å‘¼å«å’Œä»¤ç‰Œä½¿ç”¨   | è«‹æ±‚æ¬¡æ•¸ã€ä»¤ç‰Œæ¶ˆè€—ã€å»¶é² |
| **å·¥å…·ä½¿ç”¨** | å·¥å…·åŸ·è¡Œçµ±è¨ˆ         | å·¥å…·å‘¼å«é »ç‡ã€åŸ·è¡Œæ™‚é–“   |
| **éŒ¯èª¤è¿½è¹¤** | éŒ¯èª¤å’Œä¾‹å¤–ç›£æ§       | éŒ¯èª¤ç‡ã€éŒ¯èª¤é¡å‹åˆ†ä½ˆ     |
| **æ•ˆèƒ½æŒ‡æ¨™** | ç³»çµ±æ•ˆèƒ½ç›£æ§         | å›æ‡‰æ™‚é–“ã€è¨˜æ†¶é«”ä½¿ç”¨     |

#### ä¼æ¥­ç›£æ§æœ€ä½³å¯¦è¸

**1. é›†ä¸­åŒ–ç›£æ§**ï¼š

```json
{
  "env": {
    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",
    "OTEL_METRICS_EXPORTER": "otlp",
    "OTEL_LOGS_EXPORTER": "otlp",
    "OTEL_EXPORTER_OTLP_PROTOCOL": "grpc",
    "OTEL_EXPORTER_OTLP_ENDPOINT": "http://collector.company.com:4317",
    "OTEL_EXPORTER_OTLP_HEADERS": "Authorization=Bearer company-token"
  }
}
```

**2. è³‡æ–™éš±ç§ä¿è­·**ï¼š

```bash
# åœç”¨ä½¿ç”¨è€…æç¤ºå…§å®¹è¨˜éŒ„ï¼ˆé è¨­å·²åœç”¨ï¼‰
# export OTEL_LOG_USER_PROMPTS=1  # åƒ…åœ¨éœ€è¦æ™‚å•Ÿç”¨

# åœç”¨éå¿…è¦é™æ¸¬
export DISABLE_TELEMETRY=1  # å®Œå…¨åœç”¨ Statsig é™æ¸¬
```

**3. æ•ˆèƒ½ç›£æ§è¨­å®š**ï¼š

```bash
# ç›£æ§è¨­å®š
claude doctor --json          # ç³»çµ±å¥åº·æª¢æŸ¥ï¼ˆJSON æ ¼å¼ï¼‰
/cost                         # æˆæœ¬è¿½è¹¤å’Œåˆ†æ
/status                       # å³æ™‚ç‹€æ…‹ç›£æ§
claude --debug               # è©³ç´°é™¤éŒ¯è³‡è¨Š
```

#### ç›£æ§å„€è¡¨æ¿ç¯„ä¾‹æŒ‡æ¨™

**é—œéµæ•ˆèƒ½æŒ‡æ¨™ï¼ˆKPIï¼‰**ï¼š

- **ä½¿ç”¨è€…æ¡ç”¨ç‡**ï¼šæ´»èºä½¿ç”¨è€… / æˆæ¬Šä½¿ç”¨è€…
- **ç”Ÿç”¢åŠ›æŒ‡æ¨™**ï¼šæ¯æ—¥å®Œæˆä»»å‹™æ•¸ã€ç¨‹å¼ç¢¼è¡Œæ•¸è®Šæ›´
- **å“è³ªæŒ‡æ¨™**ï¼šéŒ¯èª¤ç‡ã€é‡è©¦æ¬¡æ•¸
- **æˆæœ¬æ•ˆç›Š**ï¼šæ¯ä»»å‹™æˆæœ¬ã€ROI åˆ†æ

**æŠ€è¡“æŒ‡æ¨™**ï¼š

- **API æ•ˆèƒ½**ï¼šå¹³å‡å›æ‡‰æ™‚é–“ã€P95 å»¶é²ã€éŒ¯èª¤ç‡
- **è³‡æºä½¿ç”¨**ï¼šä»¤ç‰Œæ¶ˆè€—ç‡ã€é »å¯¬ä½¿ç”¨ã€å„²å­˜ç©ºé–“
- **å·¥å…·æ•ˆèƒ½**ï¼šå„å·¥å…·å¹³å‡åŸ·è¡Œæ™‚é–“ã€æˆåŠŸç‡

#### å‘Šè­¦è¨­å®šå»ºè­°

```yaml
alerts:
  high_token_usage:
    condition: "token_usage_per_hour > 10000"
    action: "notify_admin"

  high_error_rate:
    condition: "error_rate > 5%"
    action: "escalate_to_engineering"

  slow_response:
    condition: "avg_response_time > 30s"
    action: "check_infrastructure"

  security_violations:
    condition: "permission_denials > threshold"
    action: "security_review"
```

---

## ğŸ”— ç¬¬ä¸‰æ–¹æ•´åˆèˆ‡ LLM Gateway

### LLM Gateway æ•´åˆ

LLM Gateway æä¾›çµ±ä¸€çš„ API ç«¯é»ï¼Œç°¡åŒ–å¤šå€‹ LLM æä¾›å•†çš„ç®¡ç†ï¼š

#### LiteLLM æ•´åˆè¨­å®š

**åŸºæœ¬è¨­å®š**ï¼š

```bash
# ä½¿ç”¨ LiteLLM çµ±ä¸€ç«¯é»
export ANTHROPIC_BASE_URL=https://litellm-server:4000

# ä½¿ç”¨éœæ…‹ API é‡‘é‘°
export ANTHROPIC_AUTH_TOKEN=sk-litellm-static-key
```

**å‹•æ…‹é‡‘é‘°ç®¡ç†**ï¼š

```json
{
  "apiKeyHelper": "~/bin/get-litellm-key.sh",
  "env": {
    "CLAUDE_CODE_API_KEY_HELPER_TTL_MS": "3600000"
  }
}
```

**é‡‘é‘°ç²å–è…³æœ¬ç¯„ä¾‹**ï¼š

```bash
#!/bin/bash
# ~/bin/get-litellm-key.sh
curl -s -X POST "https://auth.company.com/api/token" \
  -H "Authorization: Bearer $COMPANY_API_KEY" \
  -d '{"service": "litellm"}' | jq -r '.access_token'
```

#### AWS Bedrock æ•´åˆ

**åŸºæœ¬è¨­å®š**ï¼š

```bash
# å•Ÿç”¨ Bedrock
export CLAUDE_CODE_USE_BEDROCK=1
export AWS_REGION=us-east-1

# ä½¿ç”¨ç‰¹å®šæ¨¡å‹
export ANTHROPIC_MODEL='us.anthropic.claude-opus-4-20250514-v1:0'
export ANTHROPIC_SMALL_FAST_MODEL='us.anthropic.claude-3-5-haiku-20241022-v1:0'
```

**é€é LLM Gateway ä½¿ç”¨ Bedrock**ï¼š

```bash
export ANTHROPIC_BEDROCK_BASE_URL=https://litellm-server:4000/bedrock
export CLAUDE_CODE_SKIP_BEDROCK_AUTH=1
export CLAUDE_CODE_USE_BEDROCK=1
```

**AWS SSO è¨­å®š**ï¼š

```bash
# ç™»å…¥ AWS SSO
aws sso login --profile=your-profile-name
export AWS_PROFILE=your-profile-name
```

#### Google Vertex AI æ•´åˆ

**åŸºæœ¬è¨­å®š**ï¼š

```bash
export CLAUDE_CODE_USE_VERTEX=1
export CLOUD_ML_REGION=us-east5
export ANTHROPIC_VERTEX_PROJECT_ID=your-project-id

# å¯é¸ï¼šåœç”¨æç¤ºå¿«å–ï¼ˆå¦‚æœæœªå•Ÿç”¨ï¼‰
export DISABLE_PROMPT_CACHING=1
```

**é€é LLM Gateway ä½¿ç”¨ Vertex AI**ï¼š

```bash
# å®¢æˆ¶ç«¯èªè­‰
gcloud auth application-default login
export ANTHROPIC_VERTEX_BASE_URL=https://litellm-server:4000/vertex_ai/v1
export ANTHROPIC_VERTEX_PROJECT_ID=your-gcp-project-id
export CLAUDE_CODE_USE_VERTEX=1
export CLOUD_ML_REGION=us-east5

# æˆ–ä»£ç†èªè­‰
export CLAUDE_CODE_SKIP_VERTEX_AUTH=1
```

### GitHub Actions æ•´åˆ

#### åŸºæœ¬å·¥ä½œæµç¨‹

```yaml
name: Claude Code AI Assistant
on: [push, pull_request]

jobs:
  claude-review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "20"

      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code

      - name: AI Code Review
        run: |
          claude -p "è«‹å¯©æŸ¥é€™å€‹ PR çš„è®Šæ›´ï¼Œé—œæ³¨å®‰å…¨æ€§å’Œæ•ˆèƒ½" \
            --output-format json \
            --max-turns 1
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
```

#### ä½¿ç”¨ Vertex AI çš„ GitHub Actions

```yaml
name: Claude Code with Vertex AI
on: [push, pull_request]

jobs:
  claude-vertex-review:
    runs-on: ubuntu-latest
    permissions:
      id-token: write
      contents: read

    steps:
      - uses: actions/checkout@v4

      - name: Authenticate to Google Cloud
        uses: google-github-actions/auth@v2
        with:
          workload_identity_provider: ${{ secrets.GCP_WORKLOAD_IDENTITY_PROVIDER }}
          service_account: ${{ secrets.GCP_SERVICE_ACCOUNT }}

      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code

      - name: AI Review with Vertex AI
        run: |
          claude -p "åˆ†æç¨‹å¼ç¢¼å“è³ªä¸¦æä¾›æ”¹é€²å»ºè­°" \
            --output-format json
        env:
          CLAUDE_CODE_USE_VERTEX: "1"
          CLOUD_ML_REGION: "us-east5"
          ANTHROPIC_VERTEX_PROJECT_ID: ${{ secrets.GCP_PROJECT_ID }}
```

#### å¿«é€Ÿ GitHub App è¨­å®š

```bash
# åœ¨ Claude Code ä¸­åŸ·è¡Œ
/install-github-app

# æœƒè‡ªå‹•é–‹å•Ÿç€è¦½å™¨ä¸¦å¼•å°æ‚¨å®Œæˆï¼š
# 1. GitHub App å»ºç«‹
# 2. æ¬Šé™è¨­å®š
# 3. å®‰è£åˆ°å€‰åº«
# 4. å¯†é‘°è¨­å®š
```

### ä¼æ¥­ä»£ç†è¨­å®š

#### åŸºæœ¬ HTTP/HTTPS ä»£ç†

```bash
# HTTPS ä»£ç†ï¼ˆæ¨è–¦ï¼‰
export HTTPS_PROXY=https://proxy.example.com:8080

# HTTP ä»£ç†ï¼ˆå¦‚æœ HTTPS ä¸å¯ç”¨ï¼‰
export HTTP_PROXY=http://proxy.example.com:8080

# å¸¶èªè­‰çš„ä»£ç†
export HTTPS_PROXY=http://username:password@proxy.example.com:8080
```

#### è‡ªè¨‚ SSL æ†‘è­‰

```bash
# è¨­å®šè‡ªè¨‚æ†‘è­‰è·¯å¾‘
export SSL_CERT_FILE=/path/to/certificate-bundle.crt
export NODE_EXTRA_CA_CERTS=/path/to/certificate-bundle.crt
```

#### ä¼æ¥­ä»£ç† + Bedrock è¨­å®š

```bash
# å®Œæ•´ä¼æ¥­è¨­å®š
export CLAUDE_CODE_USE_BEDROCK=1
export AWS_REGION=us-east-1
export HTTPS_PROXY='https://proxy.example.com:8080'
export SSL_CERT_FILE='/etc/ssl/certs/company-ca-bundle.crt'
export NODE_EXTRA_CA_CERTS='/etc/ssl/certs/company-ca-bundle.crt'
```

### SDK æ•´åˆ

#### Python SDK ä½¿ç”¨

```python
from claude_code_sdk import query, ClaudeCodeOptions
from pathlib import Path

# åŸºæœ¬è¨­å®š
options = ClaudeCodeOptions(
    max_turns=3,
    system_prompt="ä½ æ˜¯ä¸€ä½è³‡æ·±è»Ÿé«”æ¶æ§‹å¸«",
    cwd=Path("/path/to/project"),
    allowed_tools=["Read", "Write", "Bash"],
    permission_mode="acceptEdits"
)

# åŸ·è¡ŒæŸ¥è©¢
async for message in query(prompt="åˆ†æé€™å€‹å°ˆæ¡ˆçš„æ¶æ§‹", options=options):
    print(message)
```

#### MCP ä¼ºæœå™¨è¨­å®š

```json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "/path/to/allowed/files"
      ]
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "your-github-token"
      }
    }
  }
}
```

#### CLI èˆ‡ MCP æ•´åˆ

```bash
# è¼‰å…¥ MCP ä¼ºæœå™¨è¨­å®š
claude -p "åˆ—å‡ºå°ˆæ¡ˆä¸­çš„æ‰€æœ‰æª”æ¡ˆ" --mcp-config mcp-servers.json

# æ˜ç¢ºå…è¨± MCP å·¥å…·
claude -p "æœå°‹ TODO è¨»è§£" \
  --mcp-config mcp-servers.json \
  --allowedTools "mcp__filesystem__read_file,mcp__filesystem__list_directory"

# ä½¿ç”¨ MCP å·¥å…·è™•ç†æ¬Šé™æç¤º
claude -p "éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼" \
  --mcp-config mcp-servers.json \
  --allowedTools "mcp__permissions__approve" \
  --permission-prompt-tool mcp__permissions__approve
```

### é™¤éŒ¯èˆ‡ç›£æ§

#### é™¤éŒ¯è¨­å®š

```bash
# å•Ÿç”¨è©³ç´°é™¤éŒ¯
export ANTHROPIC_LOG=debug
claude --debug

# æª¢æŸ¥ç³»çµ±ç‹€æ…‹
claude /status
claude doctor --json
```

#### æ•ˆèƒ½ç›£æ§

```bash
# ä¼æ¥­ç›£æ§è¨­å®š
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_METRICS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_ENDPOINT=http://collector.company.com:4317
export OTEL_EXPORTER_OTLP_HEADERS="Authorization=Bearer company-token"
```

---

## ğŸ”§ ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œåˆ†é¡

#### å®‰è£ç›¸é—œ

**Node.js ç‰ˆæœ¬å•é¡Œ**

```bash
# æª¢æŸ¥ç‰ˆæœ¬
node --version

# å‡ç´šåˆ° LTS
nvm install --lts
nvm use --lts
```

**æ¬Šé™å•é¡Œ**

```bash
# é¿å… sudoï¼Œä½¿ç”¨å®˜æ–¹è§£æ±ºæ–¹æ¡ˆ
claude migrate-installer

# æˆ–è¨­å®š npm å‰ç¶´
npm config set prefix ~/.npm-global
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
```

#### èªè­‰ç›¸é—œ

**API Key å•é¡Œ**

```bash
# è¨­å®šç’°å¢ƒè®Šæ•¸
export ANTHROPIC_API_KEY="sk-ant-apiXX-XXXXXXX"

# æ¸¬è©¦é€£ç·š
claude -p "Hello" --verbose
```

**ç™»å…¥å•é¡Œ**

```bash
# é‡æ–°ç™»å…¥
/logout
/login

# æ¸…é™¤èªè­‰å¿«å–
rm -rf ~/.claude/auth
```

#### åŸ·è¡Œç›¸é—œ

**æ¬Šé™è¢«æ‹’**

```bash
# æª¢æŸ¥æ¬Šé™è¨­å®š
/permissions view

# å…è¨±ç‰¹å®šå·¥å…·
/permissions allow Edit
```

**æœƒè©±å•é¡Œ**

```bash
# æ¸…é™¤ä¸¦é‡å•Ÿ
/clear
claude
```

### è¨ºæ–·å·¥å…·

```bash
# å®Œæ•´ç³»çµ±è¨ºæ–·
claude doctor

# è©³ç´°è¼¸å‡ºæ¨¡å¼
claude --verbose -p "æ¸¬è©¦æŸ¥è©¢"

# æª¢æŸ¥ç’°å¢ƒ
echo $ANTHROPIC_API_KEY
which claude
```

---

## ğŸ“š å®˜æ–¹è³‡æº

### ä¸»è¦æ–‡æª”

- [Claude Code å®˜æ–¹æ–‡æª”](https://docs.anthropic.com/en/docs/claude-code)
- [CLI åƒè€ƒæ–‡æª”](https://docs.anthropic.com/en/docs/claude-code/cli-reference)
- [GitHub å®˜æ–¹å€‰åº«](https://github.com/anthropics/claude-code)

### å­¸ç¿’è³‡æº

- [å¿«é€Ÿå…¥é–€æŒ‡å—](https://docs.anthropic.com/en/docs/claude-code/quickstart)
- [å¸¸è¦‹å·¥ä½œæµç¨‹](https://docs.anthropic.com/en/docs/claude-code/common-workflows)
- [æœ€ä½³å¯¦è¸æŒ‡å—](https://www.anthropic.com/engineering/claude-code-best-practices)

### ç¤¾ç¾¤æ”¯æ´

- [Discord ç¤¾ç¾¤](https://discord.gg/anthropic)
- [GitHub è¨è«–å€](https://github.com/anthropics/claude-code/discussions)
- [å•é¡Œå›å ±](https://github.com/anthropics/claude-code/issues)

---

## ğŸ“Š æ›´æ–°è¨˜éŒ„

### v5.0.0 (2025-07-18) - å®Œæ•´ç™¾ç§‘å…¨æ›¸ç‰ˆæœ¬

**é‡å¤§æ–°å¢**ï¼š

- ğŸª **å®Œæ•´ Hooks åŠŸèƒ½ç« ç¯€**ï¼šåŒ…å«ç”Ÿå‘½é€±æœŸäº‹ä»¶ã€é…ç½®æ–¹å¼ã€å¯¦æˆ°ç¯„ä¾‹å’Œå®‰å…¨è€ƒé‡
- âš™ï¸ **è©³ç´°è¨­å®šæª”æ¡ˆèˆ‡ç’°å¢ƒè®Šæ•¸**ï¼šåˆ†å±¤è¨­å®šç³»çµ±ã€ä¼æ¥­æ”¿ç­–ã€å®Œæ•´ç’°å¢ƒè®Šæ•¸åƒè€ƒ
- ğŸ› ï¸ **å·¥å…·å®Œæ•´åƒè€ƒ**ï¼šæ‰€æœ‰ Claude Code å¯ç”¨å·¥å…·çš„è©³ç´°èªªæ˜å’Œæ¬Šé™æ§åˆ¶
- ğŸ“Š **ä¼æ¥­ç´šç›£æ§èˆ‡é™æ¸¬**ï¼šOpenTelemetry è¨­å®šã€ç›£æ§æŒ‡æ¨™ã€å‘Šè­¦é…ç½®
- ğŸ”— **ç¬¬ä¸‰æ–¹æ•´åˆ**ï¼šLLM Gatewayã€AWS Bedrockã€Google Vertex AIã€GitHub Actions
- ğŸ¢ **ä¼æ¥­éƒ¨ç½²é€²éšåŠŸèƒ½**ï¼šä»£ç†è¨­å®šã€SSL æ†‘è­‰ã€SDK æ•´åˆ

**å…§å®¹æ›´æ–°**ï¼š

- âœ… å®Œæ•´å®˜æ–¹æ–‡æª”é©—è­‰èˆ‡æ ¡æ­£ï¼ˆv4.1.0 åŸºç¤ï¼‰
- âœ… æ–°å¢ç¼ºå¤±çš„å®˜æ–¹æ——æ¨™ï¼š`--permission-mode`ã€`--permission-prompt-tool`
- âœ… æ­£ç¢ºåˆ†é¡ SDK å°ˆç”¨åŠŸèƒ½ï¼š`--system-prompt`ã€`--append-system-prompt`
- âœ… æ–°å¢ Alpha åŸç”ŸäºŒé€²åˆ¶å®‰è£é¸é …
- âœ… æ›´æ–°æ–œç·šå‘½ä»¤æ¸…å–®ï¼Œæ–°å¢ `/pr_comments`

**ä¼æ¥­åŠŸèƒ½**ï¼š

- ğŸ­ **åˆ†å±¤è¨­å®šç³»çµ±**ï¼šä½¿ç”¨è€…ã€å°ˆæ¡ˆã€ä¼æ¥­æ”¿ç­–è¨­å®š
- ğŸ“ˆ **å®Œæ•´ç›£æ§æ–¹æ¡ˆ**ï¼šæŒ‡æ¨™æ”¶é›†ã€å„€è¡¨æ¿ã€å‘Šè­¦è¨­å®š
- ğŸ” **é€²éšå®‰å…¨æ§åˆ¶**ï¼šæ¬Šé™ç´°åˆ†ã€å¯©è¨ˆè¿½è¹¤ã€åˆè¦æ€§
- ğŸŒ **å¤šé›²æ”¯æ´**ï¼šAWSã€GCPã€ä¼æ¥­ä»£ç†æ•´åˆ
- ğŸ¤– **è‡ªå‹•åŒ–å·¥ä½œæµç¨‹**ï¼šHooks ç³»çµ±ã€CI/CD æ•´åˆ

**é–‹ç™¼è€…é«”é©—**ï¼š

- ğŸ“š **ç™¾ç§‘å…¨æ›¸å¼çµ„ç¹”**ï¼šåˆéšã€ä¸­éšã€é«˜éšå®Œæ•´è¦†è“‹
- ğŸ” **å¿«é€ŸæŸ¥è©¢å„ªåŒ–**ï¼šçµæ§‹åŒ–ç›®éŒ„ã€åˆ†é¡ç´¢å¼•
- ğŸ’¡ **å¯¦æˆ°ç¯„ä¾‹è±å¯Œ**ï¼šæ¶µè“‹å„ç¨®ä½¿ç”¨å ´æ™¯
- ğŸ¯ **è§’è‰²å°å‘æŒ‡å—**ï¼šä¾ç…§ä½¿ç”¨è€…éœ€æ±‚åˆ†é¡

**æŠ€è¡“è¦æ ¼**ï¼š

- ğŸ“„ **æ–‡æª”é•·åº¦**ï¼šç´„ 1000+ è¡Œï¼Œå®Œæ•´è¦†è“‹æ‰€æœ‰åŠŸèƒ½
- ğŸ”— **äº¤å‰å¼•ç”¨**ï¼šç« ç¯€é–“ç›¸äº’é€£çµï¼Œä¾¿æ–¼å°èˆª
- ğŸ“‹ **è¡¨æ ¼åŒ–è³‡è¨Š**ï¼šæ——æ¨™ã€å‘½ä»¤ã€è¨­å®šé¸é …ç³»çµ±æ€§æ•´ç†
- ğŸ›¡ï¸ **å®‰å…¨æ€§å¼·èª¿**ï¼šæ¯å€‹åŠŸèƒ½éƒ½åŒ…å«å®‰å…¨è€ƒé‡èªªæ˜

---

## ğŸ‰ çµèª

æœ¬æ‰‹å†Šç¶“éå®Œæ•´çš„å®˜æ–¹æ–‡æª”é©—è­‰ï¼Œç¢ºä¿æ‰€æœ‰åŠŸèƒ½ã€æŒ‡ä»¤èˆ‡æ——æ¨™å‡ç‚º Anthropic å®˜æ–¹æ”¯æ´ã€‚é€éæ·±åº¦çµæ§‹åŒ–çš„çµ„ç¹”æ–¹å¼ï¼Œç„¡è«–æ˜¯ LLM æŸ¥è©¢é‚„æ˜¯äººå·¥é–±è®€ï¼Œéƒ½èƒ½å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€è³‡è¨Šã€‚

### ä½¿ç”¨å»ºè­°

1. **æ–°æ‰‹å…¥é–€**ï¼šæŒ‰åºé–±è®€å®‰è£ â†’ åŸºç¤æ“ä½œ â†’ å¸¸ç”¨æŒ‡ä»¤
2. **å¿«é€ŸæŸ¥è©¢**ï¼šä½¿ç”¨ç›®éŒ„å°èˆªæˆ–æœå°‹åŠŸèƒ½
3. **æ·±åº¦å­¸ç¿’**ï¼šåƒè€ƒå·¥ä½œæµç¨‹å’Œæœ€ä½³å¯¦è¸ç« ç¯€
4. **å•é¡Œè§£æ±º**ï¼šæŸ¥çœ‹ç–‘é›£æ’è§£åˆ†é¡ç´¢å¼•

### æŒçºŒæ›´æ–°

- ğŸ“… å®šæœŸåŒæ­¥å®˜æ–¹æ–‡æª”
- ğŸ” æŒçºŒé©—è­‰åŠŸèƒ½æº–ç¢ºæ€§
- ğŸ’¬ æ­¡è¿é€é GitHub Issues å›é¥‹
- ğŸŒ æ”¯æ´ç¤¾ç¾¤è²¢ç»èˆ‡äº¤æµ

---

**ğŸ“– Claude Code å®˜æ–¹é©—è­‰ä½¿ç”¨æ‰‹å†Š - æ‚¨çš„ AI è¼”åŠ©é–‹ç™¼æ¬Šå¨æŒ‡å—**

_åŸºæ–¼ Anthropic å®˜æ–¹æ–‡æª” | 100% å®˜æ–¹é©—è­‰ | æŒçºŒåŒæ­¥æ›´æ–°_
